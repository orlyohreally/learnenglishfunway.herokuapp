{"version":3,"sources":["webpack:///webpack/bootstrap 28691ffdbbd60799d15a","webpack:///./client/display.js","webpack:///./client/functions.js","webpack:///./client/index.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AChEA;AACA;AACA;AACA;AACA,C;;;;;;ACJA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,gBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;AAOA;AACA;AACA;AACA,wCAAwC;AACxC,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI,S;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,wQ;AACA;AACA;AACA;AACA;AACA,6Q;AACA;AACA,kR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,S;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,wE;AACA;;AAEA,IAAI,S;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD;AACvD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,cAAc;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,cAAc;AACd,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,0c;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ykB;AACA,0MAA0M;AAC1M;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,sBAAsB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,Y;AACA;AACA;AACA;AACA;AACA,wBAAwB,mBAAmB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,a;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC,mBAAmB;AACrD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB,kBAAkB;;AAElB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB,oBAAoB;AACtC;AACA;AACA,kBAAkB,kBAAkB;AACpC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,mBAAmB;AACrC;AACA;AACA;AACA;AACA;AACA,kBAAkB,WAAW;AAC7B;AACA,kBAAkB,eAAe;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,mBAAmB;AAC/B;AACA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,oBAAoB;AACpC;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,K;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,oBAAoB;AACvC;AACA;AACA,mBAAmB,kBAAkB;AACrC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA,mBAAmB,WAAW;AAC9B;AACA,mBAAmB,eAAe;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA,YAAY,gBAAgB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA,gBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,S;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,uB;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,kBAAkB,oBAAoB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,mBAAmB,oBAAoB;AACvC;AACA;AACA,mBAAmB,kBAAkB;AACrC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA,mBAAmB,WAAW;AAC9B;AACA,mBAAmB,eAAe;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA,YAAY,gBAAgB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA,gBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;AACA,6BAA6B,oBAAoB;AACjD;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wB;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,0BAA0B;AAC7C;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,0BAA0B;AAC7C;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,W;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,gBAAgB;AAC9B;AACA;AACA,UAAU,OAAO;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oD;AACA;AACA;AACA;AACA;AACA,M;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA,O;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA,gC;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4jB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAQ;;AAER;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,oBAAoB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,QAAQ;AACR,OAAO;AACP;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAQ;;AAER;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;;AAER;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,0C;AACA,SAAS;AACT;AACA;AACA,yC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,0C;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,0C;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,6BAA6B,oBAAoB;AACjD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,2N;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,6BAA6B,oBAAoB;;AAEjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,oBAAoB,sBAAsB;AAC1C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,c;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oCAAoC,2FAA2F;AAC/H;AACA;AACA;AACA;AACA,oCAAoC,wGAAwG;AAC5I;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qCAAqC,2EAA2E;AAChH;AACA;AACA;AACA;AACA,qCAAqC,wFAAwF;AAC7H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,mBAAmB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mB;;AAEA,O;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,SAAS;AACT,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,sBAAsB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,c;AACA;AACA;AACA;AACA;AACA,0BAA0B,mBAAmB;AAC7C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,sDAAsD;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA,GAAG;AACH;AACA;;;AAGA,CAAC;AACD,CAAC","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 28691ffdbbd60799d15a","module.exports= {\r\n\tfoo: function(str) {\r\n\t\tconsole.log(str);\r\n\t}\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/display.js\n// module id = 0\n// module chunks = 0","module.exports= {\n\trandomInteger: function (min, max) {\n\t\treturn Math.floor(Math.random() * (max - min) + min);\n\t},\n\tgetRandomArray: function (array, arrayB, size) {\n\t\t//console.log(\"array\", array);\n\t\tvar arrayA = array.slice(0);\n\t\t//console.log(arrayA);\n\t\tfor(var i = 0; i < size; i++){\n\t\t\tvar j = randomInteger(0, arrayA.length);\n\t\t\tarrayB[i] = arrayA[j];\n\t\t\tarrayA.splice(j, 1);\n\t\t\t//console.log(\"splicing in function\");\n\t\t}\n\t\treturn arrayB;\n\t}\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/functions.js\n// module id = 1\n// module chunks = 0","(function(){\r\n\t$(document).ready(function(){\r\n\t\tvar functions = require('./functions.js');\r\n\t\tconsole.log(\"functions:\",functions);\r\n\t\tconsole.log(functions.getRandomArray([1,2,3],[],1));\r\n\t\tvar Display = require('./display.js');\r\n\t\tDisplay.foo(\"hello\");\r\n\t\tvar ctx = document.getElementById(\"MainCanvas\").getContext(\"2d\");\r\n\t\tvar video;\r\n\t\t\r\n\t\t//video animals American accent https://www.youtube.com/watch?v=BfUoopDpmmY\r\n\t\t//video numbers from 1 to 10 \"british\" https://www.youtube.com/watch?v=dk9Yt1PqQiw&index=2&list=PL9811F95B184967D5\r\n\t\t//video numbers from 1 to 20 american https://www.youtube.com/watch?v=D0Ajq682yrA\r\n\t\t\r\n\t\t/************************************Resizing*******************************************************/\r\n\t\t\t\r\n\t\t\r\n\t\t\t\t\r\n\t\t$(window).resize(respondCanvas);\r\n\t\t\r\n\t\tvar Mode = {};\r\n\t\tvar Task = {};\r\n\t\tvar Rewards = {};\r\n\t\tvar MenuItem = {};\r\n\t\tvar Title = {};\r\n\t\tvar Profile = {};\r\n\t\tvar Thumbnails = [];\r\n\t\tvar currentVideoFrame = new Image();\r\n\t\tvar Quiz = {};\r\n\t\tQuiz.Content = [];\r\n\t\tMode.MenuItem  = true;\r\n\t\tMode.Tasks = false;\r\n\t\tMode.LogIn = false;\r\n\t\tMode.SignIn = false;\r\n\t\tMode.Exercise = false;\r\n\t\tMode.Results = false;\r\n\t\tMode.Quiz = false;\r\n\t\tMode.Menu = false;\r\n\t\t//Mode.Alphabetsong = false;\r\n\t\tMode.CountDown = false;\r\n\t\tMode.Mobile = false;\r\n\t\tMenuItem.height = 600;\r\n\t\tMenuItem.width = 1800;\r\n\t\tMenuItem.display = 2;\r\n\t\t//MenuItem.itemsCount = 5;\r\n\t\tMenuItem.firstItem = 0;\r\n\t\tMenuItem.size = 100;\r\n\t\tMenuItem.ItemList = {};\r\n\t\t//MenuItem.ItemList = [\"alphabet\", \"animals\", \"numbers\", \"sport\", \"toys\"];\r\n\t\tMenuItem.clicked = -1;\r\n\t\tMenuItem.chosen = MenuItem.clicked;\r\n\r\n\t\tTask.display = 4;\r\n\t\tTask.firstTask = 0;\r\n\t\tTask.test = [];\r\n\t\tTask.toTest = [];\r\n\t\tTask.Result = {};\r\n\t\tTask.Frames = {};\r\n\t\tTask.asked = {};\r\n\t\tvar frametype1, frametype2;\r\n\t\tTitle.width = 1800;\r\n\t\tTitle.height = 180;\r\n\t\t\r\n\r\n\t\tvar sound_on = true;\r\n\t\tvar playing = false;\r\n\r\n\t\tRewards.width = MenuItem.width;\r\n\t\tRewards.height = MenuItem.height / 5;\r\n\t\tRewards.size = 300;\r\n\r\n\t\tProfile.width = 540;\r\n\t\tProfile.height = 180;\r\n\t\t\r\n\t\tProfile.Accent = \"UK English Male\";\r\n\t\tNewAccent = Profile.Accent\r\n\t\tProfile.LoggedIn = false;\r\n\t\tkoef = 0.75;\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tvar c = $('#MainCanvas');\r\n\t\tvar ct = c.get(0).getContext('2d');\r\n\t\tvar container = $(c).parent();\r\n\t\tc.attr('width', $(container).width()); //max width\r\n\t\tc.attr('height', $(container).height() ); //max height\r\n\t\tScreen = {};\r\n\t\tScreen.width = $(container).width();\r\n\t\tScreen.height = $(container).height();\r\n\t\tMenuItem.rwidth = Screen.width;\r\n\t\tMenuItem.rheight = Screen.height * 0.6;\r\n\t\tScreen.k_width = MenuItem.rwidth / MenuItem.width;\r\n\t\tScreen.k_height =  MenuItem.rheight / MenuItem.height;\r\n\t\t\r\n\t\tfunction respondCanvas(){ \r\n\t\t\tMenuItem.display = 2;\r\n\t\t\tMenuItem.itemsCount = 5;\r\n\t\t\tMenuItem.size = 100;\r\n\t\t\ttry{\r\n\t\t\t\tProfile.UserName = document.getElementById(\"UserName\").value;\r\n\t\t\t\tProfile.Password = document.getElementById(\"Password\").value;\r\n\t\t\t\t$(\"#UserName\").remove();\r\n\t\t\t\t$(\"#Password\").remove();\r\n\t\t\t\t$(\"#inputdiv\").remove();\r\n\t\t\t}\r\n\t\t\tcatch(e){\r\n\t\t\t\tif(!Profile.LoggedIn) {\r\n\t\t\t\t\tProfile.UserName = \"\";\r\n\t\t\t\t\tProfile.Password = \"\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tc.attr('width', $(container).width()); //max width\r\n\t\t\tc.attr('height', $(container).height() ); //max height\r\n\t\t\tScreen.width = $(container).width();\r\n\t\t\tScreen.height = $(container).height();\r\n\t\t\tclearScreenRect(0, 0, Screen.width/Math.min(Screen.k_width, Screen.k_height), Screen.height/Math.min(Screen.k_width, Screen.k_height))\r\n\t\t\tMenuItem.rwidth = Screen.width;\r\n\t\t\tMenuItem.rheight = Screen.height * 0.6;\r\n\t\t\tScreen.k_width = MenuItem.rwidth / MenuItem.width;\r\n\t\t\tScreen.k_height =  MenuItem.rheight / MenuItem.height;\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t//white space starts\r\n\t\t\tif(Screen.width < 482 || Screen.height < 482) {\r\n\t\t\t\tconsole.log(\"small screen\", Screen.width, Screen.height);\r\n\t\t\t\tMode.Mobile = true;\r\n\t\t\t\tMenuItem.starts = 50 / Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t\tMenuItem.ends = Screen.height / Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tMode.Mobile = false;\r\n\t\t\t\tMenuItem.starts = 0.2 * Screen.height / Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t\tMenuItem.ends = 0.8 * Screen.height / Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tMenuItem.rheight = MenuItem.ends - MenuItem.starts;\r\n\t\t\t\r\n\t\t\t//выравнивание по вертикали\r\n\t\t\tA = (MenuItem.ends - MenuItem.starts) - 2 * 40;\r\n\t\t\t//выравнивание по горизонтали \r\n\t\t\tB = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - 2 * 40 - 2 * koef*100 - (MenuItem.display - 1) * 68) / (MenuItem.display);\r\n\t\t\t\r\n\t\t\tif(A < B){\r\n\t\t\t\tMenuItem.size = A;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tMenuItem.size = B;\r\n\t\t\t}\r\n\t\t\tif((MenuItem.starts - 2 * 20)/130*470 > Screen.width * 0.5 / Math.min(Screen.k_width, Screen.k_height)) {\r\n\t\t\t\tTitle.size = Screen.width * 0.5 / Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tTitle.size = (MenuItem.starts - 2 * 20)/130*470;\r\n\t\t\t}\r\n\t\t\t//menu items start\r\n\t\t\tMenuItem.topSpace = MenuItem.starts + (MenuItem.ends - MenuItem.starts - MenuItem.size) / 2;\r\n\t\t\tMenuItem.leftSpace = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - MenuItem.display * MenuItem.size - (MenuItem.display - 1) * 68 - 2 * 100*koef) / 4;\r\n\t\t\tif(!Math.floor(2 * MenuItem.topSpace / MenuItem.size) > 0 && Math.floor(2 * MenuItem.leftSpace / MenuItem.size) > 0) {\r\n\t\t\t\tMenuItem.display = MenuItem.display + Math.floor( 2 * MenuItem.leftSpace / MenuItem.size);\r\n\t\t\t\tif(MenuItem.display > MenuItem.itemsCount) {\r\n\t\t\t\t\tMenuItem.display = MenuItem.itemsCount;\r\n\t\t\t\t}\r\n\t\t\t\tMenuItem.leftSpace = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - MenuItem.display * MenuItem.size - (MenuItem.display - 1) * 68 - 2 * 100*koef) / 4;\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\tif(MenuItem.firstItem + MenuItem.display > MenuItem.itemsCount) {\r\n\t\t\t\tMenuItem.firstItem = MenuItem.itemsCount - MenuItem.display;\r\n\t\t\t}\r\n\t\t\tt_a_width = 100*0.5;\r\n\t\t\tTask.topSpace = (MenuItem.size - 2 * t_a_width - (Task.display) * (55/368*MenuItem.size + 10) + 10) / 2;\r\n\t\t\t\r\n\t\t\t//Title.leftSpace = MenuItem.leftSpace;\r\n\t\t\tTitle.leftSpace = 50;\r\n\t\t\t\r\n\t\t\tif(MenuItem.starts < Rewards.size){\r\n\t\t\t\tRewards.topSpace =  MenuItem.ends + (Rewards.size - MenuItem.starts ) / 2;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tRewards.topSpace = MenuItem.ends + (MenuItem.starts - Rewards.size) / 2;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tif(MenuItem.starts != MenuItem.starts) {\r\n\t\t\t\tRewards.topSpace = MenuItem.topSpace + MenuItem.size + 20;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tRewards.leftSpace = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - 4 * Rewards.size - 3 * 68) / 2\r\n\t\t\tif((MenuItem.starts - 2 * 20)/137*470 > Screen.width * 0.5 / Math.min(Screen.k_width, Screen.k_height)) {\r\n\t\t\t\tProfile.size_btn = 75/(228 + 6 * 75) * (3 * (Title.size *130/479) - 3 * 2 * 5 + 2 * 5)*228/75;\r\n\t\t\t} else {\r\n\t\t\t\tProfile.size_btn = 75/(228 + 6 * 75) * (3 * MenuItem.starts - 3 * 2 * 20 - 3 * 2 * 5 + 2 * 5)*228/75;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tinitMenu();\r\n\t\t\t\r\n\t\t\tctx.fillStyle=\"#000000\";\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t/************************************Resizing ended***********************************************/\r\n\t\t\r\n\t\tfunction loadThumbnail(name){\r\n\t\t\tThumbnails[name] = new Image;\r\n\t\t\tThumbnails[name].src = '/img/Alphabet/'+ name + ' thumbnail.png';\r\n\t\t\tThumbnails[name].addEventListener(\"load\", function() {\r\n\t\t\t\tthumbnailLoaded = true;\r\n\t\t\t}, false);\t\r\n\t\t}\r\n\t\tname = 'abc song';\r\n\t\tloadThumbnail(name);\r\n\t\tk1 = -1;\r\n\t\tfunction DrawMenuItem(i, j, pX, pY, pW, pH){\r\n\t\t\tvar X = 368 * i;\r\n\t\t\tvar Y = 0;\r\n\t\t\tvar W = 368;\r\n\t\t\tvar H = 368;\r\n\t\t\tvar frame = Properties.Topics[i].Frame;\r\n\t\t\tctx.drawImage(atlasMenuItem, frame.x, frame.y, frame.w, frame.h, pX * Math.min(Screen.k_width, Screen.k_height), pY * Math.min(Screen.k_width, Screen.k_height), pW * Math.min(Screen.k_width, Screen.k_height), pH * Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\tvar frame = Properties.Buttons['lock.png'];\r\n\t\t\tif(!Properties.Tasks[i].length) {\r\n\t\t\t\tdrawLock(pX + (pW - frame.w / frame.h * pH / 4) / 2, pY + (pH - pH / 4) / 2, frame.w / frame.h * pH / 4, pH / 4);\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar atlasMenuItem = new Image();\r\n\t\tfunction drawMenuItems(){\r\n\t\t\ttry{\r\n\t\t\t\tvar i = MenuItem.firstItem; //порядок в спрайте\r\n\t\t\t\tvar j = 0; // первая на экране\r\n\t\t\t\twhile(j < MenuItem.display){\r\n\t\t\t\t\tif(j != MenuItem.clicked - MenuItem.firstItem){\r\n\t\t\t\t\t\tvar pX = 2 * MenuItem.leftSpace + 100*koef + 68 * (j + 1) + MenuItem.size * j - 68;\r\n\t\t\t\t\t\tvar pY =  MenuItem.topSpace;\r\n\t\t\t\t\t\tpW = MenuItem.size;\r\n\t\t\t\t\t\tpH = MenuItem.size;\r\n\t\t\t\t\t\tDrawMenuItem(i, j, pX, pY, pW, pH);\r\n\t\t\t\t\t}\r\n\t\t\t\t\ti = i + 1;\r\n\t\t\t\t\tj = j + 1;\r\n\t\t\t\t}\r\n\t\t\t\tdocument.getElementById(\"Loading\").style.visibility = \"hidden\";\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\tcatch(e){};\r\n\t\t}\r\n\t\tMenuItem.loadedMenuItems;\r\n\t\tfunction loadMenuItems(){\r\n\t\t\tatlasMenuItem.src = '/img/Menu-Items/menu-items.png';\r\n\t\t\tatlasMenuItem.addEventListener(\"load\", function() {\r\n\t\t\t\tMenuItem.loadedMenuItems = true;\r\n\t\t\t\tdrawMenuItems();\r\n\t\t\t})\r\n\t\t}\r\n\t\tvar atlas = {};\r\n\t\tatlas.Animalsframe = new Image();\r\n\t\tTask.loadedAnimalsframe;\r\n\t\tfunction loadAnimals(){\r\n\t\t\tatlas.Animalsframe.src = '/img/Animals/animals.png';\r\n\t\t\tatlas.Animalsframe.addEventListener(\"load\", function() {\r\n\t\t\t\tTask.loadedAnimalsframe = true;\r\n\t\t\t})\r\n\t\t}\r\n\t\tatlas.AnimalsWordsframe = new Image();\r\n\t\tTask.loadedAnimalsWordsframe;\r\n\t\tfunction loadAnimalsWords(){\r\n\t\t\tatlas.AnimalsWordsframe.src = '/img/Animals/animal-words.png';\r\n\t\t\tatlas.AnimalsWordsframe.addEventListener(\"load\", function() {\r\n\t\t\t\tTask.loadedAnimalsWordsframe = true;\r\n\t\t\t})\r\n\t\t}\r\n\t\tatlas.Numbersframe = new Image();\r\n\t\tTask.loadedNumbersframe;\r\n\t\tfunction loadNumbers(){\r\n\t\t\tatlas.Numbersframe.src = '/img/Numbers/numbers.png';\r\n\t\t\tatlas.Numbersframe.addEventListener(\"load\", function() {\r\n\t\t\t\tTask.loadedNumbersframe = true;\r\n\t\t\t})\r\n\t\t}\r\n\t\tatlas.NumbersWordsframe = new Image();\r\n\t\tTask.loadedNumbersWordsframe;\r\n\t\tfunction loadNumbersWords(){\r\n\t\t\tatlas.NumbersWordsframe.src = '/img/Numbers/number-words.png';\r\n\t\t\tatlas.NumbersWordsframe.addEventListener(\"load\", function() {\r\n\t\t\t\tTask.loadedNumbersWordsframe = true;\r\n\t\t\t})\r\n\t\t}\r\n\t\tvar atlasLetters = new Image();\r\n\t\tTask.loadedLetters;\r\n\t\tfunction loadLetters(){\r\n\t\t\tatlasLetters.src = '/img/Alphabet/letters.png';\r\n\t\t\tatlasLetters.addEventListener(\"load\", function() {\r\n\t\t\t\tTask.loadedLetters = true;\r\n\t\t\t})\r\n\t\t}\r\n\t\tfunction clearMenuItemRect(x, y, width, height) {\r\n\t\t\tctx.clearRect(x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height) , width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height));\r\n\t\t}\r\n\t\tfunction clearScreenRect(x, y, width, height) {\r\n\t\t\tctx.clearRect(x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height) , width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height));\r\n\t\t}\r\n\t\t\r\n\t\tfunction drawLeftArrow(x, y, width, height) {\r\n\t\t\tvar frame = Properties.Buttons[\"left-arrow.png\"];\r\n\t\t\tctx.drawImage(atlasButtons, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height));\r\n\t\t}\r\n\r\n\t\tfunction drawRightArrow(x, y, width, height){\r\n\t\t\tvar frame = Properties.Buttons[\"right-arrow.png\"];\r\n\t\t\tctx.drawImage(atlasButtons, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height));\t\t\r\n\t\t}\r\n\t\tfunction drawTitle(x, y, width, height){\r\n\t\t\tvar frame = Properties.Buttons[\"title.png\"];\r\n\t\t\tif(!Mode.Mobile)\r\n\t\t\t\tctx.drawImage(atlasButtons, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height) , y * Math.min(Screen.k_width, Screen.k_height) , width * Math.min(Screen.k_width, Screen.k_height) , height * Math.min(Screen.k_width, Screen.k_height) );\t\t\t\r\n\t\t\telse\r\n\t\t\t\tMenu_ctx.drawImage(atlasButtons, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height) , y * Math.min(Screen.k_width, Screen.k_height) , width * Math.min(Screen.k_width, Screen.k_height) , height * Math.min(Screen.k_width, Screen.k_height) );\t\t\t\r\n\t\t}\r\n\t\tfunction drawLock(x, y, width, height) {\r\n\t\t\tvar frame = Properties.Buttons[\"lock.png\"];\r\n\t\t\tctx.drawImage(atlasButtons, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height));\r\n\t\t}\r\n\t\tfunction drawMenuButton(x, y, width, height) {\r\n\t\t\tvar frame = Properties.Buttons[\"menu_btn.png\"];\r\n\t\t\tctx.drawImage(atlasButtons, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height));\r\n\t\t}\r\n\t\tfunction drawRewardsButton(x, y, width, height){\r\n\t\t\tvar frame = Properties.Buttons[\"rewards_btn.png\"];\r\n\t\t\tctx.drawImage(atlasButtons, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawProgressButton(x, y, width, height){\r\n\t\t\tvar frame = Properties.Buttons[\"progress_btn.png\"];\r\n\t\t\tctx.drawImage(atlasButtons, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawPhrasesButton(x, y, width, height){\r\n\t\t\tvar frame = Properties.Buttons[\"phrase_of_the_day_btn.png\"];\r\n\t\t\tctx.drawImage(atlasButtons, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawQuizButton(x, y, width, height){\r\n\t\t\tvar frame = Properties.Buttons[\"quiz_btn.png\"];\r\n\t\t\tctx.drawImage(atlasButtons, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawLogInButton(x, y, width,height){\r\n\t\t\tvar frame = Properties.Buttons[\"login_btn.png\"];\r\n\t\t\tif(!Mode.Mobile)\r\n\t\t\t\tctx.drawImage(atlasButtons, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t\telse\r\n\t\t\t\tMenu_ctx.drawImage(atlasButtons, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawSignInButton(x, y, width,height){\r\n\t\t\tvar frame = Properties.Buttons[\"sign_up_btn.png\"];\r\n\t\t\tctx.drawImage(atlasButtons, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawSoundOnButton(x, y, width,height){\r\n\t\t\tvar frame = Properties.Buttons[\"sound_on.png\"];\r\n\t\t\tctx.drawImage(atlasButtons, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawSoundOffButton(x, y, width,height){\r\n\t\t\tvar frame = Properties.Buttons[\"sound_off.png\"];\r\n\t\t\tctx.drawImage(atlasButtons, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawPlayButton(x, y, width,height){\r\n\t\t\tvar frame = Properties.Buttons[\"play_btn.png\"];\r\n\t\t\tctx.drawImage(atlasButtons, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawStopButton(x, y, width,height){\r\n\t\t\tvar frame = Properties.Buttons[\"stop_btn.png\"];\r\n\t\t\tctx.drawImage(atlasButtons, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawPauseButton(x, y, width,height){\r\n\t\t\tvar frame = Properties.Buttons[\"pause_btn.png\"];\r\n\t\t\tctx.drawImage(atlasButtons, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawExitButton(x, y, width,height){\r\n\t\t\tvar frame = Properties.Buttons[\"exit_btn.png\"];\r\n\t\t\tctx.drawImage(atlasButtons, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawRestartButton(x, y, width,height){\r\n\t\t\tvar frame = Properties.Buttons[\"restart_btn.png\"];\r\n\t\t\tctx.drawImage(atlasButtons, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawHelpButton(x, y, width,height){\r\n\t\t\tvar frame = Properties.Buttons[\"help_btn.png\"];\r\n\t\t\tctx.drawImage(atlasButtons, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawInfoButton(x, y, width,height){\r\n\t\t\tvar frame = Properties.Buttons[\"info_btn.png\"];\r\n\t\t\tctx.drawImage(atlasButtons, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawSignInForm(x, y, width, height) {\r\n\t\t\tdrawMenuItems()\r\n\t\t\tvar frame = Properties.Forms[\"sign_in_form.png\"];\r\n\t\t\tctx.drawImage(atlasForms, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawResultForm(x, y, width, height) {\r\n\t\t\tvar frame = Properties.Forms[\"result_form.png\"];\r\n\t\t\tctx.drawImage(atlasForms, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawResultOkayButton(x, y, width, height) {\r\n\t\t\tvar frame = Properties.Forms[\"result_form_okay_btn.png\"];\r\n\t\t\tctx.drawImage(atlasForms, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawResultTryAgainButton(x, y, width, height) {\r\n\t\t\tvar frame = Properties.Forms[\"result_form_try_again_btn.png\"];\r\n\t\t\tctx.drawImage(atlasForms, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawDigit(n, x, y, width, height, type = \"\") {\r\n\t\t\tif(type != \"\")\r\n\t\t\t\ttype = type + \"-\";\r\n\t\t\tvar frame = Properties.Numbers[type + n + \".png\"];\r\n\t\t\tctx.drawImage(atlas.Numbersframe, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawLetter(n, x, y, width, height, type = \"\") {\r\n\t\t\tif(type != \"\")\r\n\t\t\t\ttype = type + \"-\";\r\n\t\t\tvar frame = Properties.Letters[type + n + \".png\"];\r\n\t\t\tctx.drawImage(atlasLetters, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawLogInForm(x, y, width, height) {\r\n\t\t\tvar frame = Properties.Forms[\"log_in_form.png\"];\r\n\t\t\tctx.drawImage(atlasForms, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawLogInCancelButton(x, y, width, height) {\r\n\t\t\tvar frame = Properties.Forms[\"log_in_form_cancel_btn.png\"];\r\n\t\t\tctx.drawImage(atlasForms, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawLogInLogInButton(x, y, width, height) {\r\n\t\t\tvar frame = Properties.Forms[\"log_in_form_login_btn.png\"];\r\n\t\t\tctx.drawImage(atlasForms, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawSignInSignInButton(x, y, width, height) {\r\n\t\t\tvar frame = Properties.Forms[\"sign_in_form_signin_btn.png\"];\r\n\t\t\tctx.drawImage(atlasForms, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawSignInSaveButton(x, y, width, height) {\r\n\t\t\tvar frame = Properties.Forms[\"sign_in_form_save_btn.png\"];\r\n\t\t\tctx.drawImage(atlasForms, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawSignInCancelButton(x, y, width, height) {\r\n\t\t\tvar frame = Properties.Forms[\"sign_in_form_cancel_btn.png\"];\r\n\t\t\tctx.drawImage(atlasForms, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawProfilePicture(x, y, width, height) {\r\n\t\t\tvar frame = Properties.Buttons[\"profile_girl1.png\"];\r\n\t\t\tctx.drawImage(atlasButtons, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\t\r\n\t\tfunction drawCorrect(x, y, width, height) {\r\n\t\t\tvar frame = Properties.Buttons[\"correct.png\"];\r\n\t\t\tctx.drawImage(atlasButtons, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawWrong(x, y, width, height) {\r\n\t\t\tvar frame = Properties.Buttons[\"wrong.png\"];\r\n\t\t\tctx.drawImage(atlasButtons, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawRedHeart(x, y, width, height) {\r\n\t\t\tvar frame = Properties.Buttons[\"red-heart.png\"];\r\n\t\t\tctx.drawImage(atlasButtons, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawHeart(x, y, width, height) {\r\n\t\t\tvar frame = Properties.Buttons[\"heart.png\"];\r\n\t\t\tctx.drawImage(atlasButtons, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawDarkStar(x, y, width, height) {\r\n\t\t\tvar frame = Properties.Buttons[\"dark-star.png\"];\r\n\t\t\tctx.drawImage(atlasButtons, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawStar(x, y, width, height) {\r\n\t\t\tvar frame = Properties.Buttons[\"star.png\"];\r\n\t\t\tctx.drawImage(atlasButtons, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawTap(x, y, width, height) {\r\n\t\t\tvar frame = Properties.Buttons[\"tap.png\"];\r\n\t\t\tctx.drawImage(atlasButtons, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawDrag(x, y, width, height) {\r\n\t\t\tvar frame = Properties.Buttons[\"drag-flick.png\"];\r\n\t\t\tctx.drawImage(atlasButtons, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawHold(x, y, width, height) {\r\n\t\t\tvar frame = Properties.Buttons[\"touch-and-hold.png\"];\r\n\t\t\tctx.drawImage(atlasButtons, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction drawSkip(x, y, width, height) {\r\n\t\t\tvar frame = Properties.Buttons[\"skip.png\"];\r\n\t\t\tctx.drawImage(atlasButtons, frame.x, frame.y, frame.w, frame.h, x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction fillRect(x, y, width, height) {\r\n\t\t\tctx.fillRect(x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction clearRect(x, y, width, height) {\r\n\t\t\tctx.clearRect(x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction fillRectYellow(x, y, width, height) {\r\n\t\t\tctx.fillStyle=\"#F7FE2E\";\r\n\t\t\tctx.fillRect(x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction fillRectGreen(x, y, width, height) {\r\n\t\t\tctx.fillStyle=\"#7cc576\";\r\n\t\t\tctx.fillRect(x * Math.min(Screen.k_width, Screen.k_height), y * Math.min(Screen.k_width, Screen.k_height), width * Math.min(Screen.k_width, Screen.k_height), height * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t}\r\n\t\tfunction PointInRect(Point, Rect) {\r\n\t\t\tif(Point.x >= Rect.x* Math.min(Screen.k_width, Screen.k_height) && Point.x <= (Rect.x + Rect.w)* Math.min(Screen.k_width, Screen.k_height) && Point.y >= Rect.y * Math.min(Screen.k_width, Screen.k_height) && Point.y <= (Rect.y + Rect.h)* Math.min(Screen.k_width, Screen.k_height))\r\n\t\t\t\treturn true\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tfunction mouseInRect(x, y, width, height) {\r\n\t\t\tif(mouseX >= x* Math.min(Screen.k_width, Screen.k_height) && mouseX <= (x + width)* Math.min(Screen.k_width, Screen.k_height) && mouseY >= y* Math.min(Screen.k_width, Screen.k_height) && mouseY <= (y + height)* Math.min(Screen.k_width, Screen.k_height))\r\n\t\t\t\treturn true\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tfunction speak(Word) {\r\n\t\t\ttry {\r\n\t\t\t\tif(sound_on)\r\n\t\t\t\t\tresponsiveVoice.speak(Word, Profile.Accent);\r\n\t\t\t}\r\n\t\t\tcatch(e){};\r\n\t\t}\r\n\t\t/*function speak(Word) {\r\n\t\t\tvar w = new SpeechSynthesisUtterance();\r\n\t\t\tw.text = Word;\r\n\t\t\tw.lang = 'en-US';\r\n\t\t\tspeechSynthesis.speak(w);\r\n\t\t}*/\r\n\t\tvar Forms_loaded = false;\r\n\t\tvar atlasForms = new Image();\r\n\t\tfunction loadForms(){\r\n\t\t\tatlasForms.src = '/img/Forms/forms.png';\r\n\t\t\tatlasForms.addEventListener(\"load\", function() {\r\n\t\t\t\tForms_loaded = true;\r\n\t\t\t}, false);\t\r\n\t\t}\r\n\t\tvar atlasButtons = new Image();\r\n\r\n\t\tvar loadedButtons;\r\n\t\tfunction loadButtons(/*l_a_x, l_a_y, l_a_width, l_a_height, r_a_x, r_a_y, r_a_width, r_a_height*/){\r\n\t\t\tatlasButtons.src = '/img/Menu-Items/buttons.png';\r\n\t\t\tatlasButtons.addEventListener(\"load\", function() {\r\n\t\t\t\t\t//drawButtons(l_a_x, l_a_y, l_a_width, l_a_height, r_a_x, r_a_y, r_a_width, r_a_height);\r\n\t\t\t\t\t//title\r\n\t\t\t\t\t//drawTitle(Title.leftSpace, 20, Title.size, Title.size * 130/470);\t\r\n\t\t\t\t\tloadedButtons  = true;\r\n\t\t\t\t\t\r\n\t\t\t}, false);\t\r\n\t\t}\r\n\t\t\t\t\r\n\t\tfunction drawButtons(l_a_x, l_a_y, l_a_width, l_a_height, r_a_x, r_a_y, r_a_width, r_a_height) {\r\n\t\t\tif(Mode.MenuItem) {\r\n\t\t\t\t//left arrow\r\n\t\t\t\tif(MenuItem.firstItem) {\r\n\t\t\t\t\tdrawLeftArrow(l_a_x, l_a_y, l_a_width, l_a_height);\r\n\t\t\t\t}\r\n\t\t\t\t//right arrow\r\n\t\t\t\tif(MenuItem.firstItem + MenuItem.display < MenuItem.itemsCount) {\r\n\t\t\t\t\tdrawRightArrow(r_a_x, r_a_y, r_a_width, r_a_height);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(!Mode.Mobile) {\r\n\t\t\t\tif(!Mode.Exercise) {\r\n\t\t\t\t\tfillRectYellow(0, MenuItem.ends, Screen.width/ Math.min(Screen.k_width, Screen.k_height), 1000)\r\n\t\t\t\t\t//Rewards\r\n\t\t\t\t\tdrawRewardsButton(Rewards.leftSpace, Rewards.topSpace, Rewards.size, Rewards.size*75/228)\r\n\t\t\t\t\t//Progress button\r\n\t\t\t\t\tdrawProgressButton(Rewards.leftSpace + Rewards.size + 68, Rewards.topSpace, Rewards.size, Rewards.size*75/228);\r\n\t\t\t\t\t//Phrases button\r\n\t\t\t\t\tdrawPhrasesButton(Rewards.leftSpace + Rewards.size + 68 + Rewards.size + 68, Rewards.topSpace, Rewards.size, Rewards.size*75/228);\r\n\t\t\t\t\t//Quiz button\r\n\t\t\t\t\tdrawQuizButton(Rewards.leftSpace + Rewards.size + 68 + Rewards.size + 68 + Rewards.size + 68, Rewards.topSpace, Rewards.size, Rewards.size*75/228);\r\n\t\t\t\t\tdrawQuizButton(Rewards.leftSpace + Rewards.size + 68 + Rewards.size + 68 + Rewards.size + 68, Rewards.topSpace, Rewards.size, Rewards.size*75/228);\r\n\t\t\t\t}\r\n\t\t\t\tif(!Profile.LoggedIn) {\r\n\t\t\t\t\t//Log in button\r\n\t\t\t\t\tdrawLogInButton((Screen.width )/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace, 20, Profile.size_btn, Profile.size_btn*75/228);\r\n\t\t\t\t\t//Sign in button\r\n\t\t\t\t\tdrawSignInButton((Screen.width )/ Math.min(Screen.k_width, Screen.k_height) -  Profile.size_btn - Title.leftSpace, (20 + 5) + Profile.size_btn*75/228, Profile.size_btn, Profile.size_btn*75/228);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tdrawProfilePicture(((Screen.width )/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace) + Profile.size_btn * 1/ 6, 20, Profile.size_btn * 2/3, Profile.size_btn * 2/ 3);\r\n\t\t\t\t}\r\n\t\t\t\t//Sound on button\r\n\t\t\t\t\r\n\t\t\t\tif(sound_on)\r\n\t\t\t\t\tdrawSoundOnButton((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace, (20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5, (Profile.size_btn - 2*5) / 3, (Profile.size_btn - 2*5) / 3);\r\n\t\t\t\telse\r\n\t\t\t\t\tdrawSoundOffButton((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace, (20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5, (Profile.size_btn - 2*5) / 3, (Profile.size_btn - 2*5) / 3);\r\n\t\t\t\t//Help button\r\n\t\t\t\tdrawHelpButton((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace + (Profile.size_btn - 2 * 5)/3 + 5, (20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5, (Profile.size_btn - 2 * 5) / 3, (Profile.size_btn - 2 * 5) / 3)\t\t\r\n\t\t\t\t//Info button\r\n\t\t\t\tdrawInfoButton((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace + 5 + (Profile.size_btn - 2 * 5)/3 + (Profile.size_btn - 2 * 5)/3 + 5, (20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5, (Profile.size_btn - 2*5) / 3, (Profile.size_btn - 2*5) / 3);\r\n\t\t\t}\r\n\t\t\tdelete l_a_x, l_a_y, l_a_width, l_a_height, r_a_x, r_a_y, r_a_width, r_a_height;\r\n\t\t}\r\n\t\t/************************************Starting*******************************************************/\r\n\t\t\r\n\t\tfunction showForms() {\r\n\t\t\tif(Mode.LogIn){\r\n\t\t\t\tshowLogInForm()\r\n\t\t\t}\r\n\t\t\telse if(Mode.SignIn) {\r\n\t\t\t\tshowSignInForm()\r\n\t\t\t}\r\n\t\t}\r\n\t\tfunction readyToShowForms() {\r\n\t\t\tif(MenuItem.loadedMenuItems && loadedButtons) {\r\n\t\t\t\tshowForms()\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\treadyToShowForms()\r\n\t\t\t\t}, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t\tfunction checkLoadButtons(l_a_x, l_a_y, l_a_width, l_a_height, r_a_x, r_a_y, r_a_width, r_a_height) {\r\n\t\t\tif(loadedButtons) {\r\n\t\t\t\tdrawButtons(l_a_x, l_a_y, l_a_width, l_a_height, r_a_x, r_a_y, r_a_width, r_a_height);\r\n\t\t\t\t//title\r\n\t\t\t\tif(!Mode.Mobile) {\r\n\t\t\t\t\tdrawTitle(Title.leftSpace, 20, Title.size, Title.size*130/470);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tvar frame = Properties.Buttons[\"menu_btn.png\"];\r\n\t\t\t\t\tvar MenuFrame = {};\r\n\t\t\t\t\tMenuFrame.x = Title.leftSpace;\r\n\t\t\t\t\tMenuFrame.y = 20;\r\n\t\t\t\t\tMenuFrame.h = MenuItem.starts - 2 * 20;\r\n\t\t\t\t\tMenuFrame.w = frame.w / frame.h * MenuFrame.h;\r\n\t\t\t\t\tdrawMenuButton(MenuFrame.x, MenuFrame.y, MenuFrame.w, MenuFrame.h);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tloadButtons(/*l_a_x, l_a_y, l_a_width, l_a_height, r_a_x, r_a_y, r_a_width, r_a_height*/);\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\tcheckLoadButtons(l_a_x, l_a_y, l_a_width, l_a_height, r_a_x, r_a_y, r_a_width, r_a_height);\r\n\t\t\t\t}, 10);\r\n\t\t\t}\r\n\t\t}\r\n\t\tfunction drawHeader() {\r\n\t\t\tctx.fillStyle=\"#F7FE2E\";\r\n\t\t\tctx.fillRect(0, 0, Screen.width, MenuItem.starts * Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\tif(!Mode.Exercise && !Mode.Mobile)\r\n\t\t\t\tctx.fillRect(0, MenuItem.ends, Screen.width, Screen.height - MenuItem.ends * Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\r\n\t\t\tvar l_a_x = MenuItem.leftSpace;\r\n\t\t\tvar l_a_width = 100*koef;\r\n\t\t\tvar l_a_height = koef*100*226/152;\r\n\t\t\tvar l_a_y =  MenuItem.topSpace + MenuItem.size / 2 - l_a_height / 2;\r\n\t\t\t\r\n\t\t\tvar r_a_height = koef*100*226/152;\r\n\t\t\tvar r_a_y =  MenuItem.topSpace + MenuItem.size / 2 - r_a_height / 2;\r\n\t\t\tvar r_a_width = koef*100;\r\n\t\t\tvar r_a_x = MenuItem.rwidth / Math.min(Screen.k_width, Screen.k_height) - MenuItem.leftSpace - r_a_width;\r\n\t\t\tcheckLoadButtons(l_a_x, l_a_y, l_a_width, l_a_height, r_a_x, r_a_y, r_a_width, r_a_height);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif(Profile.LoggedIn) {\r\n\t\t\t\tclearScreenRect((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - MenuItem.leftSpace, 20, Profile.size_btn, Profile.size_btn*75/228);\r\n\t\t\t\tclearScreenRect((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - MenuItem.leftSpace - 2, (20 + 5) + Profile.size_btn*75/228 - 2, Profile.size_btn + 4, Profile.size_btn*75/228 + 4)\r\n\t\t\t\tfillRectYellow((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - MenuItem.leftSpace, 20, Profile.size_btn, Profile.size_btn*75/228);\r\n\t\t\t\tfillRectYellow((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - MenuItem.leftSpace - 2, (20 + 5) + Profile.size_btn*75/228 - 2, Profile.size_btn + 4, Profile.size_btn*75/228 + 4)\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tdrawProfilePicture(((Screen.width )/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace) + Profile.size_btn * 1/ 6, 20, Profile.size_btn * 2/3, Profile.size_btn * 2/ 3)\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\tfunction initMenu() {\r\n\t\t\tif(!Mode.Exercise) {\r\n\t\t\t\tdrawHeader();\r\n\t\t\t\tif(MenuItem.loadedMenuItems) {\r\n\t\t\t\t\tdrawMenuItems();\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tloadMenuItems();\r\n\t\t\t\t}\r\n\t\t\t\tif(MenuItem.clicked > -1) {\r\n\t\t\t\t\t//console.log(Task.firstTask);\r\n\t\t\t\t\t//Task.firstTask = 0;\r\n\t\t\t\t\tMenuItemClicked(MenuItem.clicked);\r\n\t\t\t\t\tconsole.log(Task.firstTask);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif(Mode.Exercise && !Mode.MusicVideo && !Mode.Results) {\r\n\t\t\t\t\tdocument.getElementById(\"Loading\").style.visibility = \"hidden\";\r\n\t\t\t\t\tdrawHeader();\r\n\t\t\t\t\tdrawTest();\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse if(!Mode.MusicVideo){\r\n\t\t\t\t\tdocument.getElementById(\"Loading\").style.visibility = \"hidden\";\r\n\t\t\t\t\tdrawHeader();\r\n\t\t\t\t\tshowResultForm(Task.Result.Answers, Task.Total, Task.MaxPoint);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(Mode.MusicVideo) {\r\n\t\t\t\t\tdrawHeader();\r\n\t\t\t\t\tvar size_btn = 70;\r\n\t\t\t\t\tdrawExitButton(Screen.width / Math.min(Screen.k_width, Screen.k_height) - Title.leftSpace - size_btn, MenuItem.starts + 20, size_btn, size_btn);\r\n\t\t\t\t\tdisplayVideo();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tloadForms();\r\n\t\t\tloadNumbers();\r\n\t\t\tloadLetters();\r\n\t\t\treadyToShowForms();\r\n\t\t\tloadButtons();\r\n\t\t}\r\n\r\n\t\tvar mouseX;\r\n\t\tvar mouseY;\r\n\t\t\t\r\n\t\tMainCanvas.addEventListener(\"touchmove\", checkPosMenuItem, false);\r\n\t\tMainCanvas.addEventListener(\"mousemove\", checkPosMenuItem);\r\n\t\tfunction checkPosMenuItem(mouseEvent){\r\n\t\t\tevent.preventDefault();\r\n\t\t\ttry {\r\n\t\t\t\tvar touch = mouseEvent.changedTouches[0];\r\n\t\t\t\tvar rect = MainCanvas.getBoundingClientRect();\r\n\t\t\t\tvar scaleX = MainCanvas.width / rect.width;\r\n\t\t\t\tvar scaleY = MainCanvas.height / rect.height;\r\n\t\t\t\tmouseX = (touch.clientX - rect.left) * scaleX;   // scale mouse coordinates after they have\r\n\t\t\t\tmouseY = (touch.clientY - rect.top) * scaleY;\r\n\t\t\t}\r\n\t\t\tcatch(e) {\r\n\t\t\tvar rect = MainCanvas.getBoundingClientRect(),\r\n\t\t\t\tscaleX = MainCanvas.width / rect.width;\r\n\t\t\t\tscaleY = MainCanvas.height / rect.height;\r\n\t\t\t\tmouseX = (mouseEvent.clientX - rect.left) * scaleX;   // scale mouse coordinates after they have\r\n\t\t\t\tmouseY = (mouseEvent.clientY - rect.top) * scaleY;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tHoverMenuItem(mouseX, mouseY);\r\n\t\t}\r\n\t\t\r\n\t\tfunction SignInNewUser(Profile) {\r\n\t\t\tsocket.emit('newUser', {\r\n\t\t\t\tUser: Profile\r\n\t\t\t})\r\n\t\t\tsocket.on('newUser', function(data){\r\n\t\t\t\treturn data.res;\r\n\t\t\t})\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tfunction checkProfileData(UserName, Password) {\r\n\t\t\t\r\n\t\t\tif(Password != \"\" && UserName != \"\")\r\n\t\t\t\treturn true;\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tfunction checkPoint(Point, Array) {\r\n\t\t\tvar i = 0;\r\n\t\t\twhile(i < Array.length) {\r\n\t\t\t\tif(PointInRect(Point, Array[i])) {\r\n\t\t\t\t\treturn i;\r\n\t\t\t\t\ti = Array.length + 1;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\ti++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn i;\r\n\t\t}\r\n\t\tfunction countCorrect(Answers) {\r\n\t\t\tvar count = 0;\r\n\t\t\tvar a = Answers.slice(0);\r\n\t\t\tfor( var i = 0; i < a.length; i++) {\r\n\t\t\t\tif(a[i].Attempts > 0)\r\n\t\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t\treturn count;\r\n\t\t}\r\n\t\tvar k = -1;\r\n\t\tvar k1 = -1;\r\n\t\tvar k2 = -1; // hovering what word\r\n\t\tvar k3 = -1; //pressing what word\r\n\t\tvar Pressed = {}; //for coordinates of clicked point\r\n\t\tvar l_a_ch = false;\r\n\t\tvar r_a_ch = false;\r\n\t\tvar login_ch = false;\r\n\t\tvar signin_ch = false;\r\n\t\tvar rewards_ch = false;\r\n\t\tvar progress_ch = false;\r\n\t\tvar phrases_ch = false;\r\n\t\tvar quiz_ch = false;\r\n\t\tvar sound_ch = false;\r\n\t\tvar help_ch = false;\r\n\t\tvar task_ch = false;\r\n\t\tvar b_a_ch = false;\r\n\t\tvar t_a_ch = false;\r\n\t\tvar info_ch = false;\r\n\t\tvar log_in_btn = false;\r\n\t\tvar cancel_btn = false;\r\n\t\tvar info_ch = false;\r\n\t\tvar sign_in_btn = false;\r\n\t\tvar cancel_btn = false;\r\n\t\tvar play_btn_ch = false;\r\n\t\tvar pause_btn_ch = false;\r\n\t\tvar stop_btn_ch = false;\r\n\t\tvar restart_btn_ch = false;\r\n\t\tvar exit_btn_ch = false;\r\n\t\tvar word_ch = false;\r\n\t\tvar try_again_ch = false;\r\n\t\tvar okay_ch = false;\r\n\t\tvar skip_ch = false;\r\n\t\tvar menu_btn_ch = false;\r\n\t\tfunction HoverMenuItem(mouseX, mouseY){\r\n\t\t\tif(Mode.MenuItem && MenuItem.firstItem > 0) {\r\n\t\t\t\tif (!(l_a_ch) && mouseX >= Math.min(Screen.k_width, Screen.k_height) * MenuItem.leftSpace && mouseX <= Math.min(Screen.k_width, Screen.k_height) * (MenuItem.leftSpace + koef*100) && mouseY >=  Math.min(Screen.k_width, Screen.k_height) * ( MenuItem.topSpace + MenuItem.size / 2 - l_a_height / 2)  && mouseY <= Math.min(Screen.k_width, Screen.k_height) * ( MenuItem.topSpace + MenuItem.size / 2 - l_a_height / 2 + koef*100*226/152) ) {\t\r\n\t\t\t\t\tl_a_x = MenuItem.leftSpace;\r\n\t\t\t\t\tl_a_width = 100*koef;\r\n\t\t\t\t\tl_a_height = koef*100*226/152;\r\n\t\t\t\t\tl_a_y =  MenuItem.topSpace + MenuItem.size / 2 - l_a_height / 2;\r\n\t\t\t\t\t\r\n\t\t\t\t\tclearMenuItemRect(l_a_x, l_a_y , l_a_width, l_a_height);\r\n\t\t\t\t\tvar dx = -5;\r\n\t\t\t\t\tvar dy = -5;\r\n\t\t\t\t\tvar dw = 10;\r\n\t\t\t\t\tvar dh = 10;\r\n\t\t\t\t\tdrawLeftArrow(l_a_x + dx, l_a_y + dy, l_a_width + dw, l_a_height + dh);\r\n\t\t\t\t\tl_a_ch = true;\r\n\t\t\t\t\tdelete l_a_x, l_a_y, l_a_width, l_a_height, r_a_x, r_a_y, r_a_width, r_a_height;\r\n\t\t\t\t}else if ((l_a_ch) && !(mouseX >= Math.min(Screen.k_width, Screen.k_height) * (MenuItem.leftSpace - 5) && mouseX <= Math.min(Screen.k_width, Screen.k_height) * (MenuItem.leftSpace + koef*100 + 5) && mouseY >=  Math.min(Screen.k_width, Screen.k_height) * ( MenuItem.topSpace + MenuItem.size / 2 - l_a_height / 2 - 5)  && mouseY <= Math.min(Screen.k_width, Screen.k_height) * ( MenuItem.topSpace + MenuItem.size / 2 - l_a_height / 2 + koef*100*226/152 + 5) )) {\t\r\n\t\t\t\t\tvar dx = -5;\r\n\t\t\t\t\tvar dy = -5;\r\n\t\t\t\t\tvar dw = 10;\r\n\t\t\t\t\tvar dh = 10;\r\n\t\t\t\t\tclearMenuItemRect((MenuItem.leftSpace + dx),  (MenuItem.topSpace + MenuItem.size / 2 - l_a_height / 2 + dy) , (koef*100 + dw), (koef*100*226/152 + dh));\r\n\t\t\t\t\tdrawLeftArrow(MenuItem.leftSpace ,  MenuItem.topSpace + MenuItem.size / 2 - l_a_height / 2 , koef*100, koef*100*226/152);\r\n\t\t\t\t\tl_a_ch = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//right arrow is hovered\r\n\t\t\tif(Mode.MenuItem && (MenuItem.firstItem + MenuItem.display < MenuItem.itemsCount)){\r\n\t\t\t\t\tvar r_a_height = koef*100*226/152;\r\n\t\t\t\t\tvar\tr_a_y =  MenuItem.topSpace + MenuItem.size / 2 - r_a_height / 2;\r\n\t\t\t\t\tvar r_a_width = koef*100;\r\n\t\t\t\t\tvar r_a_x = MenuItem.rwidth / Math.min(Screen.k_width, Screen.k_height) - MenuItem.leftSpace - r_a_width;\r\n\t\t\t\tif (!(r_a_ch) && mouseX >= Math.min(Screen.k_width, Screen.k_height) * (MenuItem.rwidth / Math.min(Screen.k_width, Screen.k_height) - MenuItem.leftSpace - 100*koef) && mouseX <= Math.min(Screen.k_width, Screen.k_height) * (MenuItem.rwidth / Math.min(Screen.k_width, Screen.k_height) - MenuItem.leftSpace - 100*koef + koef*100) && mouseY >=  Math.min(Screen.k_width, Screen.k_height) * ( MenuItem.topSpace + MenuItem.size / 2 - r_a_height / 2)  && mouseY <= Math.min(Screen.k_width, Screen.k_height) * ( MenuItem.topSpace + MenuItem.size / 2 - r_a_height / 2 + koef*100*226/152) ) {\t\r\n\t\t\t\t\tclearMenuItemRect(MenuItem.rwidth / Math.min(Screen.k_width,  Screen.k_height) - MenuItem.leftSpace - koef*100, MenuItem.topSpace + MenuItem.size / 2 - r_a_height / 2 , koef*100, koef*100*226/152);dx = -5;\r\n\t\t\t\t\tdy = -5;\r\n\t\t\t\t\tdw = 10;\r\n\t\t\t\t\tdh = 10;\r\n\t\t\t\t\tdrawRightArrow(Screen.width / Math.min(Screen.k_width, Screen.k_height) - MenuItem.leftSpace - r_a_width + dx,  MenuItem.topSpace + MenuItem.size / 2 - r_a_height / 2 + dy, koef*100 + dw, koef*100*226/152 + dh);\r\n\t\t\t\t\tr_a_ch = true;\r\n\t\t\t\t\tdelete dx, dy, dw, dh;\r\n\t\t\t\t}else if ((r_a_ch) && !(mouseX >= Math.min(Screen.k_width, Screen.k_height) * (MenuItem.rwidth / Math.min(Screen.k_width, Screen.k_height) - MenuItem.leftSpace - 100*koef - 5) && mouseX <= Math.min(Screen.k_width, Screen.k_height) * (MenuItem.rwidth / Math.min(Screen.k_width, Screen.k_height) - MenuItem.leftSpace - 100*koef + koef*100 + 5) && mouseY >=  Math.min(Screen.k_width, Screen.k_height) * ( MenuItem.topSpace + MenuItem.size / 2 - r_a_height / 2 - 5)  && mouseY <= Math.min(Screen.k_width, Screen.k_height) * ( MenuItem.topSpace + MenuItem.size / 2 - r_a_height / 2 + koef*100*226/152 + 5) )) {\r\n\t\t\t\t\tdx = -5;\r\n\t\t\t\t\tdy = -5;\r\n\t\t\t\t\tdw = 10;\r\n\t\t\t\t\tdh = 10;\r\n\t\t\t\t\tclearMenuItemRect(MenuItem.rwidth / Math.min(Screen.k_width, Screen.k_height) - MenuItem.leftSpace - 100*koef + dx, MenuItem.topSpace + MenuItem.size / 2 - r_a_height / 2 + dy, koef*100 + dw, koef*100*226/152 + dh);\r\n\t\t\t\t\tdrawRightArrow(MenuItem.rwidth / Math.min(Screen.k_width,  Screen.k_height) - MenuItem.leftSpace - koef*100, MenuItem.topSpace + MenuItem.size / 2 - r_a_height / 2 , koef*100, koef*100*226/152);\r\n\t\t\t\t\tr_a_ch = false;\r\n\t\t\t\t\tdelete dx, dy, dw, dh;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// menu tasks has been hovered\r\n\t\t\tif(Mode.Tasks && (MenuItem.clicked > -1) && (mouseY >= MenuItem.topSpace * Math.min(Screen.k_width, Screen.k_height) && mouseY <= (MenuItem.topSpace + MenuItem.size) * Math.min(Screen.k_width, Screen.k_height))) {\r\n\t\t\t\ti = 0;\r\n\t\t\t\tt_a_width = 100*0.5;\r\n\t\t\t\t//pX = MenuItem.leftSpace + 100*koef + 68 * (MenuItem.clicked - MenuItem.firstItem + 1) + MenuItem.size * (MenuItem.clicked - MenuItem.firstItem - MenuItem.firstItem);\r\n\t\t\t\tpX = 2 * MenuItem.leftSpace + 100*koef + 68 * (MenuItem.clicked - MenuItem.firstItem + 1) + MenuItem.size * (MenuItem.clicked - MenuItem.firstItem) - 68;\r\n\t\t\t\tpY =  MenuItem.topSpace;\r\n\t\t\t\twhile (i < Task.display) {\r\n\t\t\t\t\tif(k1 == -1 && !(task_ch) && mouseInRect(pX, pY + (55/ 368 * MenuItem.size + 10) * i + t_a_width + Task.topSpace, MenuItem.size, 55/368*MenuItem.size)){\r\n\t\t\t\t\t\tif(Properties.Tasks[MenuItem.clicked][Task.firstTask + i].Content) {\r\n\t\t\t\t\t\t\tctx.clearRect(pX*Math.min(Screen.k_width, Screen.k_height), (pY  + (55 / 368 * MenuItem.size + 10) * i + t_a_width + Task.topSpace)*Math.min(Screen.k_width, Screen.k_height), (MenuItem.size)*Math.min(Screen.k_width, Screen.k_height), (55/ 368 * MenuItem.size)*Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\t\t\tdrawTask(MenuItem.clicked, Task.firstTask + i, pX - 3, pY + (55 / 368 * MenuItem.size + 10) * i  + t_a_width + Task.topSpace - 3,  MenuItem.size + 6, 55/368*MenuItem.size + 6)\r\n\t\t\t\t\t\t\tk1 = i;\r\n\t\t\t\t\t\t\ttask_ch = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ti = Task.display + 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\ti = i + 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tpX = 2 * MenuItem.leftSpace + 100*koef + 68 * (MenuItem.clicked - MenuItem.firstItem + 1) + MenuItem.size * (MenuItem.clicked - MenuItem.firstItem) - 68;\r\n\t\t\t\tpY =  MenuItem.topSpace;\r\n\t\t\t\tif((Mode.Tasks && (MenuItem.clicked > -1) && !(mouseY >= pY  + (55 / 368 * MenuItem.size + 10) * k1 + t_a_width + Task.topSpace * Math.min(Screen.k_width, Screen.k_height) && mouseY <= (pY  + (55 / 368 * MenuItem.size + 10) * k1 + t_a_width + Task.topSpace + MenuItem.size) * Math.min(Screen.k_width, Screen.k_height)))&& (k1 > -1 && task_ch && !(mouseX >= (pX - 3)*Math.min(Screen.k_width, Screen.k_height)&& mouseX <= (pX + MenuItem.size + 6)*Math.min(Screen.k_width, Screen.k_height) && mouseY >= (pY + (55/ 368 * MenuItem.size + 10) * k1 + t_a_width + Task.topSpace - 3)*Math.min(Screen.k_width, Screen.k_height) && mouseY <= (pY  + (55 / 368 * MenuItem.size + 10) * k1 + t_a_width + Task.topSpace + 55/368*MenuItem.size + 6)*Math.min(Screen.k_width, Screen.k_height)))){\r\n\t\t\t\t\tctx.clearRect((pX-3)*Math.min(Screen.k_width, Screen.k_height), (pY  + (55 / 368 * MenuItem.size + 10) * k1 + t_a_width + Task.topSpace - 3)*Math.min(Screen.k_width, Screen.k_height), (MenuItem.size + 6)*Math.min(Screen.k_width, Screen.k_height), (55/ 368 * MenuItem.size + 6)*Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\tdrawTask(MenuItem.clicked, Task.firstTask + k1, pX, pY + (55 / 368 * MenuItem.size + 10) * k1  + t_a_width + Task.topSpace,  MenuItem.size, 55/368*MenuItem.size)\r\n\t\t\t\t\tk1 = -1;\r\n\t\t\t\t\ttask_ch = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//top arrow\r\n\t\t\tif(Mode.Tasks && (Task.firstTask > 0)) {\r\n\t\t\t\tif(MenuItem.clicked > -1) {\r\n\t\t\t\t\tt_a_height = 100*0.5;\r\n\t\t\t\t\tt_a_width = 0.5*100*226/152;\r\n\t\t\t\t\tpX = 2 * MenuItem.leftSpace + 100*koef + 68 * (MenuItem.clicked - MenuItem.firstItem + 1) + MenuItem.size * (MenuItem.clicked - MenuItem.firstItem) - 68 + MenuItem.size / 2 - t_a_width / 2;\r\n\t\t\t\t\tpY =  MenuItem.topSpace;\r\n\t\t\t\t\tif(!(t_a_ch) && mouseX >= pX*Math.min(Screen.k_width, Screen.k_height)&& mouseX <= (pX + t_a_width)*Math.min(Screen.k_width, Screen.k_height) && mouseY >= (pY)*Math.min(Screen.k_width, Screen.k_height) && mouseY <= (pY + t_a_height)*Math.min(Screen.k_width, Screen.k_height)){\r\n\t\t\t\t\t\tctx.clearRect(pX*Math.min(Screen.k_width, Screen.k_height), (pY)*Math.min(Screen.k_width, Screen.k_height), (t_a_width)*Math.min(Screen.k_width, Screen.k_height), (t_a_height)*Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\t\tt_a_ch = true;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tpX = 2 * MenuItem.leftSpace + 100*koef + 68 * (MenuItem.clicked - MenuItem.firstItem + 1) + MenuItem.size * (MenuItem.clicked - MenuItem.firstItem) - 68;\r\n\t\t\t\t\t\tpY =  MenuItem.topSpace;\r\n\t\t\t\t\t\tctx.save();\r\n\t\t\t\t\t\tctx.translate((pX + MenuItem.size / 2 + 3/4*t_a_height)*Math.min(Screen.k_width, Screen.k_height), pY*Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\t\tctx.rotate(Math.PI / 2);\r\n\t\t\t\t\t\tdrawLeftArrow(0 - 3, 0 - 3, t_a_height + 6, t_a_width + 6)\r\n\t\t\t\t\t\tctx.restore();\r\n\t\t\t\t\t\tpX = 2 * MenuItem.leftSpace + 100*koef + 68 * (MenuItem.clicked - MenuItem.firstItem + 1) + MenuItem.size * (MenuItem.clicked - MenuItem.firstItem) - 68 + MenuItem.size / 2 - t_a_width / 2;\r\n\t\t\t\t\t\tpY =  MenuItem.topSpace;\r\n\t\t\t\t\t\tdelete pX, pY;\r\n\t\t\t\t\t\tdelete t_a_height, t_a_width;\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (Mode.Tasks && t_a_ch && !(mouseX >= (2 * MenuItem.leftSpace + 100*koef + 68 * (MenuItem.clicked - MenuItem.firstItem + 1) + MenuItem.size * (MenuItem.clicked - MenuItem.firstItem) - 68 + MenuItem.size / 2 - t_a_width / 2)*Math.min(Screen.k_width, Screen.k_height) && mouseX <= (2 * MenuItem.leftSpace + 100*koef + 68 * (MenuItem.clicked - MenuItem.firstItem + 1) + MenuItem.size * (MenuItem.clicked - MenuItem.firstItem) - 68 + MenuItem.size / 2 - t_a_width / 2 + t_a_width + 3)*Math.min(Screen.k_width, Screen.k_height) && mouseY >= (MenuItem.topSpace - 3)*Math.min(Screen.k_width, Screen.k_height) && mouseY <= (MenuItem.topSpace + t_a_height + 3)*Math.min(Screen.k_width, Screen.k_height))){\r\n\t\t\t\t\t\tt_a_ch = false;\r\n\t\t\t\t\t\tctx.clearRect((pX - 3)*Math.min(Screen.k_width, Screen.k_height), (pY - 3)*Math.min(Screen.k_width, Screen.k_height), (t_a_width + 6)*Math.min(Screen.k_width, Screen.k_height), (t_a_height + 6)*Math.min(Screen.k_width, Screen.k_height))\r\n\t\t\t\t\t\tpX = 2 * MenuItem.leftSpace + 100*koef + 68 * (MenuItem.clicked - MenuItem.firstItem + 1) + MenuItem.size * (MenuItem.clicked - MenuItem.firstItem) - 68;\r\n\t\t\t\t\t\tpY =  MenuItem.topSpace;\r\n\t\t\t\t\t\tctx.save();\r\n\t\t\t\t\t\tctx.translate((pX + MenuItem.size / 2 + 3/4*t_a_height)*Math.min(Screen.k_width, Screen.k_height), pY*Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\t\tctx.rotate(Math.PI / 2);\r\n\t\t\t\t\t\tdrawLeftArrow(0, 0, t_a_height, t_a_width)\r\n\t\t\t\t\t\tctx.restore();\r\n\t\t\t\t\t\tdelete pX, pY;\r\n\t\t\t\t\t\tdelete t_a_height, t_a_width;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(Mode.Tasks && (Task.firstTask + Task.display < Task.itemsCount[MenuItem.clicked])) {\r\n\t\t\t//bottom arrow hovered\r\n\t\t\t\tif(MenuItem.clicked > -1) {\r\n\t\t\t\t\tb_a_height = 100*0.5;\r\n\t\t\t\t\tb_a_width = 0.5*100*226/152;\r\n\t\t\t\t\tt_a_height = b_a_width;\r\n\t\t\t\t\tt_a_width = b_a_height;\r\n\t\t\t\t\tpX = 2 * MenuItem.leftSpace + 100*koef + 68 * (MenuItem.clicked - MenuItem.firstItem + 1) + MenuItem.size * (MenuItem.clicked - MenuItem.firstItem) - 68 + MenuItem.size / 2 - b_a_width / 2;\r\n\t\t\t\t\tpY = MenuItem.topSpace + MenuItem.size - b_a_height;\r\n\t\t\t\t\t//if(!(b_a_ch) && mouseX >= pX*Math.min(Screen.k_width, Screen.k_height)&& mouseX <= (pX + b_a_width)*Math.min(Screen.k_width, Screen.k_height) && mouseY >= (pY)*Math.min(Screen.k_width, Screen.k_height) && mouseY <= (pY + b_a_height)*Math.min(Screen.k_width, Screen.k_height)){\r\n\t\t\t\t\t//fillRect(pX, pY, b_a_width, b_a_height);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tif(!(b_a_ch) && mouseInRect(pX, pY, b_a_width, b_a_height)){\r\n\t\t\t\t\t\tctx.clearRect(pX*Math.min(Screen.k_width, Screen.k_height), (pY)*Math.min(Screen.k_width, Screen.k_height), (b_a_width)*Math.min(Screen.k_width, Screen.k_height), (b_a_height)*Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\t\t//ctx.fillRect(pX*Math.min(Screen.k_width, Screen.k_height), pY*Math.min(Screen.k_width, Screen.k_height), b_a_width*Math.min(Screen.k_width, Screen.k_height), b_a_height*Math.min(Screen.k_width, Screen.k_height))\r\n\t\t\t\t\t\tb_a_ch = true;\r\n\t\t\t\t\t\tpX = 2 * MenuItem.leftSpace + 100*koef + 68 * (MenuItem.clicked - MenuItem.firstItem + 1) + MenuItem.size * (MenuItem.clicked - MenuItem.firstItem) - 68;\r\n\t\t\t\t\t\tpY =  MenuItem.topSpace + MenuItem.size;\r\n\t\t\t\t\t\tctx.save();\r\n\t\t\t\t\t\tctx.translate((pX + MenuItem.size / 2 - 3/4*b_a_height)*Math.min(Screen.k_width, Screen.k_height), pY*Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\t\tctx.rotate(-Math.PI / 2);\r\n\t\t\t\t\t\tdrawLeftArrow(0 - 3, 0 - 3, b_a_height + 6, b_a_width + 6)\r\n\t\t\t\t\t\t//fillRect(0 - 3, 0 - 3, b_a_height + 6, b_a_width + 6)\r\n\t\t\t\t\t\tctx.restore();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tpX = 2 * MenuItem.leftSpace + 100*koef + 68 * (MenuItem.clicked - MenuItem.firstItem + 1) + MenuItem.size * (MenuItem.clicked - MenuItem.firstItem) - 68 + MenuItem.size / 2 - b_a_width / 2;\r\n\t\t\t\t\t\tpY = Screen.height / Math.min(Screen.k_width, Screen.k_height) - MenuItem.topSpace - b_a_height;\r\n\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//else if (Mode.Tasks && b_a_ch && !(mouseX >= (2 * MenuItem.leftSpace + 100*koef + 68 * (MenuItem.clicked - MenuItem.firstItem + 1) + MenuItem.size * (MenuItem.clicked - MenuItem.firstItem) - 68 + MenuItem.size / 2 - b_a_width / 2 - 3)*Math.min(Screen.k_width, Screen.k_height) && mouseX <= (2 * MenuItem.leftSpace + 100*koef + 68 * (MenuItem.clicked - MenuItem.firstItem + 1) + MenuItem.size * (MenuItem.clicked - MenuItem.firstItem) - 68 + MenuItem.size / 2 - b_a_width / 2 + b_a_width + 3)*Math.min(Screen.k_width, Screen.k_height) && mouseY >= (Screen.height / Math.min(Screen.k_width, Screen.k_height) - MenuItem.topSpace - b_a_height - 3)*Math.min(Screen.k_width, Screen.k_height) && mouseY <= (Screen.height / Math.min(Screen.k_width, Screen.k_height) - MenuItem.topSpace - b_a_height + b_a_height + 3)*Math.min(Screen.k_width, Screen.k_height))){\r\n\t\t\t\t\telse if((b_a_ch) && !(mouseInRect(pX - 5, pY - 5, b_a_width + 10, b_a_height + 10))){\r\n\t\t\t\t\t\tb_a_ch = false;\r\n\t\t\t\t\t\tctx.clearRect((pX - 5)*Math.min(Screen.k_width, Screen.k_height), (pY - 5)*Math.min(Screen.k_width, Screen.k_height), (b_a_width + 10)*Math.min(Screen.k_width, Screen.k_height), (b_a_height + 10)*Math.min(Screen.k_width, Screen.k_height))\r\n\t\t\t\t\t\tpX = 2 * MenuItem.leftSpace + 100*koef + 68 * (MenuItem.clicked - MenuItem.firstItem + 1) + MenuItem.size * (MenuItem.clicked - MenuItem.firstItem) - 68;\r\n\t\t\t\t\t\tpY =  MenuItem.topSpace + MenuItem.size;\r\n\t\t\t\t\t\tctx.save();\r\n\t\t\t\t\t\tctx.translate((pX + MenuItem.size / 2 - 3/4*b_a_height)*Math.min(Screen.k_width, Screen.k_height), pY*Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\t\tctx.rotate(-Math.PI / 2);\r\n\t\t\t\t\t\tdrawLeftArrow(0, 0, b_a_height, b_a_width)\r\n\t\t\t\t\t\tctx.restore();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdelete pX, pY;\r\n\t\t\t\t\tdelete b_a_height, b_a_width;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//Menuitems hovered\r\n\t\t\tvar i = 0;\r\n\t\t\twhile (Mode.MenuItem && (i < MenuItem.display)) {\r\n\t\t\t\tX_l = 2 * MenuItem.leftSpace + 100*koef + 68 * (i + 1) + MenuItem.size * i - 68;\r\n\t\t\t\tX_r = 2 * MenuItem.leftSpace + 100*koef + 68 * (i + 1) + MenuItem.size * (i + 1) - 68;\r\n\t\t\t\tif((k == -1) && mouseY >= Math.min(Screen.k_width, Screen.k_height) * MenuItem.topSpace   && mouseY <= Math.min(Screen.k_width, Screen.k_height) * (MenuItem.size + MenuItem.topSpace) && (mouseX >= Math.min(Screen.k_width, Screen.k_height) * X_l && mouseX <= Math.min(Screen.k_width, Screen.k_height) * X_r)){\r\n\t\t\t\t\tif(MenuItem.clicked - MenuItem.firstItem != i){\r\n\t\t\t\t\tif(Properties.Tasks[i + MenuItem.firstItem].length) {\r\n\t\t\t\t\t\tX = 368 * i;\r\n\t\t\t\t\t\tY = 0;\r\n\t\t\t\t\t\tW = 368;\r\n\t\t\t\t\t\tH = 368;\r\n\t\t\t\t\t\tpX = X_l - 10;\r\n\t\t\t\t\t\tpY =  MenuItem.topSpace - 10;\r\n\t\t\t\t\t\tpW = MenuItem.size + 20;\r\n\t\t\t\t\t\tpH = MenuItem.size + 20;\r\n\t\t\t\t\t\tk = i;\r\n\t\t\t\t\t\tDrawMenuItem(i + MenuItem.firstItem, i + MenuItem.firstItem, pX, pY, pW, pH);\r\n\t\t\t\t\t}\r\n\t\t\t\t\ti = MenuItem.display + 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\ti = MenuItem.display + 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\ti++;\r\n\t\t\t\t}\r\n\t\t\t\tdelete X_l, X_r;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\tif (Mode.MenuItem && (k > -1) && !(mouseY >= Math.min(Screen.k_width, Screen.k_height) * (MenuItem.topSpace - 10)  && mouseY <= Math.min(Screen.k_width, Screen.k_height) * ( MenuItem.size + MenuItem.topSpace + 10)  && (mouseX >= Math.min(Screen.k_width, Screen.k_height) * (2 * MenuItem.leftSpace + 100*koef + 68 * (k + 1) + MenuItem.size * k - 68 - 10) && mouseX <= Math.min(Screen.k_width, Screen.k_height) * (2 * MenuItem.leftSpace + 100*koef + 68 * (k + 1) + MenuItem.size * (k + 1) - 68 + 10)))){\r\n\t\t\t\t\tpX = 2 * MenuItem.leftSpace + 100*koef + 68 * (k + 1) + MenuItem.size * k - 68 - 10;\r\n\t\t\t\t\tpY =  MenuItem.topSpace - 10;\r\n\t\t\t\t\tpW = MenuItem.size + 20;\r\n\t\t\t\t\tpH = MenuItem.size + 20;\r\n\t\t\t\t\tclearMenuItemRect(pX, pY, pW, pH);\r\n\t\t\t\t\tpX = 2 * MenuItem.leftSpace + 100*koef + 68 * (k + 1) + MenuItem.size * k - 68;\r\n\t\t\t\t\tpY =  MenuItem.topSpace;\r\n\t\t\t\t\tpW = MenuItem.size;\r\n\t\t\t\t\tpH = MenuItem.size;\r\n\t\t\t\t\tX_l = 2 * MenuItem.leftSpace + 100*koef + 68 * (k + 1) + MenuItem.size * k - 68;\r\n\t\t\t\t\tX_r = 2 * MenuItem.leftSpace + 100*koef + 68 * (k + 1) + MenuItem.size * (k + 1) - 68;\r\n\t\t\t\t\tDrawMenuItem(k + MenuItem.firstItem, k + MenuItem.firstItem, pX, pY, pW, pH);\r\n\t\t\t\t\tk = -1;\r\n\t\t\t\t\tdelete X_l, pX, pY, pW, pH;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t//Login button hovered\r\n\t\t\tif (!Mode.Mobile && !Mode.Exercise && !Profile.LoggedIn && !Mode.LogIn && !Mode.SignIn &&!login_ch && mouseX >= ((Screen.width )/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace) * Math.min(Screen.k_width, Screen.k_height) && mouseX <= ((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace + Profile.size_btn) * Math.min(Screen.k_width, Screen.k_height) && mouseY >= (20) * Math.min(Screen.k_width, Screen.k_height) && mouseY <= (20 + Profile.size_btn*75/228) * Math.min(Screen.k_width, Screen.k_height)) {\r\n\t\t\t\tclearScreenRect((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace, 20, Profile.size_btn, Profile.size_btn*75/228);\r\n\t\t\t\tfillRectYellow((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace, 20, Profile.size_btn, Profile.size_btn*75/228);\r\n\t\t\t\t\r\n\t\t\t\tctx.fillStyle=\"#F7FE2E\";\r\n\t\t\t\tfillRect((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace, 20, Profile.size_btn, Profile.size_btn*75/228);\r\n\t\t\t\t\r\n\t\t\t\tdrawLogInButton((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace - 2, 20 - 2, Profile.size_btn + 4, Profile.size_btn*75/228 + 4);\r\n\t\t\t\tlogin_ch = true;\r\n\t\t\t}\r\n\t\t\telse if(!Mode.Mobile && !Mode.Exercise && !Profile.LoggedIn && !Mode.LogIn && !Mode.SignIn &&login_ch && !(mouseX >= ((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn- Title.leftSpace) * Math.min(Screen.k_width, Screen.k_height) && mouseX <= ((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace + Profile.size_btn) * Math.min(Screen.k_width, Screen.k_height) && mouseY >= (20) * Math.min(Screen.k_width, Screen.k_height) && mouseY <= (20 + Profile.size_btn*75/228) * Math.min(Screen.k_width, Screen.k_height))) {\r\n\t\t\t\tif(!Profile.LoggedIn) {\r\n\t\t\t\t\tclearScreenRect((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace - 2, 20 - 2, Profile.size_btn + 4, Profile.size_btn*75/228 + 4);;\r\n\t\t\t\t\tfillRectYellow((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace - 2, 20 - 2, Profile.size_btn + 4, Profile.size_btn*75/228 + 4);;\r\n\t\t\t\t\tdrawLogInButton((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn- Title.leftSpace, 20, Profile.size_btn, Profile.size_btn*75/228)\r\n\t\t\t\t}\r\n\t\t\t\tlogin_ch = false;\r\n\t\t\t}\r\n\t\t\t//Sign in button hovered\r\n\t\t\tif (!Mode.Mobile && !Mode.Exercise && !Profile.LoggedIn && !Mode.LogIn && !Mode.SignIn && !signin_ch && mouseX >= ((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace) * Math.min(Screen.k_width, Screen.k_height) && mouseX <= ((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace + Profile.size_btn) * Math.min(Screen.k_width, Screen.k_height) && mouseY >= ((20 + 5) + Profile.size_btn*75/228)* Math.min(Screen.k_width, Screen.k_height) && mouseY <= ((20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228)* Math.min(Screen.k_width, Screen.k_height)) {\r\n\t\t\t\tclearScreenRect((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace, (20 + 5) + Profile.size_btn*75/228 + 3, Profile.size_btn, Profile.size_btn*75/228);\r\n\t\t\t\tfillRectYellow((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace, (20 + 5) + Profile.size_btn*75/228 + 3, Profile.size_btn, Profile.size_btn*75/228);\r\n\t\t\t\tdrawSignInButton((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace - 2, (20 + 5) + Profile.size_btn*75/228 - 2, Profile.size_btn + 4, Profile.size_btn*75/228 + 4)\r\n\t\t\t\tsignin_ch = true;\r\n\t\t\t}\r\n\t\t\telse if(!Mode.Mobile && !Mode.Exercise && !Profile.LoggedIn && !Mode.LogIn && !Mode.SignIn &&signin_ch && !(mouseX >= ((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace) * Math.min(Screen.k_width, Screen.k_height) && mouseX <= ((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace + Profile.size_btn) * Math.min(Screen.k_width, Screen.k_height) && mouseY >= ((20 + 5) + Profile.size_btn*75/228)* Math.min(Screen.k_width, Screen.k_height) && mouseY <= ((20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228)* Math.min(Screen.k_width, Screen.k_height))) {\r\n\t\t\t\tclearScreenRect((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace - 2, (20 + 5) + Profile.size_btn*75/228 - 2, Profile.size_btn + 4, Profile.size_btn*75/228 + 4)\r\n\t\t\t\tfillRectYellow((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace - 2, (20 + 5) + Profile.size_btn*75/228 - 2, Profile.size_btn + 4, Profile.size_btn*75/228 + 4)\r\n\t\t\t\tdrawSignInButton((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) -Profile.size_btn - Title.leftSpace, (20 + 5) + Profile.size_btn*75/228, Profile.size_btn, Profile.size_btn*75/228);\r\n\t\t\t\tsignin_ch = false;\r\n\t\t\t}\r\n\t\t\t//rewards button\r\n\t\t\tif (!Mode.Mobile && !Mode.Exercise &&!Mode.LogIn && !Mode.SignIn &&!rewards_ch && mouseX >= (Rewards.leftSpace)* Math.min(Screen.k_width, Screen.k_height) && mouseX <= (Rewards.leftSpace + Rewards.size)* Math.min(Screen.k_width, Screen.k_height) && mouseY >= (Rewards.topSpace)* Math.min(Screen.k_width, Screen.k_height) && mouseY <= (Rewards.topSpace + Rewards.size*75/228)* Math.min(Screen.k_width, Screen.k_height)) {\r\n\t\t\t\tclearScreenRect(Rewards.leftSpace, Rewards.topSpace, Rewards.size, Rewards.size*75/228);\r\n\t\t\t\tfillRectYellow(Rewards.leftSpace, Rewards.topSpace, Rewards.size, Rewards.size*75/228);\r\n\t\t\t\tdrawRewardsButton(Rewards.leftSpace - 5, Rewards.topSpace - 5, Rewards.size + 10, Rewards.size*75/228 + 10);\r\n\t\t\t\trewards_ch = true;\r\n\t\t\t}\r\n\t\t\telse if(!Mode.Mobile && !Mode.Exercise &&!Mode.LogIn && !Mode.SignIn &&rewards_ch && !(mouseX >= (Rewards.leftSpace - 5)* Math.min(Screen.k_width, Screen.k_height) && mouseX <= (Rewards.leftSpace + Rewards.size + 5)* Math.min(Screen.k_width, Screen.k_height) && mouseY >= (Rewards.topSpace - 5)* Math.min(Screen.k_width, Screen.k_height) && mouseY <= (Rewards.topSpace + Rewards.size*75/228 + 5)* Math.min(Screen.k_width, Screen.k_height))) {\r\n\t\t\t\tclearScreenRect(Rewards.leftSpace - 5, Rewards.topSpace - 5, Rewards.size + 10, Rewards.size*75/228 + 10);\r\n\t\t\t\tfillRectYellow(Rewards.leftSpace - 5, Rewards.topSpace - 5, Rewards.size + 10, Rewards.size*75/228 + 10);\r\n\t\t\t\tdrawRewardsButton(Rewards.leftSpace, Rewards.topSpace, Rewards.size, Rewards.size*75/228);\r\n\t\t\t\trewards_ch = false;\r\n\t\t\t}\r\n\t\t\t//Progress button hovered\r\n\t\t\tif (!Mode.Mobile && !Mode.Exercise &&!Mode.LogIn && !Mode.SignIn &&!progress_ch && mouseX >= (Rewards.leftSpace + Rewards.size + 68)* Math.min(Screen.k_width, Screen.k_height) && mouseX <= (Rewards.leftSpace + Rewards.size + 68 + Rewards.size)* Math.min(Screen.k_width, Screen.k_height) && mouseY >= (Rewards.topSpace)* Math.min(Screen.k_width, Screen.k_height) && mouseY <= (Rewards.topSpace + Rewards.size*75/228)* Math.min(Screen.k_width, Screen.k_height)) {\r\n\t\t\t\tclearScreenRect(Rewards.leftSpace + Rewards.size + 68, Rewards.topSpace, Rewards.size, Rewards.size*75/228);\r\n\t\t\t\tfillRectYellow(Rewards.leftSpace + Rewards.size + 68, Rewards.topSpace, Rewards.size, Rewards.size*75/228);\r\n\t\t\t\tdrawProgressButton(Rewards.leftSpace + Rewards.size + 68 - 5, Rewards.topSpace - 5, Rewards.size + 10, Rewards.size*75/228 + 10);\r\n\t\t\t\tprogress_ch = true;\r\n\t\t\t}\r\n\t\t\telse if(!Mode.Mobile && !Mode.Exercise &&!Mode.LogIn && !Mode.SignIn &&progress_ch && !(mouseX >= (Rewards.leftSpace + Rewards.size + 68 - 5)* Math.min(Screen.k_width, Screen.k_height) && mouseX <= (Rewards.leftSpace + Rewards.size + 68 + Rewards.size + 5)* Math.min(Screen.k_width, Screen.k_height) && mouseY >= (Rewards.topSpace - 5)* Math.min(Screen.k_width, Screen.k_height) && mouseY <= (Rewards.topSpace + Rewards.size*75/228 + 5)* Math.min(Screen.k_width, Screen.k_height))) {\r\n\t\t\t\tclearScreenRect(Rewards.leftSpace + Rewards.size + 68 - 5, Rewards.topSpace - 5, Rewards.size + 10, Rewards.size*75/228 + 10);\r\n\t\t\t\tfillRectYellow(Rewards.leftSpace + Rewards.size + 68 - 5, Rewards.topSpace - 5, Rewards.size + 10, Rewards.size*75/228 + 10);\r\n\t\t\t\tdrawProgressButton(Rewards.leftSpace + Rewards.size + 68, Rewards.topSpace, Rewards.size, Rewards.size*75/228);\r\n\t\t\t\tprogress_ch = false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//Phrases button hovered\r\n\t\t\tif (!Mode.Mobile && !Mode.Exercise &&!Mode.LogIn && !Mode.SignIn &&!phrases_ch && mouseX >= (Rewards.leftSpace + Rewards.size + 68 + Rewards.size + 68)* Math.min(Screen.k_width, Screen.k_height) && mouseX <= (Rewards.leftSpace + Rewards.size + 68 + Rewards.size + Rewards.size + 68)* Math.min(Screen.k_width, Screen.k_height) && mouseY >= (Rewards.topSpace)* Math.min(Screen.k_width, Screen.k_height) && mouseY <= (Rewards.topSpace + Rewards.size*75/228)* Math.min(Screen.k_width, Screen.k_height)) {\r\n\t\t\t\tclearScreenRect(Rewards.leftSpace + Rewards.size + 68 + Rewards.size + 68, Rewards.topSpace, Rewards.size, Rewards.size*75/228);\r\n\t\t\t\tfillRectYellow(Rewards.leftSpace + Rewards.size + 68 + Rewards.size + 68, Rewards.topSpace, Rewards.size, Rewards.size*75/228);\r\n\t\t\t\tdrawPhrasesButton(Rewards.leftSpace + Rewards.size + 68 + Rewards.size + 68 - 5, Rewards.topSpace - 5, Rewards.size + 10, Rewards.size*75/228 + 10);\r\n\t\t\t\tphrases_ch = true;\r\n\t\t\t}\r\n\t\t\telse if(!Mode.Mobile && !Mode.Exercise &&!Mode.LogIn && !Mode.SignIn &&phrases_ch && !(mouseX >= (Rewards.leftSpace + Rewards.size + 68 + Rewards.size + 68 - 5)* Math.min(Screen.k_width, Screen.k_height) && mouseX <= (Rewards.leftSpace + Rewards.size + 68 + Rewards.size + Rewards.size + 68 + 5)* Math.min(Screen.k_width, Screen.k_height) && mouseY >= (Rewards.topSpace - 5)* Math.min(Screen.k_width, Screen.k_height) && mouseY <= (Rewards.topSpace + Rewards.size*75/228 + 5)* Math.min(Screen.k_width, Screen.k_height))) {\r\n\t\t\t\tclearScreenRect(Rewards.leftSpace + Rewards.size + 68 + Rewards.size + 68 - 5, Rewards.topSpace - 5, Rewards.size + 10, Rewards.size*75/228 + 10);\r\n\t\t\t\tfillRectYellow(Rewards.leftSpace + Rewards.size + 68 + Rewards.size + 68 - 5, Rewards.topSpace - 5, Rewards.size + 10, Rewards.size*75/228 + 10);\r\n\t\t\t\tdrawPhrasesButton(Rewards.leftSpace + Rewards.size + 68 + Rewards.size + 68, Rewards.topSpace, Rewards.size, Rewards.size*75/228);\r\n\t\t\t\t\r\n\t\t\t\tphrases_ch = false;\r\n\t\t\t}\r\n\t\t\t//Quiz button has been hovered\r\n\t\t\tif (!Mode.Mobile && !Mode.Exercise && !Mode.LogIn && !Mode.SignIn &&!quiz_ch && mouseX >= (Rewards.leftSpace + Rewards.size + 68 + Rewards.size + 68+ Rewards.size + 68)* Math.min(Screen.k_width, Screen.k_height) && mouseX <= (Rewards.leftSpace + Rewards.size + 68 + Rewards.size + Rewards.size + 68+ Rewards.size + 68)* Math.min(Screen.k_width, Screen.k_height) && mouseY >= (Rewards.topSpace)* Math.min(Screen.k_width, Screen.k_height) && mouseY <= (Rewards.topSpace + Rewards.size*75/228)* Math.min(Screen.k_width, Screen.k_height)) {\r\n\t\t\t\tclearScreenRect(Rewards.leftSpace + Rewards.size + 68 + Rewards.size + 68+ Rewards.size + 68, Rewards.topSpace, Rewards.size, Rewards.size*75/228);\r\n\t\t\t\tfillRectYellow(Rewards.leftSpace + Rewards.size + 68 + Rewards.size + 68+ Rewards.size + 68, Rewards.topSpace, Rewards.size, Rewards.size*75/228);\r\n\t\t\t\tdrawQuizButton(Rewards.leftSpace + Rewards.size + 68 + Rewards.size + 68+ Rewards.size + 68 - 5, Rewards.topSpace - 5, Rewards.size + 10, Rewards.size*75/228 + 10);\r\n\t\t\t\tquiz_ch = true;\r\n\t\t\t}\r\n\t\t\telse if(!Mode.Mobile && !Mode.Exercise &&!Mode.LogIn && !Mode.SignIn &&quiz_ch && !(mouseX >= (Rewards.leftSpace + Rewards.size + 68 + Rewards.size + 68 + Rewards.size + 68 - 5)* Math.min(Screen.k_width, Screen.k_height) && mouseX <= (Rewards.leftSpace + Rewards.size + 68 + Rewards.size + Rewards.size + 68+ Rewards.size + 68 + 5)* Math.min(Screen.k_width, Screen.k_height) && mouseY >= (Rewards.topSpace - 5)* Math.min(Screen.k_width, Screen.k_height) && mouseY <= (Rewards.topSpace + Rewards.size*75/228 + 5)* Math.min(Screen.k_width, Screen.k_height))) {\r\n\t\t\t\tclearScreenRect(Rewards.leftSpace + Rewards.size + 68 + Rewards.size + 68+ Rewards.size + 68 - 5, Rewards.topSpace - 5, Rewards.size + 10, Rewards.size*75/228 + 10);\r\n\t\t\t\tfillRectYellow(Rewards.leftSpace + Rewards.size + 68 + Rewards.size + 68+ Rewards.size + 68 - 5, Rewards.topSpace - 5, Rewards.size + 10, Rewards.size*75/228 + 10);\r\n\t\t\t\tdrawQuizButton(Rewards.leftSpace + Rewards.size + 68 + Rewards.size + 68+ Rewards.size + 68, Rewards.topSpace, Rewards.size, Rewards.size*75/228);\r\n\t\t\t\tquiz_ch = false;\r\n\t\t\t}\r\n\t\t\t//sound button hovered\r\n\t\t\tif (!Mode.Mobile && !Mode.LogIn && !Mode.SignIn &&!sound_ch && mouseX >= ((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace)* Math.min(Screen.k_width, Screen.k_height) && mouseX <= ((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace + (Profile.size_btn - 2*5) / 3)* Math.min(Screen.k_width, Screen.k_height) && mouseY >= ((20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5)* Math.min(Screen.k_width, Screen.k_height) && mouseY <= ((20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5 + (Profile.size_btn - 2*5) / 3)* Math.min(Screen.k_width, Screen.k_height)) {\r\n\t\t\t\tclearScreenRect((Screen.width )/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace, (20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5, (Profile.size_btn - 2*5) / 3, (Profile.size_btn - 2*5) / 3);\r\n\t\t\t\tfillRectYellow((Screen.width )/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace, (20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5, (Profile.size_btn - 2*5) / 3, (Profile.size_btn - 2*5) / 3);\r\n\t\t\t\tif(sound_on) {\r\n\t\t\t\t\tdrawSoundOnButton((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace - 2, (20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5 - 2, (Profile.size_btn - 2*5) / 3 + 4, (Profile.size_btn - 2*5) / 3 + 4);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tdrawSoundOffButton((Screen.width)/ Math.min(Screen.k_width, Screen.k_height)- Profile.size_btn - Title.leftSpace - 2, (20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5 - 2, (Profile.size_btn - 2*5) / 3 + 4, (Profile.size_btn - 2*5) / 3 + 4);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tsound_ch = true;\r\n\t\t\t}\r\n\t\t\telse if(!Mode.Mobile && !Mode.LogIn && !Mode.SignIn &&sound_ch && !(mouseX >= ((Screen.width )/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace)* Math.min(Screen.k_width, Screen.k_height) && mouseX <= ((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace + (Profile.size_btn - 2*5) / 3)* Math.min(Screen.k_width, Screen.k_height) && mouseY >= ((20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5)* Math.min(Screen.k_width, Screen.k_height) && mouseY <= ((20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5 + (Profile.size_btn - 2*5) / 3)* Math.min(Screen.k_width, Screen.k_height))) {\r\n\t\t\t\tclearScreenRect((Screen.width )/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace - 2, (20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5 - 2, (Profile.size_btn - 2*5) / 3 + 4, (Profile.size_btn - 2*5) / 3 + 4);\r\n\t\t\t\tfillRectYellow((Screen.width )/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace - 2, (20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5 - 2, (Profile.size_btn - 2*5) / 3 + 4, (Profile.size_btn - 2*5) / 3 + 4);\r\n\t\t\t\tif(sound_on) {\r\n\t\t\t\t\tdrawSoundOnButton((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace, (20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5, (Profile.size_btn - 2*5) / 3, (Profile.size_btn - 2*5) / 3);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tdrawSoundOffButton((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace, (20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5, (Profile.size_btn - 2*5) / 3, (Profile.size_btn - 2*5) / 3);\r\n\t\t\t\t}\r\n\t\t\t\tsound_ch = false;\r\n\t\t\t}\r\n\t\t\t//help button has been hovered\r\n\t\t\t//drawHelpButton((Screen.width - 150*75/228)/ Math.min(Screen.k_width, Screen.k_height)- MenuItem.leftSpace + 150/3 + 5, (20 + 5) + 150*75/228 + 3 + 150*75/228 + 5, 150 / 3, 150 / 3)\t\t\r\n\t\t\tif (!Mode.Mobile && !Mode.LogIn && !Mode.SignIn &&!help_ch && mouseX >= ((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace + (Profile.size_btn - 2 * 5)/3 + 5)* Math.min(Screen.k_width, Screen.k_height) && mouseX <= ((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn- Title.leftSpace + (Profile.size_btn - 2 * 5)/3 + 5 + (Profile.size_btn - 2*5) / 3)* Math.min(Screen.k_width, Screen.k_height) && mouseY >= ((20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5)* Math.min(Screen.k_width, Screen.k_height) && mouseY <= ((20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5 + (Profile.size_btn - 2*5) / 3)* Math.min(Screen.k_width, Screen.k_height)) {\r\n\t\t\t\tclearScreenRect((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace + (Profile.size_btn - 2*5)/3 + 5, (20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5, (Profile.size_btn - 2*5) / 3, (Profile.size_btn - 2*5) / 3);\r\n\t\t\t\tfillRectYellow((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace + (Profile.size_btn - 2*5)/3 + 5, (20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5, (Profile.size_btn - 2*5) / 3, (Profile.size_btn - 2*5) / 3);\r\n\t\t\t\tdrawHelpButton((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace + (Profile.size_btn - 2*5)/3 + 5 - 2, (20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5 - 2, (Profile.size_btn - 2*5) / 3 + 4, (Profile.size_btn - 2*5) / 3 + 4);\r\n\t\t\t\thelp_ch = true;\r\n\t\t\t}\r\n\t\t\telse if(!Mode.Mobile && !Mode.LogIn && !Mode.SignIn &&help_ch && !(mouseX >= ((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace + (Profile.size_btn - 2*5)/3 + 5)* Math.min(Screen.k_width, Screen.k_height) && mouseX <= ((Screen.width)/ Math.min(Screen.k_width, Screen.k_height)- Profile.size_btn - Title.leftSpace + (Profile.size_btn - 2*5)/3 + 5 + (Profile.size_btn - 2*5) / 3)* Math.min(Screen.k_width, Screen.k_height) && mouseY >= ((20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5)* Math.min(Screen.k_width, Screen.k_height) && mouseY <= ((20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5 + (Profile.size_btn - 2*5) / 3)* Math.min(Screen.k_width, Screen.k_height))) {\r\n\t\t\t\tclearScreenRect((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace + (Profile.size_btn - 2*5)/3 + 5 - 2, (20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5 - 2, (Profile.size_btn - 2*5) / 3 + 4, (Profile.size_btn - 2*5) / 3 + 4);\r\n\t\t\t\tfillRectYellow((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace + (Profile.size_btn - 2*5)/3 + 5 - 2, (20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5 - 2, (Profile.size_btn - 2*5) / 3 + 4, (Profile.size_btn - 2*5) / 3 + 4);\r\n\t\t\t\tdrawHelpButton((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace + (Profile.size_btn-2*5)/3 + 5, (20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5, (Profile.size_btn - 2*5) / 3, (Profile.size_btn - 2*5) / 3);\r\n\t\t\t\thelp_ch = false;\r\n\t\t\t}\r\n\t\t\t//Info button has been hovered\r\n\t\t\tif (!Mode.Mobile && !Mode.LogIn && !Mode.SignIn &&!info_ch&& mouseX >= ((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace + (Profile.size_btn - 2 * 5)/3 + 5+ (Profile.size_btn - 2 * 5)/3 + 5)* Math.min(Screen.k_width, Screen.k_height) && mouseX <= ((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn- Title.leftSpace + (Profile.size_btn - 2 * 5)/3 + 5 + (Profile.size_btn - 2*5) / 3+ (Profile.size_btn - 2 * 5)/3 + 5 )* Math.min(Screen.k_width, Screen.k_height) && mouseY >= ((20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5)* Math.min(Screen.k_width, Screen.k_height) && mouseY <= ((20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5 + (Profile.size_btn - 2*5) / 3)* Math.min(Screen.k_width, Screen.k_height)) {\r\n\t\t\t\tclearScreenRect((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace + (Profile.size_btn - 2*5)/3 + 5 + (Profile.size_btn - 2*5)/3 + 5, (20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5, (Profile.size_btn - 2*5) / 3, (Profile.size_btn - 2*5) / 3);\r\n\t\t\t\tfillRectYellow((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace + (Profile.size_btn - 2*5)/3 + 5 + (Profile.size_btn - 2*5)/3 + 5, (20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5, (Profile.size_btn - 2*5) / 3, (Profile.size_btn - 2*5) / 3);\r\n\t\t\t\tdrawInfoButton((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace+ (Profile.size_btn - 2*5)/3 + 5 + (Profile.size_btn - 2*5)/3 + 5 - 2, (20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5 - 2, (Profile.size_btn - 2*5) / 3 + 4, (Profile.size_btn - 2*5) / 3 + 4);\r\n\t\t\t\tinfo_ch = true;\r\n\t\t\t}\r\n\t\t\telse if(!Mode.Mobile && !Mode.LogIn && !Mode.SignIn &&info_ch && !(mouseX >= ((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace + (Profile.size_btn - 2 * 5)/3 + 5+ (Profile.size_btn - 2 * 5)/3 + 5)* Math.min(Screen.k_width, Screen.k_height) && mouseX <= ((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn- Title.leftSpace + (Profile.size_btn - 2 * 5)/3 + 5 + (Profile.size_btn - 2*5) / 3+ (Profile.size_btn - 2 * 5)/3 + 5 )* Math.min(Screen.k_width, Screen.k_height) && mouseY >= ((20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5)* Math.min(Screen.k_width, Screen.k_height) && mouseY <= ((20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5 + (Profile.size_btn - 2*5) / 3)* Math.min(Screen.k_width, Screen.k_height))) {\r\n\t\t\t\tclearScreenRect((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace+ (Profile.size_btn - 2*5)/3 + 5 + (Profile.size_btn - 2*5)/3 + 5 - 2, (20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5 - 2, (Profile.size_btn - 2*5) / 3 + 4, (Profile.size_btn - 2*5) / 3 + 4);\r\n\t\t\t\tfillRectYellow((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace+ (Profile.size_btn - 2*5)/3 + 5 + (Profile.size_btn - 2*5)/3 + 5 - 2, (20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5 - 2, (Profile.size_btn - 2*5) / 3 + 4, (Profile.size_btn - 2*5) / 3 + 4);\r\n\t\t\t\tdrawInfoButton((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace+ (Profile.size_btn - 2*5)/3 + 5 + (Profile.size_btn-2*5)/3 + 5, (20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5, (Profile.size_btn - 2*5) / 3, (Profile.size_btn - 2*5) / 3);\r\n\t\t\t\tinfo_ch = false;\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tif(Mode.LogIn && mouseInRect((Screen.width / Math.min(Screen.k_width, Screen.k_height) - (MenuItem.size *4/3) / 205 * 368)/2, MenuItem.starts + (MenuItem.ends - MenuItem.starts - MenuItem.size * 4/3) / 2, (MenuItem.size *4/3) / 205 * 368, MenuItem.size * 4/3)) {\r\n\t\t\t\t//log in area\r\n\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\tif(Mode.SignIn && mouseInRect((Screen.width / Math.min(Screen.k_width, Screen.k_height) - (MenuItem.size *3/2))/2, MenuItem.starts + (MenuItem.ends - MenuItem.starts - MenuItem.size * 3/2) / 2, (MenuItem.size *6/4), MenuItem.size * 6/4)) {\r\n\t\t\t\t//sign in area\r\n\t\t\t}\r\n\t\t\t//Login form cancel button has been hovered\r\n\t\t\tX_ = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - (MenuItem.size) / 202 * 368)/2\r\n\t\t\tY_ = MenuItem.starts + (MenuItem.ends - MenuItem.starts - MenuItem.size) / 2;\r\n\t\t\tif (Mode.LogIn && !log_in_btn && mouseInRect(X_ + 49, Y_ + MenuItem.size - MenuItem.size * 37 / 202 / 2 - 40, (MenuItem.size) / 202 * 156, MenuItem.size * 37 / 202)) {\r\n\t\t\t\tclearScreenRect(X_ + 49, Y_ + MenuItem.size - MenuItem.size * 37 / 202 / 2 - 40, (MenuItem.size) / 202 * 156, MenuItem.size * 37 / 202);\r\n\t\t\t\tdrawLogInLogInButton(X_ + 47 - 2, Y_ + MenuItem.size - MenuItem.size * 37 / 202 / 2 - 40 - 2, (MenuItem.size) / 202 * 156 + 4, MenuItem.size * 37 / 202 + 4)\r\n\t\t\t\tlog_in_btn = true;\r\n\t\t\t}\r\n\t\t\telse if(Mode.LogIn && log_in_btn && !(mouseInRect(X_ + 49, Y_ + MenuItem.size - MenuItem.size * 37 / 202 / 2 - 40, (MenuItem.size) / 202 * 156, MenuItem.size * 37 / 202))) {\r\n\t\t\t\tclearScreenRect(X_ + 49 - 2, Y_ + MenuItem.size - MenuItem.size * 37 / 202 / 2 - 40 - 2, (MenuItem.size) / 202 * 156 + 4, MenuItem.size * 37 / 202 + 4);\r\n\t\t\t\tlog_in_btn = false;\r\n\t\t\t\tX_1 = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - (MenuItem.size) / 202 * 368)/2\r\n\t\t\t\tY_1 = MenuItem.starts + (MenuItem.ends - MenuItem.starts - MenuItem.size) / 2;\r\n\t\t\t\tX_ = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - (MenuItem.size) / 202 * 368)/2\r\n\t\t\t\tY_ = MenuItem.starts + (MenuItem.ends - MenuItem.starts - MenuItem.size) / 2;\r\n\t\t\t\tdrawLogInForm(X_, Y_, (MenuItem.size) / 202 * 368, MenuItem.size);\r\n\t\t\t\t//ctx.font = 40 * Math.min(Screen.k_width, Screen.k_height) + \"px Ariel\"\r\n\t\t\t\t//ctx.fillText(Profile.UserName, (X_ + (35 + 20) / 368 * (MenuItem.size) / 202 * 368) * Math.min(Screen.k_width, Screen.k_height), (Y_ + 80 / 368 * (MenuItem.size) / 202 * 368) * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t\t\t//ctx.fillText(Profile.Password, (X_ + (35 + 20) / 368 * (MenuItem.size) / 202 * 368) * Math.min(Screen.k_width, Screen.k_height), (Y_ + 138 / 368 * (MenuItem.size) / 202 * 368) * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t\t\tdrawLogInLogInButton(X_ + 47, Y_ + MenuItem.size - MenuItem.size * 37 / 202 / 2 - 40, (MenuItem.size) / 202 * 156, MenuItem.size * 37 / 202)\r\n\t\t\t\tdrawLogInCancelButton(X_ + 49 + (MenuItem.size) / 202 * 156 + 35, Y_ + MenuItem.size - MenuItem.size * 37 / 202 / 2 - 40, (MenuItem.size) / 202 * 156, MenuItem.size * 37 / 202)\r\n\t\t\t}\r\n\t\t\t//Login button has been hovered during login mode\r\n\t\t\tX_ = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - (MenuItem.size) / 202 * 368)/2\r\n\t\t\tY_ = MenuItem.starts + (MenuItem.ends - MenuItem.starts - MenuItem.size) / 2;\r\n\t\t\tif (Mode.LogIn && !cancel_btn && mouseInRect(X_ + 49 + (MenuItem.size) / 202 * 156 + 35, Y_ + MenuItem.size - MenuItem.size * 37 / 202 / 2 - 40, (MenuItem.size) / 202 * 156, MenuItem.size * 37 / 202)) {\r\n\t\t\t\tclearScreenRect(X_ + 49 + (MenuItem.size) / 202 * 156 + 35, Y_ + MenuItem.size - MenuItem.size * 37 / 202 / 2 - 40, (MenuItem.size) / 202 * 156, MenuItem.size * 37 / 202);\r\n\t\t\t\tdrawLogInCancelButton(X_ + 49 + (MenuItem.size) / 202 * 156 + 35 - 2, Y_ + MenuItem.size - MenuItem.size * 37 / 202 / 2 - 40 - 2, (MenuItem.size) / 202 * 156 + 4, MenuItem.size * 37 / 202 + 4)\r\n\t\t\t\tcancel_btn = true;\r\n\t\t\t}\r\n\t\t\telse if(Mode.LogIn && cancel_btn && !(mouseInRect(X_ + 49 + (MenuItem.size) / 202 * 156 + 35, Y_ + MenuItem.size - MenuItem.size * 37 / 202 / 2 - 40, (MenuItem.size) / 202 * 156, MenuItem.size * 37 / 202))) {\r\n\t\t\t\tclearScreenRect(X_ + 49 + (MenuItem.size) / 202 * 156 + 35 - 2, Y_ + MenuItem.size - MenuItem.size * 37 / 202 / 2 - 40 - 2, (MenuItem.size) / 202 * 156 + 4, MenuItem.size * 37 / 202 + 4);\r\n\t\t\t\tcancel_btn = false;\r\n\t\t\t\tX_1 = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - (MenuItem.size) / 202 * 368)/2\r\n\t\t\t\tY_1 = MenuItem.starts + (MenuItem.ends - MenuItem.starts - MenuItem.size) / 2;\r\n\t\t\t\t\r\n\t\t\t\tX_ = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - (MenuItem.size) / 202 * 368)/2\r\n\t\t\t\tY_ = MenuItem.starts + (MenuItem.ends - MenuItem.starts - MenuItem.size) / 2;\r\n\t\t\t\tdrawLogInForm(X_, Y_, (MenuItem.size) / 202 * 368, MenuItem.size);\r\n\t\t\t\tdrawLogInLogInButton(X_ + 47, Y_ + MenuItem.size - MenuItem.size * 37 / 202 / 2 - 40, (MenuItem.size) / 202 * 156, MenuItem.size * 37 / 202)\r\n\t\t\t\tdrawLogInCancelButton(X_ + 49 + (MenuItem.size) / 202 * 156 + 35, Y_ + MenuItem.size - MenuItem.size * 37 / 202 / 2 - 40, (MenuItem.size) / 202 * 156, MenuItem.size * 37 / 202)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//Signin button hovered SignIn mode\r\n\t\t\tY_ = (MenuItem.topSpace + MenuItem.starts) / 2\r\n\t\t\tsize_ = 2*(Y_ -  MenuItem.starts) + MenuItem.size;\r\n\t\t\tX_ = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - size_)/2\r\n\t\t\tif (Mode.SignIn && !sign_in_btn && mouseInRect(X_ + 20 / 368 * size_, Y_ + 318 / 368 * size_, 157 / 368 * size_, 157 / 368 * size_ * 37 / 156)) {\r\n\t\t\t\tclearScreenRect(X_ + 20 / 368 * size_, Y_ + 318 / 368 * size_, 157 / 368 * size_, 157 / 368 * size_ * 37 / 156);\r\n\t\t\t\tdrawSignInSignInButton(X_ + 20 / 368 * size_ - 2, Y_ + 318 / 368 * size_ - 2, 157 / 368 * size_ + 4, 157 / 368 * size_ * 37 / 156 + 4)\r\n\t\t\t\tsign_in_btn = true;\r\n\t\t\t}\r\n\t\t\telse if(Mode.SignIn && sign_in_btn && !(mouseInRect(X_ + 20 / 368 * size_ - 2, Y_ + 318 / 368 * size_ - 2, 157 / 368 * size_ + 4, 157 / 368 * size_ * 37 / 156 + 4))) {\r\n\t\t\t\tclearScreenRect(X_ + 20 / 368 * size_ - 2, Y_ + 318 / 368 * size_ - 2, 157 / 368 * size_ + 4, 157 / 368 * size_ * 37 / 156 + 4);\r\n\t\t\t\tsign_in_btn = false;\r\n\t\t\t\tY_ = (MenuItem.topSpace + MenuItem.starts) / 2\r\n\t\t\t\tsize_ = 2*(Y_ -  MenuItem.starts) + MenuItem.size;\r\n\t\t\t\tX_ = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - size_)/2\r\n\t\t\t\tdrawSignInForm(X_, Y_, size_, size_);\r\n\t\t\t\tif(NewAccent == \"US English Female\")\r\n\t\t\t\t\tAmericanAccent()\r\n\t\t\t\tif(NewAccent == \"Australian Female\")\r\n\t\t\t\t\tAustralianAccent()\r\n\t\t\t\tif(NewAccent == \"UK English Male\")\r\n\t\t\t\t\tBritishAccent()\r\n\t\t\t\tdrawSignInSignInButton(X_ + 20 / 368 * size_, Y_ + 318 / 368 * size_, 157 / 368 * size_, 157 / 368 * size_ * 37 / 156)\r\n\t\t\t\tdrawSignInCancelButton(X_ + 190 / 368 * size_, Y_ + 318 / 368 * size_, 157 / 368 * size_, 157 / 368 * size_ * 37 / 156)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//Cancel button hovered SignIn mode\r\n\t\t\tY_ = (MenuItem.topSpace + MenuItem.starts) / 2\r\n\t\t\tsize_ = 2*(Y_ -  MenuItem.starts) + MenuItem.size;\r\n\t\t\tX_ = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - size_)/2\r\n\t\t\tif (Mode.SignIn && !cancel_btn && mouseInRect(X_ + 190 / 368 * size_, Y_ + 318 / 368 * size_, 157 / 368 * size_, 157 / 368 * size_ * 37 / 156)) {\r\n\t\t\t\tclearScreenRect(X_ + 190 / 368 * size_, Y_ + 318 / 368 * size_, 157 / 368 * size_, 157 / 368 * size_ * 37 / 156);\r\n\t\t\t\tdrawSignInCancelButton(X_ + 190 / 368 * size_ - 2, Y_ + 318 / 368 * size_ - 2, 157 / 368 * size_ + 4, 157 / 368 * size_ * 37 / 156 + 4)\r\n\t\t\t\tcancel_btn = true;\r\n\t\t\t}\r\n\t\t\telse if(Mode.SignIn && cancel_btn && !(mouseInRect(X_ + 190 / 368 * size_ - 2, Y_ + 318 / 368 * size_ - 2, 157 / 368 * size_ + 4, 157 / 368 * size_ * 37 / 156 + 4))) {\r\n\t\t\t\tclearScreenRect(X_ + 20 / 368 * size_ - 2, Y_ + 318 / 368 * size_ - 2, 157 / 368 * size_ + 4, 157 / 368 * size_ * 37 / 156 + 4);\r\n\t\t\t\tcancel_btn = false;\r\n\t\t\t\tY_ = (MenuItem.topSpace + MenuItem.starts) / 2\r\n\t\t\t\tsize_ = 2*(Y_ - MenuItem.starts) + MenuItem.size;\r\n\t\t\t\tX_ = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - size_)/2\r\n\t\t\t\tdrawSignInForm(X_, Y_, size_, size_);\r\n\t\t\t\tif(NewAccent == \"US English Female\")\r\n\t\t\t\t\t\tAmericanAccent()\r\n\t\t\t\tif(NewAccent == \"Australian Female\")\r\n\t\t\t\t\t\tAustralianAccent()\r\n\t\t\t\tif(NewAccent == \"UK English Male\")\r\n\t\t\t\t\t\tBritishAccent()\r\n\t\t\t\tdrawSignInSignInButton(X_ + 20 / 368 * size_, Y_ + 318 / 368 * size_, 157 / 368 * size_, 157 / 368 * size_ * 37 / 156)\r\n\t\t\t\tdrawSignInCancelButton(X_ + 190 / 368 * size_, Y_ + 318 / 368 * size_, 157 / 368 * size_, 157 / 368 * size_ * 37 / 156)\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tvar size_btn = 70;\r\n\t\t\tif (Mode.Exercise && Mode.MusicVideo && !Mode.SignIn && !Mode.LogIn &&!exit_btn_ch && mouseInRect(Screen.width / Math.min(Screen.k_width, Screen.k_height) - Title.leftSpace - size_btn, MenuItem.starts + 20, size_btn, size_btn)) {\r\n\t\t\t\tclearScreenRect(Screen.width / Math.min(Screen.k_width, Screen.k_height) - Title.leftSpace - size_btn, MenuItem.starts + 20, size_btn, size_btn);\r\n\t\t\t\tdrawExitButton(Screen.width / Math.min(Screen.k_width, Screen.k_height) - Title.leftSpace - size_btn - 3, MenuItem.starts + 20 - 3, size_btn + 6, size_btn + 6);\r\n\t\t\t\texit_btn_ch = true;\r\n\t\t\t}\r\n\t\t\telse if(Mode.MusicVideo && !Mode.SignIn && !Mode.LogIn && exit_btn_ch && !(mouseInRect(Screen.width / Math.min(Screen.k_width, Screen.k_height) - Title.leftSpace - size_btn - 3, MenuItem.starts + 20 - 3, size_btn + 6, size_btn + 6))) {\r\n\t\t\t\tclearScreenRect(Screen.width / Math.min(Screen.k_width, Screen.k_height) - Title.leftSpace - size_btn - 3, MenuItem.starts + 20 - 3, size_btn + 6, size_btn + 6);\r\n\t\t\t\tdrawExitButton(Screen.width / Math.min(Screen.k_width, Screen.k_height) - Title.leftSpace - size_btn, MenuItem.starts + 20, size_btn, size_btn);\r\n\t\t\t\texit_btn_ch = false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//MatchTheAnimalsWithTheirNames exit button has been hovered\r\n\t\t\tif(Mode.Exercise && !Mode.MusicVideo && !Mode.Results) {\r\n\t\t\t\ttry{\r\n\t\t\t\t\tsize_btn = setWordHeight();\r\n\t\t\t\t\tif(frametype1 == \"Wordsframe\" && frametype2 == \"frame\")\r\n\t\t\t\t\t\tsize_btn = 70;\r\n\t\t\t\t}\r\n\t\t\t\tcatch(e) {\r\n\t\t\t\t\tsize_btn = ((MenuItem.ends - MenuItem.starts - 40) - 4 * 10 - (MenuItem.ends - MenuItem.starts - 40) * 2/5) / 5\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif ((Mode.Exercise && !Mode.MusicVideo && !Mode.Results) && !Mode.SignIn && !Mode.LogIn &&!exit_btn_ch && mouseInRect(Screen.width / Math.min(Screen.k_width, Screen.k_height) - Title.leftSpace - size_btn, MenuItem.starts + 20, size_btn, size_btn)) {\r\n\t\t\t\tclearRect(Screen.width / Math.min(Screen.k_width, Screen.k_height) - Title.leftSpace - size_btn, MenuItem.starts + 20, size_btn, size_btn);\r\n\t\t\t\tdrawExitButton(Screen.width / Math.min(Screen.k_width, Screen.k_height) - Title.leftSpace - size_btn - 3, MenuItem.starts + 20 - 3, size_btn + 6, size_btn + 6);\r\n\t\t\t\texit_btn_ch = true;\r\n\t\t\t}\r\n\t\t\telse if((Mode.Exercise && !Mode.MusicVideo && !Mode.Results) && !Mode.SignIn && !Mode.LogIn && exit_btn_ch && !(mouseInRect(Screen.width / Math.min(Screen.k_width, Screen.k_height) - Title.leftSpace - size_btn - 3, MenuItem.starts + 20 - 3, size_btn + 6, size_btn + 6))) {\r\n\t\t\t\tclearRect(Screen.width / Math.min(Screen.k_width, Screen.k_height) - Title.leftSpace - size_btn - 3, MenuItem.starts + 20 - 3, size_btn + 6, size_btn + 6);\r\n\t\t\t\tdrawExitButton(Screen.width / Math.min(Screen.k_width, Screen.k_height) - Title.leftSpace - size_btn, MenuItem.starts + 20, size_btn, size_btn);\r\n\t\t\t\texit_btn_ch = false;\r\n\t\t\t}\r\n\t\t\t//MatchTheAnimalsWithTheirNames word has been hovered\r\n\t\t\ttry {\r\n\t\t\t\tif ((!Mode.CountDown && !Mode.Results && Mode.Exercise && !Mode.MusicVideo) && !Mode.SignIn && !Mode.LogIn &&!word_ch) {\r\n\t\t\t\tvar Array = [];\r\n\t\t\t\tvar animal_height\r\n\t\t\t\tif(frametype1 == \"frame\") {\r\n\t\t\t\t\tanimal_height = Screen.height / Math.min(Screen.k_width, Screen.k_height) / 4;\r\n\t\t\t\t}\r\n\t\t\t\telse if(frametype1 == \"Wordsframe\"){\r\n\t\t\t\t\tanimal_height = 100;\r\n\t\t\t\t}\r\n\t\t\t\tvar edge = 0;\r\n\t\t\t\tvar word_height = setWordHeight();\r\n\t\t\t\t//var center = Screen.width / Math.min(Screen.k_width, Screen.k_height) / 2;\r\n\t\t\t\t//var top = Screen.height * 0.2 / Math.min(Screen.k_width, Screen.k_height) + 40 + animal_height + 40;\r\n\t\t\t\tvar top, center;\r\n\t\t\t\tif(frametype1 == \"frame\") {\r\n\t\t\t\t\tcenter = Screen.width / Math.min(Screen.k_width, Screen.k_height) / 2;\r\n\t\t\t\t\ttop = MenuItem.starts + 40 + animal_height + 40;\r\n\t\t\t\t}\r\n\t\t\t\telse if(frametype1 == \"Wordsframe\") {\r\n\t\t\t\t\tcenter = Screen.width / Math.min(Screen.k_width, Screen.k_height) / Math.floor((Task.test.length + 1) / 2);\r\n\t\t\t\t\ttop = MenuItem.starts + 40 + animal_height + 40;\r\n\t\t\t\t}\r\n\t\t\t\tfor(var i = 0; i < Task.test.length; i++) {\r\n\t\t\t\t\tvar wordFrame = (Task.test.concat())[i][frametype2];\r\n\t\t\t\t\t\tArray[i] = {};\r\n\t\t\t\t\t\tArray[i].x = (edge + center/2-wordFrame.w*word_height/wordFrame.h/2);\r\n\t\t\t\t\t\tArray[i].y = top;\r\n\t\t\t\t\t\tArray[i].w = wordFrame.w*word_height/wordFrame.h;\r\n\t\t\t\t\t\tArray[i].h = word_height;\r\n\t\t\t\t\tif(frametype1 == \"frame\") {\r\n\t\t\t\t\t\tif(i % 2){\r\n\t\t\t\t\t\t\ttop = top + word_height + 30;\r\n\t\t\t\t\t\t\tedge = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse edge = center;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(frametype1 == \"Wordsframe\") {\r\n\t\t\t\t\t\tif(!((i + 1) % Math.floor((Task.test.length + 1) / 2))){\r\n\t\t\t\t\t\ttop = top + word_height + 20;\r\n\t\t\t\t\t\tedge = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse { \r\n\t\t\t\t\t\t\tedge = edge + center;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tvar i = checkPoint({x:mouseX, y:mouseY}, Array);\r\n\t\t\t\tk2 = i;\r\n\t\t\t\tif(k2 < Array.length) {\r\n\t\t\t\t\twordFrame = (Task.test.concat())[k2][frametype2];\r\n\t\t\t\t\tctx.clearRect((Array[k2]).x*Math.min(Screen.k_width, Screen.k_height), (Array[k2].y)*Math.min(Screen.k_width, Screen.k_height), (Array[k2].w)*Math.min(Screen.k_width, Screen.k_height), (Array[k2].h)*Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\tctx.drawImage(atlas[Task.TopicName + frametype2], wordFrame.x, wordFrame.y, wordFrame.w, wordFrame.h, (Array[k2].x - 6)*Math.min(Screen.k_width, Screen.k_height), (Array[k2].y - 3)*Math.min(Screen.k_width, Screen.k_height), (Array[k2].w + 6)*Math.min(Screen.k_width, Screen.k_height), (Array[k2].h + 6)*Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\tword_ch = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\telse if((!Mode.CountDown && !Mode.Results && Mode.Exercise && !Mode.MusicVideo) && !Mode.SignIn && !Mode.LogIn && word_ch) {\r\n\t\t\t\t\tvar Array = [];\r\n\t\t\t\t\tvar animal_height, center, top;\r\n\t\t\t\t\tif(frametype1 == \"frame\") {\r\n\t\t\t\t\t\tanimal_height = Screen.height / Math.min(Screen.k_width, Screen.k_height) / 4;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(frametype1 == \"Wordsframe\"){\r\n\t\t\t\t\t\tanimal_height = 100;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar edge = 0;\r\n\t\t\t\t\tvar word_height = setWordHeight();\r\n\t\t\t\t\tif(frametype1 == \"frame\") {\r\n\t\t\t\t\t\tcenter = Screen.width / Math.min(Screen.k_width, Screen.k_height) / 2;\r\n\t\t\t\t\t\ttop = MenuItem.starts + 40 + animal_height + 40;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(frametype1 == \"Wordsframe\") {\r\n\t\t\t\t\t\tcenter = Screen.width / Math.min(Screen.k_width, Screen.k_height) / Math.floor((Task.test.length + 1) / 2);\r\n\t\t\t\t\t\ttop = MenuItem.starts + 40 + animal_height + 40;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar TopforTap = 0;\r\n\t\t\t\t\tfor(var i = 0; i < Task.test.length; i++) {\r\n\t\t\t\t\t\tvar wordFrame = Task.test[i][frametype2];\r\n\t\t\t\t\t\tArray[i] = {};\r\n\t\t\t\t\t\tArray[i].x = (edge + center/2-wordFrame.w*word_height/wordFrame.h/2);\r\n\t\t\t\t\t\tArray[i].y = top;\r\n\t\t\t\t\t\tArray[i].w = wordFrame.w*word_height/wordFrame.h;\r\n\t\t\t\t\t\tArray[i].h = word_height;\r\n\t\t\t\t\t\tif(Mode.Training && Task.test[i].Word == Task.asked.Word) {\r\n\t\t\t\t\t\t\tvar Hand_frame =  Properties.Buttons[\"tap.png\"];\r\n\t\t\t\t\t\t\tvar Hand = {};\r\n\t\t\t\t\t\t\tHand.h = 3/2*setWordHeight();\r\n\t\t\t\t\t\t\tHand.w = Hand.h * Hand_frame.w / Hand_frame.h;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tdrawTap( (edge + center/2-wordFrame.w*word_height/wordFrame.h/2) + wordFrame.w*word_height/wordFrame.h / 2 - Hand.w / 2, top, Hand.w, Hand.h);\r\n\t\t\t\t\t\t\tvar TopforTap = top;\r\n\t\t\t\t\t\t\tvar edgeforTap = edge;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(frametype1 == \"frame\") {\r\n\t\t\t\t\t\t\tif(i % 2){\r\n\t\t\t\t\t\t\t\ttop = top + word_height + 30;\r\n\t\t\t\t\t\t\t\tedge = 0;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse edge = center;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if(frametype1 == \"Wordsframe\"){\r\n\t\t\t\t\t\t\tif(!((i + 1) % Math.floor((Task.test.length + 1) / 2))){\r\n\t\t\t\t\t\t\t\ttop = top + word_height + 20;\r\n\t\t\t\t\t\t\t\tedge = 0;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse { \r\n\t\t\t\t\t\t\t\tedge = edge + center;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar i = k2;\r\n\t\t\t\t\tif(k3 == -1 && !PointInRect({x:mouseX, y:mouseY}, Array[i])) {\r\n\t\t\t\t\t\twordFrame = Task.test[i][frametype2];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tctx.clearRect((Array[i].x - 6)*Math.min(Screen.k_width, Screen.k_height), (Array[i].y - 3)*Math.min(Screen.k_width, Screen.k_height), (Array[i].w + 6)*Math.min(Screen.k_width, Screen.k_height), (Array[i].h + 6)*Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\t\tctx.drawImage(atlas[Task.TopicName + frametype2], wordFrame.x, wordFrame.y, wordFrame.w, wordFrame.h, (Array[i] - 6).x*Math.min(Screen.k_width, Screen.k_height), (Array[i].y - 6)*Math.min(Screen.k_width, Screen.k_height), (Array[i].w + 12)*Math.min(Screen.k_width, Screen.k_height), (Array[i].h + 12)*Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\t\tdrawTest();\r\n\t\t\t\t\t\tctx.drawImage(atlas[Task.TopicName + frametype2], wordFrame.x, wordFrame.y, wordFrame.w, wordFrame.h, (Array[i]).x*Math.min(Screen.k_width, Screen.k_height), (Array[i].y)*Math.min(Screen.k_width, Screen.k_height), (Array[i].w)*Math.min(Screen.k_width, Screen.k_height), (Array[i].h)*Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\t\tctx.drawImage(atlas[Task.TopicName + frametype2], wordFrame.x, wordFrame.y, wordFrame.w, wordFrame.h, (Array[i] - 6).x*Math.min(Screen.k_width, Screen.k_height), (Array[i].y)*Math.min(Screen.k_width, Screen.k_height), (Array[i].w)*Math.min(Screen.k_width, Screen.k_height), (Array[i].h)*Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\t\tif(Mode.Training && Task.test[k2].Word == Task.asked.Word) {\r\n\t\t\t\t\t\t\tvar Hand_frame =  Properties.Buttons[\"tap.png\"];\r\n\t\t\t\t\t\t\tvar Hand = {};\r\n\t\t\t\t\t\t\tHand.h = 3/2*setWordHeight();\r\n\t\t\t\t\t\t\tHand.w = Hand.h * Hand_frame.w / Hand_frame.h;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttop = TopforTap;\r\n\t\t\t\t\t\t\tedge = edgeforTap;\r\n\t\t\t\t\t\t\tdrawTap( (edge + center/2-wordFrame.w*word_height/wordFrame.h/2) + wordFrame.w*word_height/wordFrame.h / 2 - Hand.w / 2, top, Hand.w, Hand.h);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tword_ch = false;\r\n\t\t\t\t\t\tk2 = -1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(k3 != -1){\r\n\t\t\t\t\t\tdrawHeader();\r\n\t\t\t\t\t\twordFrame = Task.test[k3][frametype2];\r\n\t\t\t\t\t\tArray[k3].x = Array[k3].x + mouseX/Math.min(Screen.k_width, Screen.k_height) - Pressed.x/Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t\t\t\tArray[k3].y = Array[k3].y + mouseY/Math.min(Screen.k_width, Screen.k_height) - Pressed.y/Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t\t\t\tvar Point = {x:Array[k3].x*Math.min(Screen.k_width, Screen.k_height), y:Array[k3].y*Math.min(Screen.k_width, Screen.k_height)};\r\n\t\t\t\t\t\tvar Rect = {x:0, y:0, w:Screen.width/Math.min(Screen.k_width, Screen.k_height), h:MenuItem.starts + 20};\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tctx.clearRect((Array[k3].x - 6)*Math.min(Screen.k_width, Screen.k_height), (Array[k3].y - 3)*Math.min(Screen.k_width, Screen.k_height), (Array[k3].w + 6)*Math.min(Screen.k_width, Screen.k_height), (Array[k3].h + 6)*Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\t\tctx.drawImage(atlas[Task.TopicName + frametype2], wordFrame.x, wordFrame.y, wordFrame.w, wordFrame.h, (Array[k3] - 6).x*Math.min(Screen.k_width, Screen.k_height), (Array[k3].y - 6)*Math.min(Screen.k_width, Screen.k_height), (Array[k3].w + 12)*Math.min(Screen.k_width, Screen.k_height), (Array[k3].h + 12)*Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\t\tctx.clearRect(0, MenuItem.starts, Screen.width, Screen.height);\r\n\t\t\t\t\t\tdrawTest();\r\n\t\t\t\t\t\tctx.drawImage(atlas[Task.TopicName + frametype2], wordFrame.x, wordFrame.y, wordFrame.w, wordFrame.h, (Array[k3]).x*Math.min(Screen.k_width, Screen.k_height), (Array[k3].y)*Math.min(Screen.k_width, Screen.k_height), (Array[k3].w)*Math.min(Screen.k_width, Screen.k_height), (Array[k3].h)*Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\t\tctx.drawImage(atlas[Task.TopicName + frametype2], wordFrame.x, wordFrame.y, wordFrame.w, wordFrame.h, (Array[k3] - 6).x*Math.min(Screen.k_width, Screen.k_height), (Array[k3].y)*Math.min(Screen.k_width, Screen.k_height), (Array[k3].w)*Math.min(Screen.k_width, Screen.k_height), (Array[k3].h)*Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\t\tif(Mode.Training && Task.test[k3].Word == Task.asked.Word) {\r\n\t\t\t\t\t\t\tvar Hand_frame =  Properties.Buttons[\"tap.png\"];\r\n\t\t\t\t\t\t\tvar Hand = {};\r\n\t\t\t\t\t\t\tHand.h = 3/2*setWordHeight();\r\n\t\t\t\t\t\t\tHand.w = Hand.h * Hand_frame.w / Hand_frame.h;\r\n\t\t\t\t\t\t\tvar top, animal_height, center;\r\n\t\t\t\t\t\t\t//var animal_height = Screen.height / Math.min(Screen.k_width, Screen.k_height) / 4;\r\n\t\t\t\t\t\t\tif(frametype1 == \"frame\") {\r\n\t\t\t\t\t\t\t\tanimal_height = Screen.height / Math.min(Screen.k_width, Screen.k_height) / 4;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tanimal_height = 50;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvar edge = 0;\r\n\t\t\t\t\t\t\tif(frametype1 == \"frame\") {\r\n\t\t\t\t\t\t\t\tcenter = Screen.width / Math.min(Screen.k_width, Screen.k_height) / 2;\r\n\t\t\t\t\t\t\t\ttop = MenuItem.starts + 40 + animal_height + 40;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if(frametype1 == \"Wordsframe\") {\r\n\t\t\t\t\t\t\t\tcenter = Screen.width / Math.min(Screen.k_width, Screen.k_height) / Math.floor((Task.test.length + 1) / 2);\r\n\t\t\t\t\t\t\t\ttop = MenuItem.starts + 40 + animal_height + 40;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvar word_height = setWordHeight();\r\n\t\t\t\t\t\t\tdrawTap( (Screen.width / Math.min(Screen.k_width, Screen.k_height) - Task.asked[frametype1].w*animal_height/Task.asked[frametype1].h) / 2 +  Task.asked[frametype1].w*animal_height/Task.asked[frametype1].h / 2 - Hand.w / 2, MenuItem.starts + (20 + 20) + animal_height / 2 - Hand.h / 2, Hand.w, Hand.h);\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcatch(e){}\r\n\t\t\t\r\n\t\t\tif(Mode.Results || (Mode.Exercise && !Mode.MusicVideo)) {\r\n\t\t\tvar frame = Properties.Forms[\"result_form.png\"];\r\n\t\t\tvar Result_form = {};\r\n\t\t\tResult_form.h = MenuItem.size;\r\n\t\t\tResult_form.w = Result_form.h * frame.w / frame.h;\r\n\t\t\tResult_form.x = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - Result_form.w) / 2;\r\n\t\t\tResult_form.y = (Screen.height / Math.min(Screen.k_width, Screen.k_height) - Result_form.h) / 2;\r\n\t\t\t\r\n\t\t\tvar btn = Properties.Forms[\"result_form_try_again_btn.png\"];\r\n\t\t\tvar btn_width = (Result_form.w - 2 * 20 * Result_form.w / frame.w - 20) / 2;\r\n\t\t\tvar btn_height = btn_width * btn.h / btn.w;\r\n\t\t\t\r\n\t\t\t//try again hovered in show results\r\n\t\t\tif (!Mode.Quiz && Mode.Results && !Mode.SignIn && !Mode.LogIn &&!try_again_ch && mouseInRect(Result_form.x + 20 * Result_form.w / frame.w, Result_form.y + Result_form.h - btn_height / 2 - 10 * Result_form.w / frame.w, btn_width, btn_height)) {\r\n\t\t\t\t//clearScreenRect(Result_form.x + 20 * Result_form.w / frame.w, Result_form.y + Result_form.h - btn_height / 2 - 10 * Result_form.w / frame.w, btn_width, btn_height);\r\n\t\t\t\tdrawResultTryAgainButton(Result_form.x + 20 * Result_form.w / frame.w - 3, Result_form.y + Result_form.h - btn_height / 2 - 10 * Result_form.w / frame.w - 3, btn_width + 6, btn_height + 6);\r\n\t\t\t\ttry_again_ch = true;\r\n\t\t\t}\r\n\t\t\telse if(!Mode.Quiz && Mode.Results && !Mode.SignIn && !Mode.LogIn && try_again_ch && !(mouseInRect(Result_form.x + 20 * Result_form.w / frame.w - 3, Result_form.y + Result_form.h - btn_height / 2 - 10 * Result_form.w / frame.w - 3, btn_width - 6, btn_height + 6))) {\r\n\t\t\t\tclearScreenRect(Result_form.x + 20 * Result_form.w / frame.w - 3, Result_form.y + Result_form.h - btn_height / 2 - 10 * Result_form.w / frame.w - 3, btn_width + 6, btn_height + 6);\r\n\t\t\t\tdrawResultForm(Result_form.x, Result_form.y, Result_form.w, Result_form.h);\r\n\t\t\t\tdrawResultTryAgainButton(Result_form.x + 20 * Result_form.w / frame.w, Result_form.y + Result_form.h - btn_height / 2 - 10 * Result_form.w / frame.w, btn_width, btn_height);\r\n\t\t\t\tdrawResultOkayButton(Result_form.x + 20 * Result_form.w / frame.w + 20 + btn_width, Result_form.y + Result_form.h - btn_height / 2 -  10 * Result_form.w / frame.w, btn_width, btn_height);\r\n\t\t\t\t\t\r\n\t\t\t\tvar Correct = countCorrect(Task.Result.Answers);\r\n\t\t\t\tvar Answers = Task.Result.Answers;\r\n\t\t\t\tvar Total = Task.Total;\r\n\t\t\t\tvar Max = Task.MaxPoint;\r\n\t\t\t\tvar digit_frame = Properties.Numbers[\"small-dark-1.png\"];\r\n\t\t\t\tvar digit = {};\r\n\t\t\t\tdigit.h = 12  * Result_form.h / frame.h;\r\n\t\t\t\tdigit.w = digit.h * digit_frame.w / digit_frame.h;\r\n\t\t\t\t\r\n\t\t\t\t//drawDigit(Correct, Result_form.x + 115 * Result_form.w / frame.w, Result_form.y + 51 * Result_form.h / frame.h - digit.h, digit.w, digit.h, \"small-dark\");\r\n\t\t\t\t//drawDigit(Total, Result_form.x + 115 * Result_form.w / frame.w, Result_form.y + 68 * Result_form.h / frame.h - digit.h, digit.w, digit.h, \"small-dark\");\r\n\t\t\t\tCorrect = Correct +\"\";\r\n\t\t\t\tfor(var j = 0; j < Correct.length; j++)\r\n\t\t\t\t\tdrawDigit(Correct[j], Result_form.x + 115 * Result_form.w / frame.w + j * digit.w, Result_form.y + 51 * Result_form.h / frame.h - digit.h, digit.w, digit.h, \"small-dark\");\r\n\t\t\t\tTotal = Total +\"\";\r\n\t\t\t\tfor(var j = 0; j < Total.length; j++)\r\n\t\t\t\t\tdrawDigit(Total[j], Result_form.x + 115 * Result_form.w / frame.w + j * digit.w, Result_form.y + 68 * Result_form.h / frame.h - digit.h, digit.w, digit.h, \"small-dark\");\r\n\t\t\t\t\r\n\t\t\t\tvar points = countPoints(Answers, Total, Max);\r\n\t\t\t\t//var stars = Math.round(points / (Max * Total) * 5);\r\n\t\t\t\tvar stars = 0;\r\n\t\t\t\tif(!Mode.Quiz)\r\n\t\t\t\t\tstars = Math.round(points / (Max * Total) * 5);\r\n\t\t\t\telse\r\n\t\t\t\t\tstars = Math.round(points / Quiz.TotalMax * 5);\r\n\t\t\t\t\r\n\t\t\t\tpoints = points +\"\";\r\n\t\t\t\tfor(var j = 0; j < points.length; j++)\r\n\t\t\t\t\tdrawDigit(points[j], Result_form.x + 115 * Result_form.w / frame.w + j * digit.w, Result_form.y + 86 * Result_form.h / frame.h - digit.h, digit.w, digit.h, \"small-dark\");\r\n\t\t\t\tvar star_frame = Properties.Buttons[\"star.png\"];\r\n\t\t\t\tvar star = {}\r\n\t\t\t\tstar.h = digit.h;\r\n\t\t\t\tstar.w = star.h * star_frame.w / star_frame.h;\r\n\t\t\t\tfor(var j = 0; j < stars; j++)\r\n\t\t\t\t\tdrawStar(Result_form.x + 115 * Result_form.w / frame.w + j * star.w, Result_form.y + 103 * Result_form.h / frame.h - star.h, star.w, star.h);\r\n\t\t\t\tfor(var j = 0; j < 5 - stars; j++)\r\n\t\t\t\t\tdrawDarkStar(Result_form.x + 115 * Result_form.w / frame.w + (stars + j) * star.w, Result_form.y + 103 * Result_form.h / frame.h - star.h, star.w, star.h);\r\n\t\t\t\tvar minuts = 0, seconds = 0;\r\n\t\t\t\tif(Mode.Quiz) {\r\n\t\t\t\t\tminuts = Math.floor((Quiz.Finish.getTime() - Quiz.Start.getTime()) / 1000 / 60) + \"\";\r\n\t\t\t\t\tseconds = Math.floor((Quiz.Finish.getTime() - Quiz.Start.getTime()) / 1000 - minuts * 60) + \"\";\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tminuts = Math.floor((Task.Result.Finish.getTime() - Task.Result.Start.getTime()) / 1000 / 60) + \"\";\r\n\t\t\t\t\tseconds = Math.floor((Task.Result.Finish.getTime() - Task.Result.Start.getTime()) / 1000 - minuts * 60) + \"\";\r\n\t\t\t\t}\r\n\t\t\t\tvar i = 0;\r\n\t\t\t\tvar j = 0;\r\n\t\t\t\tif(minuts != \"0\") {\r\n\t\t\t\t\tfor (i; i < minuts.length; i++) {\r\n\t\t\t\t\t\tdrawDigit(minuts[i], Result_form.x + 115 * Result_form.w / frame.w + i * digit.w, Result_form.y + 120 * Result_form.h / frame.h - digit.h, digit.w, digit.h, \"small-dark\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar min = \"min\";\r\n\t\t\t\t\ti++;\r\n\t\t\t\t\tfor(j; j < min.length;j++) {\r\n\t\t\t\t\t\tdrawLetter(min[j], Result_form.x + 115 * Result_form.w / frame.w + (i + j) * digit.w, Result_form.y + 120 * Result_form.h / frame.h - digit.h, digit.w, digit.h, \"small-dark\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\ti = i + j + 1;\r\n\t\t\t\t\tj = 0;\r\n\t\t\t\t}\r\n\t\t\t\tif(seconds != \"0\") {\r\n\t\t\t\t\tfor (j = 0; j < seconds.length; j++) {\r\n\t\t\t\t\t\tdrawDigit(seconds[j], Result_form.x + 115 * Result_form.w / frame.w + (i + j) * digit.w, Result_form.y + 120 * Result_form.h / frame.h - digit.h, digit.w, digit.h, \"small-dark\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\ti = i + j + 1;\r\n\t\t\t\t\tvar sec = \"sec\";\r\n\t\t\t\t\tfor(j = 0; j < sec.length;j++) {\r\n\t\t\t\t\t\tdrawLetter(sec[j], Result_form.x + 115 * Result_form.w / frame.w + (i + j) * digit.w, Result_form.y + 120 * Result_form.h / frame.h - digit.h, digit.w, digit.h, \"small-dark\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\ttry_again_ch = false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\tvar frame = Properties.Forms[\"result_form.png\"];\r\n\t\t\t\tvar Result_form = {};\r\n\t\t\t\tResult_form.h = MenuItem.size;\r\n\t\t\t\tResult_form.w = Result_form.h * frame.w / frame.h;\r\n\t\t\t\tResult_form.x = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - Result_form.w) / 2;\r\n\t\t\t\tResult_form.y = (Screen.height / Math.min(Screen.k_width, Screen.k_height) - Result_form.h) / 2;\r\n\t\t\t\t\r\n\t\t\t\tvar size_btn = setWordHeight();\r\n\t\t\t\tif(frametype1 == \"Wordsframe\" && frametype2 == \"frame\")\r\n\t\t\t\t\tsize_btn = 70;\r\n\t\t\t\tvar frame = Properties.Buttons[\"skip.png\"];\r\n\t\t\t\t\r\n\t\t\t\t//skip hovered\r\n\t\t\t\tif (Mode.Training && (Mode.Exercise && !Mode.MusicVideo) && !Mode.SignIn && !Mode.LogIn &&!skip_ch && mouseInRect(Title.leftSpace + 20, MenuItem.starts + 20, size_btn * frame.w / frame.h,size_btn)) {\r\n\t\t\t\t\t//clearScreenRect(Result_form.x + 20 * Result_form.w / frame.w, Result_form.y + Result_form.h - btn_height / 2 - 10 * Result_form.w / frame.w, btn_width, btn_height);\r\n\t\t\t\t\tclearScreenRect(Title.leftSpace + 20, MenuItem.starts + 20, size_btn * frame.w / frame.h,size_btn)\r\n\t\t\t\t\tdrawSkip(Title.leftSpace + 20 - 3, MenuItem.starts + 20 - 3, size_btn * frame.w / frame.h + 6, size_btn + 6)\r\n\t\t\t\t\tskip_ch = true;\r\n\t\t\t\t}\r\n\t\t\t\telse if(Mode.Training && (Mode.Exercise && !Mode.MusicVideo) && !Mode.SignIn && !Mode.LogIn && skip_ch && !(mouseInRect(Title.leftSpace + 20 - 3, MenuItem.starts + 20 - 3, size_btn * frame.w / frame.h + 6,size_btn + 6))) {\r\n\t\t\t\t\tclearScreenRect(Title.leftSpace + 20 - 3, MenuItem.starts + 20 - 3, size_btn * frame.w / frame.h + 6, size_btn + 6)\r\n\t\t\t\t\tdrawSkip(Title.leftSpace + 20, MenuItem.starts + 20, size_btn * frame.w / frame.h,size_btn)\r\n\t\t\t\t\tskip_ch = false;\r\n\t\t\t\t}\t\t\t\r\n\t\t\t\tvar frame = Properties.Forms[\"result_form.png\"];\r\n\t\t\t\tvar Result_form = {};\r\n\t\t\t\tResult_form.h = MenuItem.size;\r\n\t\t\t\tResult_form.w = Result_form.h * frame.w / frame.h;\r\n\t\t\t\tResult_form.x = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - Result_form.w) / 2;\r\n\t\t\t\tResult_form.y = (Screen.height / Math.min(Screen.k_width, Screen.k_height) - Result_form.h) / 2;\r\n\t\t\t\t\r\n\t\t\t\tvar btn = Properties.Forms[\"result_form_try_again_btn.png\"];\r\n\t\t\t\tvar btn_width = (Result_form.w - 2 * 20 * Result_form.w / frame.w - 20) / 2;\r\n\t\t\t\tvar btn_height = btn_width * btn.h / btn.w;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t//okay hovered in show results\r\n\t\t\t\tif (Mode.Results && !Mode.SignIn && !Mode.LogIn &&!okay_ch && mouseInRect(Result_form.x + 20 * Result_form.w / frame.w + 20 + btn_width, Result_form.y + Result_form.h - btn_height / 2 -  10 * Result_form.w / frame.w, btn_width, btn_height)) {\r\n\t\t\t\t\t//clearScreenRect(Result_form.x + 20 * Result_form.w / frame.w, Result_form.y + Result_form.h - btn_height / 2 - 10 * Result_form.w / frame.w, btn_width, btn_height);\r\n\t\t\t\t\tdrawResultOkayButton(Result_form.x + 20 * Result_form.w / frame.w + 20 + btn_width - 3, Result_form.y + Result_form.h - btn_height / 2 -  10 * Result_form.w / frame.w - 3, btn_width + 6, btn_height + 6);\r\n\t\t\t\t\tokay_ch = true;\r\n\t\t\t\t}\r\n\t\t\t\telse if(Mode.Results && !Mode.SignIn && !Mode.LogIn && okay_ch && !(mouseInRect(Result_form.x + 20 * Result_form.w / frame.w + 20 + btn_width - 3, Result_form.y + Result_form.h - btn_height / 2 -  10 * Result_form.w / frame.w - 3, btn_width + 6, btn_height + 6))) {\r\n\t\t\t\t\tclearScreenRect(Result_form.x + 20 * Result_form.w / frame.w + 20 + btn_width - 3, Result_form.y + Result_form.h - btn_height / 2 -  10 * Result_form.w / frame.w - 3 + 6, btn_width, btn_height + 6);\r\n\t\t\t\t\tdrawResultForm(Result_form.x, Result_form.y, Result_form.w, Result_form.h);\r\n\t\t\t\t\tdrawResultOkayButton(Result_form.x + 20 * Result_form.w / frame.w + 20 + btn_width, Result_form.y + Result_form.h - btn_height / 2 -  10 * Result_form.w / frame.w, btn_width, btn_height);\r\n\t\t\t\t\tif(!Mode.Quiz)\r\n\t\t\t\t\t\tdrawResultTryAgainButton(Result_form.x + 20 * Result_form.w / frame.w, Result_form.y + Result_form.h - btn_height / 2 - 10 * Result_form.w / frame.w, btn_width, btn_height);\r\n\t\t\t\t\tvar Correct = 0;\r\n\t\t\t\t\tif(!Mode.Quiz)\r\n\t\t\t\t\t\tCorrect = countCorrect(Task.Result.Answers);\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tCorrect = Quiz.Correct;\r\n\t\t\t\t\tvar Answers = Task.Result.Answers;\r\n\t\t\t\t\tvar Total = 0;\r\n\t\t\t\t\tif(!Mode.Quiz)\r\n\t\t\t\t\t\tTotal = Task.Total;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tTotal = Quiz.Total;\r\n\t\t\t\t\tvar Max = Task.MaxPoint;\r\n\t\t\t\t\tvar digit_frame = Properties.Numbers[\"small-dark-1.png\"];\r\n\t\t\t\t\tvar digit = {};\r\n\t\t\t\t\tdigit.h = 12  * Result_form.h / frame.h;\r\n\t\t\t\t\tdigit.w = digit.h * digit_frame.w / digit_frame.h;\r\n\t\t\t\t\t\r\n\t\t\t\t\t//drawDigit(Correct, Result_form.x + 115 * Result_form.w / frame.w, Result_form.y + 51 * Result_form.h / frame.h - digit.h, digit.w, digit.h, \"small-dark\");\r\n\t\t\t\t\t//drawDigit(Total, Result_form.x + 115 * Result_form.w / frame.w, Result_form.y + 68 * Result_form.h / frame.h - digit.h, digit.w, digit.h, \"small-dark\");\r\n\t\t\t\t\tCorrect = Correct +\"\";\r\n\t\t\t\t\tfor(var j = 0; j < Correct.length; j++)\r\n\t\t\t\t\t\tdrawDigit(Correct[j], Result_form.x + 115 * Result_form.w / frame.w + j * digit.w, Result_form.y + 51 * Result_form.h / frame.h - digit.h, digit.w, digit.h, \"small-dark\");\r\n\t\t\t\t\tTotal = Total +\"\";\r\n\t\t\t\t\tfor(var j = 0; j < Total.length; j++)\r\n\t\t\t\t\t\tdrawDigit(Total[j], Result_form.x + 115 * Result_form.w / frame.w + j * digit.w, Result_form.y + 68 * Result_form.h / frame.h - digit.h, digit.w, digit.h, \"small-dark\");\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar point = 0;\r\n\t\t\t\t\tif(!Mode.Quiz)\r\n\t\t\t\t\t\tpoints = countPoints(Answers, Total, Max);\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tpoints = Quiz.Points;\r\n\t\t\t\t\tif(!Mode.Quiz)\r\n\t\t\t\t\t\tstars = Math.round(points / (Max * Total) * 5);\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tstars = Math.round(points / Quiz.TotalMax * 5);\r\n\t\t\t\t\tpoints = points +\"\";\r\n\t\t\t\t\tfor(var j = 0; j < points.length; j++)\r\n\t\t\t\t\t\tdrawDigit(points[j], Result_form.x + 115 * Result_form.w / frame.w + j * digit.w, Result_form.y + 86 * Result_form.h / frame.h - digit.h, digit.w, digit.h, \"small-dark\");\r\n\t\t\t\t\tvar star_frame = Properties.Buttons[\"star.png\"];\r\n\t\t\t\t\tvar star = {}\r\n\t\t\t\t\tstar.h = digit.h;\r\n\t\t\t\t\tstar.w = star.h * star_frame.w / star_frame.h;\r\n\t\t\t\t\tfor(var j = 0; j < stars; j++)\r\n\t\t\t\t\t\tdrawStar(Result_form.x + 115 * Result_form.w / frame.w + j * star.w, Result_form.y + 103 * Result_form.h / frame.h - star.h, star.w, star.h);\r\n\t\t\t\t\tfor(var j = 0; j < 5 - stars; j++)\r\n\t\t\t\t\t\tdrawDarkStar(Result_form.x + 115 * Result_form.w / frame.w + (stars + j) * star.w, Result_form.y + 103 * Result_form.h / frame.h - star.h, star.w, star.h);\r\n\t\t\t\t\tvar minuts = 0, seconds = 0;\r\n\t\t\t\t\tif(Mode.Quiz) {\r\n\t\t\t\t\t\tminuts = Math.floor((Quiz.Finish.getTime() - Quiz.Start.getTime()) / 1000 / 60) + \"\";\r\n\t\t\t\t\t\tseconds = Math.floor((Quiz.Finish.getTime() - Quiz.Start.getTime()) / 1000 - minuts * 60) + \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tminuts = Math.floor((Task.Result.Finish.getTime() - Task.Result.Start.getTime()) / 1000 / 60) + \"\";\r\n\t\t\t\t\t\tseconds = Math.floor((Task.Result.Finish.getTime() - Task.Result.Start.getTime()) / 1000 - minuts * 60) + \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar i = 0;\r\n\t\t\t\t\tvar j = 0;\r\n\t\t\t\t\tif(minuts != \"0\") {\r\n\t\t\t\t\t\tfor (i; i < minuts.length; i++) {\r\n\t\t\t\t\t\t\tdrawDigit(minuts[i], Result_form.x + 115 * Result_form.w / frame.w + i * digit.w, Result_form.y + 120 * Result_form.h / frame.h - digit.h, digit.w, digit.h, \"small-dark\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar min = \"min\";\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t\tfor(j; j < min.length;j++) {\r\n\t\t\t\t\t\t\tdrawLetter(min[j], Result_form.x + 115 * Result_form.w / frame.w + (i + j) * digit.w, Result_form.y + 120 * Result_form.h / frame.h - digit.h, digit.w, digit.h, \"small-dark\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ti = i + j + 1;\r\n\t\t\t\t\t\tj = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(seconds != \"0\") {\r\n\t\t\t\t\t\tfor (j = 0; j < seconds.length; j++) {\r\n\t\t\t\t\t\t\tdrawDigit(seconds[j], Result_form.x + 115 * Result_form.w / frame.w + (i + j) * digit.w, Result_form.y + 120 * Result_form.h / frame.h - digit.h, digit.w, digit.h, \"small-dark\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ti = i + j + 1;\r\n\t\t\t\t\t\tvar sec = \"sec\";\r\n\t\t\t\t\t\tfor(j = 0; j < sec.length;j++) {\r\n\t\t\t\t\t\t\tdrawLetter(sec[j], Result_form.x + 115 * Result_form.w / frame.w + (i + j) * digit.w, Result_form.y + 120 * Result_form.h / frame.h - digit.h, digit.w, digit.h, \"small-dark\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tokay_ch = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(Mode.MenuItem) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tvar frame = Properties.Buttons[\"menu_btn.png\"];\r\n\t\t\t\t\tvar MenuFrame = {};\r\n\t\t\t\t\tMenuFrame.x = Title.leftSpace;\r\n\t\t\t\t\tMenuFrame.y = 20;\r\n\t\t\t\t\tMenuFrame.h = MenuItem.starts - 2 * 20;\r\n\t\t\t\t\tMenuFrame.w = frame.w / frame.h * MenuFrame.h;\r\n\t\t\t\t\t// menu button has been hovered\r\n\t\t\t\t\tif(Mode.Mobile && Mode.MenuItem && !Mode.Exercise && !Mode.Results && !Mode.SignIn && !Mode.LogIn && !menu_btn_ch && mouseInRect(MenuFrame.x, MenuFrame.y, MenuFrame.w, MenuFrame.h)) {\r\n\t\t\t\t\t\tdrawMenuButton(MenuFrame.x - 5, MenuFrame.y - 5, MenuFrame.w + 10, MenuFrame.h + 10);\r\n\t\t\t\t\t\tmenu_btn_ch = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(Mode.Mobile && Mode.MenuItem && !Mode.Exercise && !Mode.Results && !Mode.SignIn && !Mode.LogIn && menu_btn_ch && !mouseInRect(MenuFrame.x, MenuFrame.y, MenuFrame.w, MenuFrame.h)) {\r\n\t\t\t\t\t\tfillRectYellow(MenuFrame.x - 5, MenuFrame.y - 5, MenuFrame.w + 10, MenuFrame.h + 10);\r\n\t\t\t\t\t\tdrawMenuButton(MenuFrame.x, MenuFrame.y, MenuFrame.w, MenuFrame.h);\r\n\t\t\t\t\t\tmenu_btn_ch = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcatch(e){}\r\n\t\t\t}\r\n\t\t}\r\n\t\tfunction leftArrowClicked() {\r\n\t\t\tMenuItem.clicked = -1;\r\n\t\t\tMenuItem.chosen = MenuItem.clicked;\r\n\t\t\tif(MenuItem.firstItem > 0) {\r\n\t\t\t\tMenuItem.firstItem = MenuItem.firstItem - 1;\r\n\t\t\t\tclearMenuItemRect((MenuItem.leftSpace - 5), ( MenuItem.topSpace + MenuItem.size / 2 - l_a_height / 2 - 5) , (koef*100 + 10), (koef*100*226/152 + 10));\r\n\t\t\t\tdrawMenuItems()\r\n\t\t\t\tl_a_x = MenuItem.leftSpace;\r\n\t\t\t\tl_a_width = 100*koef;\r\n\t\t\t\tl_a_height = koef*100*226/152;\r\n\t\t\t\tl_a_y =  MenuItem.topSpace + MenuItem.size / 2 - l_a_height / 2;\r\n\t\t\t\tif(MenuItem.firstItem) {\r\n\t\t\t\t\tdrawLeftArrow(l_a_x, l_a_y , l_a_width, l_a_height);\r\n\t\t\t\t}\r\n\t\t\t\tif(MenuItem.firstItem + MenuItem.display < MenuItem.itemsCount) {\r\n\t\t\t\t\tr_a_height = koef*100*226/152;\r\n\t\t\t\t\tr_a_y =  MenuItem.topSpace + MenuItem.size / 2 - r_a_height / 2;\r\n\t\t\t\t\tr_a_width = koef*100;\r\n\t\t\t\t\tr_a_x = MenuItem.rwidth / Math.min(Screen.k_width, Screen.k_height) - MenuItem.leftSpace - r_a_width;\r\n\t\t\t\t\tdrawRightArrow(Screen.width / Math.min(Screen.k_width, Screen.k_height) - MenuItem.leftSpace - r_a_width,  MenuItem.topSpace + MenuItem.size / 2 - r_a_height / 2, koef*100, koef*100*226/152);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdelete l_a_x, l_a_y , l_a_width, l_a_height\r\n\t\t}\r\n\t\tfunction rightArrowClicked() {\r\n\t\t\tMenuItem.clicked = -1;\r\n\t\t\tMenuItem.chosen = MenuItem.clicked;\r\n\t\t\tMenuItem.firstItem = MenuItem.firstItem + 1;\r\n\t\t\tl_a_x = MenuItem.leftSpace;\r\n\t\t\tl_a_width = 100*koef;\r\n\t\t\tl_a_height = koef*100*226/152;\r\n\t\t\tl_a_y =  MenuItem.topSpace + MenuItem.size / 2 - l_a_height / 2;\r\n\t\t\tif(MenuItem.firstItem + MenuItem.display >= MenuItem.itemsCount) {\r\n\t\t\t\tclearMenuItemRect(MenuItem.rwidth / Math.min(Screen.k_width, Screen.k_height) - MenuItem.leftSpace - 100*koef - 5, MenuItem.topSpace + MenuItem.size / 2 - l_a_height / 2 - 5, koef*100 + 10, koef*100*226/152 + 10);\r\n\t\t\t}\r\n\t\t\tdrawLeftArrow(l_a_x, l_a_y, l_a_width, l_a_height);\r\n\t\t\tdrawMenuItems()\r\n\t\t\tdelete l_a_x, l_a_y , l_a_width, l_a_height\r\n\t\t}\r\n\r\n\t\tfunction bottomArrowClicked() {\r\n\t\t\t\tj = MenuItem.clicked;\r\n\t\t\t\tpX = 2 * MenuItem.leftSpace + 100*koef + 68 * (j - MenuItem.firstItem + 1) + MenuItem.size * (j - MenuItem.firstItem) - 68;\r\n\t\t\t\tpY =  MenuItem.topSpace;\r\n\t\t\t\tt_a_width = 100*0.5;\r\n\t\t\t\tt_a_height = 0.5*100*226/152;\r\n\t\t\t\tTask.firstTask = Task.firstTask + 1;\r\n\t\t\t\tdrawTask(j, Task.firstTask, pX, (pY+ t_a_width + Task.topSpace), MenuItem.size, 55/368*MenuItem.size)\r\n\t\t\t\tdrawTask(j, Task.firstTask + 1, pX, (pY + 55/368*MenuItem.size + 10 + t_a_width + Task.topSpace), MenuItem.size, 55/368*MenuItem.size)\r\n\t\t\t\tdrawTask(j, Task.firstTask + 2, pX, (pY + (55/368*MenuItem.size + 10) * 2+ t_a_width + Task.topSpace), MenuItem.size, 55/368*MenuItem.size)\r\n\t\t\t\tdrawTask(j , Task.firstTask + 3, pX, (pY + (55/368*MenuItem.size + 10) * 3+ t_a_width + Task.topSpace), MenuItem.size, 55/368*MenuItem.size)\r\n\t\t\t\t\r\n\t\t\t\tif(Task.firstTask > 0) {\r\n\t\t\t\t//top arrow\r\n\t\t\t\tctx.save();\r\n\t\t\t\tctx.translate((pX + MenuItem.size / 2 + 3/4*t_a_width)*Math.min(Screen.k_width, Screen.k_height), pY*Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\tctx.rotate(Math.PI / 2);\r\n\t\t\t\tdrawLeftArrow(0, 0, t_a_width, t_a_height)\r\n\t\t\t\tctx.restore();\r\n\t\t\t\t}\r\n\t\t\t\tif(Task.firstTask + Task.display >= Task.itemsCount[MenuItem.clicked]){\r\n\t\t\t\t\tb_a_height = 100*0.5;\r\n\t\t\t\t\tb_a_width = 0.5*100*226/152;\r\n\t\t\t\t\tpX = 2 * MenuItem.leftSpace + 100*koef + 68 * (MenuItem.clicked - MenuItem.firstItem + 1) + MenuItem.size * (MenuItem.clicked - MenuItem.firstItem) - 68 + MenuItem.size / 2 - b_a_width / 2;\r\n\t\t\t\t\t//pY = Screen.height / Math.min(Screen.k_width, Screen.k_height) - MenuItem.topSpace - b_a_height;\r\n\t\t\t\t\tpY = MenuItem.topSpace + MenuItem.size - b_a_height;\r\n\t\t\t\t\tctx.clearRect((pX-3)*Math.min(Screen.k_width, Screen.k_height), (pY-3)*Math.min(Screen.k_width, Screen.k_height), (b_a_width + 6)*Math.min(Screen.k_width, Screen.k_height), (b_a_height + 6)*Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction topArrowClicked() {\r\n\t\t\t\tj = MenuItem.clicked;\r\n\t\t\t\tpX = 2 * MenuItem.leftSpace + 100*koef + 68 * (j - MenuItem.firstItem + 1) + MenuItem.size * (j - MenuItem.firstItem) - 68;\r\n\t\t\t\tpY =  MenuItem.topSpace;\r\n\t\t\t\tt_a_width = 100*0.5;\r\n\t\t\t\tt_a_height = 0.5*100*226/152;\r\n\t\t\t\tTask.firstTask = Task.firstTask - 1;\r\n\t\t\t\t\r\n\t\t\t\tdrawTask(j, Task.firstTask, pX, (pY+ t_a_width + Task.topSpace), MenuItem.size, 55/368*MenuItem.size)\r\n\t\t\t\t//Trace the letters\r\n\t\t\t\tdrawTask(j, Task.firstTask + 1, pX, (pY + 55/368*MenuItem.size + 10 + t_a_width + Task.topSpace), MenuItem.size, 55/368*MenuItem.size)\r\n\t\t\t\t//Name the letter\r\n\t\t\t\tdrawTask(j, Task.firstTask + 2, pX, (pY + (55/368*MenuItem.size + 10) * 2+ t_a_width + Task.topSpace), MenuItem.size, 55/368*MenuItem.size)\r\n\t\t\t\t//Name the letter sounds\r\n\t\t\t\tdrawTask(j , Task.firstTask + 3, pX, (pY + (55/368*MenuItem.size + 10) * 3+ t_a_width + Task.topSpace), MenuItem.size, 55/368*MenuItem.size)\r\n\t\t\t\t\r\n\t\t\t\tif(Task.firstTask <= 0) {\r\n\t\t\t\tt_a_height = 100*0.5;\r\n\t\t\t\tt_a_width = 0.5*100*226/152;\r\n\t\t\t\tpX = 2 * MenuItem.leftSpace + 100*koef + 68 * (MenuItem.clicked - MenuItem.firstItem + 1) + MenuItem.size * (MenuItem.clicked - MenuItem.firstItem) - 68 + MenuItem.size / 2 - t_a_width / 2;\r\n\t\t\t\tpY =  MenuItem.topSpace;\r\n\t\t\t\tctx.clearRect((pX - 3)*Math.min(Screen.k_width, Screen.k_height), (pY - 3)*Math.min(Screen.k_width, Screen.k_height), (t_a_width + 6)*Math.min(Screen.k_width, Screen.k_height), (t_a_height + 6)*Math.min(Screen.k_width, Screen.k_height))\r\n\t\t\t\t}\r\n\t\t\t\t//draw bottom arrow\r\n\t\t\t\t\t//bottom arrow\r\n\t\t\t\t\tpX = 2 * MenuItem.leftSpace + 100*koef + 68 * (MenuItem.clicked - MenuItem.firstItem + 1) + MenuItem.size * (MenuItem.clicked - MenuItem.firstItem) - 68;\r\n\t\t\t\t\tpY =  MenuItem.topSpace + MenuItem.size;\r\n\t\t\t\t\tb_a_width = 100*0.5;\r\n\t\t\t\t\tb_a_height = 0.5*100*226/152;\r\n\t\t\t\t\tctx.save();\r\n\t\t\t\t\tctx.translate((pX + MenuItem.size / 2 - 3/4*b_a_width)*Math.min(Screen.k_width, Screen.k_height), pY*Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\tctx.rotate(-Math.PI / 2);\r\n\t\t\t\t\tdrawLeftArrow(0, 0, b_a_width, b_a_height)\r\n\t\t\t\t\tctx.restore();\r\n\t\t\t\t\r\n\t\t}\r\n\r\n\t\tvar atlasMenuItemTask = new Image();\r\n\t\tMenuItem.loadedMenuItemTasks = false;\r\n\t\tfunction loadMenuItemsTasks(j){\r\n\t\t\t// Load image and the json that defines locations\r\n\t\t\tatlasMenuItemTask.src = '/img/Menu-Items/Tasks.png';\r\n\t\t\tatlasMenuItemTask.addEventListener(\"load\", function() {\r\n\t\t\t\tMenuItem.loadMenuItemsTasks = true;\r\n\t\t\t\tdrawMenuItemsTasks(j);\r\n\t\t\t}, false);\t\r\n\t\t}\r\n\t\tfunction getUserNameLogIn(str, x, y){\r\n\t\t\t$(document).keydown(function(e){\r\n\t\t\t\t\tif(Profile.storeUserNameLogIn == true) {\r\n\t\t\t\t\tkey = e.which || e.keyCode;\r\n\t\t\t\t\t/*if(key >= 48 && key <= 105) {\r\n\t\t\t\t\t\tif(Profile.UserName != \"Username\")\r\n\t\t\t\t\t\t\tProfile.UserName = Profile.UserName + String.fromCharCode(key);\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tProfile.UserName = String.fromCharCode(key)\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(key == 32) {\r\n\t\t\t\t\t\t\tProfile.UserName = Profile.UserName = Profile.UserName + \" \"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\telse if(key == 8)\r\n\t\t\t\t\t\tProfile.UserName = Profile.UserName.substring(0, Profile.UserName.length-1);\r\n\t\t\t\t\tdelete key, e*/\r\n\t\t\t\t\t\tProfile.UserName = $(\"#UserName\").value;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\t$(document).keyup(function(e){\r\n\t\t\t\t\tif(Profile.storeUserNameLogIn == true) {\r\n\t\t\t\t\t\tclearScreenRect((X_ + 35 / 368 * (MenuItem.size) / 202 * 368, Y_ + 57 / 202 * MenuItem.size, 297 / 368 * (MenuItem.size) / 202 * 368, 35 / 202 * MenuItem.size));\r\n\t\t\t\t\t\tX_ = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - (MenuItem.size) / 202 * 368)/2\r\n\t\t\t\t\t\tY_ = MenuItem.starts + (MenuItem.ends - MenuItem.starts - MenuItem.size) / 2;\r\n\t\t\t\t\t\tdrawLogInForm(X_, Y_, (MenuItem.size) / 202 * 368, MenuItem.size);\r\n\t\t\t\t\t\t//ctx.font = 40 * Math.min(Screen.k_width, Screen.k_height) + \"px Ariel\"\r\n\t\t\t\t\t\tdrawLogInLogInButton(X_ + 47, Y_ + MenuItem.size - MenuItem.size * 37 / 202 / 2 - 40, (MenuItem.size) / 202 * 156, MenuItem.size * 37 / 202)\r\n\t\t\t\t\t\tdrawLogInCancelButton(X_ + 49 + (MenuItem.size) / 202 * 156 + 35, Y_ + MenuItem.size - MenuItem.size * 37 / 202 / 2 - 40, (MenuItem.size) / 202 * 156, MenuItem.size * 37 / 202)\r\n\t\t\t\t\t\t//ctx.fillText(Profile.UserName, (X_ + (35 + 20) / 368 * (MenuItem.size) / 202 * 368) * Math.min(Screen.k_width, Screen.k_height), (Y_ + 80 / 368 * (MenuItem.size) / 202 * 368) * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t\t\t\t\t//ctx.fillText(Profile.Password, (X_ + (35 + 20) / 368 * (MenuItem.size) / 202 * 368) * Math.min(Screen.k_width, Screen.k_height), (Y_ + 138 / 368 * (MenuItem.size) / 202 * 368) * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t\t\t\t\tdelete key, e\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\r\n\t\t\treturn str\r\n\t\t\tdelete x, y, str\r\n\t\t}\r\n\r\n\t\tfunction getPasswordLogIn(str, x, y){\r\n\t\t\t$(document).keydown(function(e){\r\n\t\t\t\t\tif(Profile.storePasswordLogIn == true) {\r\n\t\t\t\t\tkey = e.which || e.keyCode;\r\n\t\t\t\t\tif(key >= 48 && key <= 105) {\r\n\t\t\t\t\t\tif(Profile.Password != \"Password\")\r\n\t\t\t\t\t\t\tProfile.Password = Profile.Password + String.fromCharCode(key);\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tProfile.Password = String.fromCharCode(key)\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(key == 32) {\r\n\t\t\t\t\t\t\tProfile.Password = Profile.Password = Profile.Password + \" \"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\telse if(key == 8)\r\n\t\t\t\t\t\tProfile.Password = Profile.Password.substring(0, Profile.Password.length-1);\r\n\t\t\t\t\tdelete key\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\t$(document).keyup(function(e){\r\n\t\t\t\t\tif(Profile.storePasswordLogIn == true) {\r\n\t\t\t\t\t\tclearScreenRect((X_ + 35 / 368 * (MenuItem.size) / 202 * 368, Y_ + 57 / 202 * MenuItem.size, 297 / 368 * (MenuItem.size) / 202 * 368, 35 / 202 * MenuItem.size));\r\n\t\t\t\t\t\tX_ = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - (MenuItem.size) / 202 * 368)/2\r\n\t\t\t\t\t\tY_ = MenuItem.starts + (MenuItem.ends - MenuItem.starts - MenuItem.size) / 2;\r\n\t\t\t\t\t\tdrawLogInForm(X_, Y_, (MenuItem.size) / 202 * 368, MenuItem.size);\r\n\t\t\t\t\t\t//ctx.font = 40 * Math.min(Screen.k_width, Screen.k_height) + \"px Ariel\"\r\n\t\t\t\t\t\tdrawLogInLogInButton(X_ + 47, Y_ + MenuItem.size - MenuItem.size * 37 / 202 / 2 - 40, (MenuItem.size) / 202 * 156, MenuItem.size * 37 / 202)\r\n\t\t\t\t\t\tdrawLogInCancelButton(X_ + 49 + (MenuItem.size) / 202 * 156 + 35, Y_ + MenuItem.size - MenuItem.size * 37 / 202 / 2 - 40, (MenuItem.size) / 202 * 156, MenuItem.size * 37 / 202)\r\n\t\t\t\t\t\t//ctx.fillText(Profile.Password, (X_ + (35 + 20) / 368 * (MenuItem.size) / 202 * 368) * Math.min(Screen.k_width, Screen.k_height), (Y_ + 138 / 368 * (MenuItem.size) / 202 * 368) * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t\t\t\t\t//ctx.fillText(Profile.UserName, (X_ + (35 + 20) / 368 * (MenuItem.size) / 202 * 368) * Math.min(Screen.k_width, Screen.k_height), (Y_ + 80 / 368 * (MenuItem.size) / 202 * 368) * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t\t\t\t\tdelete key\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\treturn str\r\n\t\t\tdelete x, y, str\r\n\t\t}\r\n\r\n\t\tfunction getUserNameSignIn(str, x, y){\r\n\t\t\t$(document).keydown(function(e){\r\n\t\t\t\t\tif(Profile.storeUserNameSignIn == true) {\r\n\t\t\t\t\tkey = e.which || e.keyCode;\r\n\t\t\t\t\tif(key >= 48 && key <= 105) {\r\n\t\t\t\t\t\tif(Profile.UserName != \"Username\")\r\n\t\t\t\t\t\t\tProfile.UserName = Profile.UserName + String.fromCharCode(key);\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tProfile.UserName = String.fromCharCode(key)\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(key == 32) {\r\n\t\t\t\t\t\t\tProfile.UserName = Profile.UserName = Profile.UserName + \" \"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\telse if(key == 8)\r\n\t\t\t\t\t\tProfile.UserName = Profile.UserName.substring(0, Profile.UserName.length-1);\r\n\t\t\t\t\tdelete key, e\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\t$(document).keyup(function(e){\r\n\t\t\t\t\tif(Profile.storeUserNameSignIn == true) {\r\n\t\t\t\t\t\tctx.font = 35 * Math.min(Screen.k_width, Screen.k_height) + \"px Ariel\"\r\n\t\t\t\t\t\tY_ = (MenuItem.topSpace + MenuItem.starts) / 2\r\n\t\t\t\t\t\tsize_ = 2*(Y_ - MenuItem.starts) + MenuItem.size;\r\n\t\t\t\t\t\tX_ = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - (size_))/2\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//mouseInRect(X_ + 35 / 368 * size_, Y_ + 57 / 368 * size_, 298 / 368 * size_, 36 / 368 * size_)\r\n\t\t\t\r\n\t\t\t\t\t\tdrawSignInForm(X_, Y_, size_, size_);\r\n\t\t\t\t\t\tif(NewAccent == \"US English Female\")\r\n\t\t\t\t\t\t\tAmericanAccent()\r\n\t\t\t\t\t\tif(NewAccent == \"Australian Female\")\r\n\t\t\t\t\t\t\tAustralianAccent()\r\n\t\t\t\t\t\tif(NewAccent == \"UK English Male\")\r\n\t\t\t\t\t\t\tBritishAccent()\r\n\t\t\t\t\t\tdrawSignInSignInButton(X_ + 20 / 368 * size_, Y_ + 318 / 368 * size_, 157 / 368 * size_, 157 / 368 * size_ * 37 / 156)\r\n\t\t\t\t\t\tdrawSignInCancelButton(X_ + 190 / 368 * size_, Y_ + 318 / 368 * size_, 157 / 368 * size_, 157 / 368 * size_ * 37 / 156)\r\n\t\t\t\t\t\t//ctx.fillText(Profile.UserName, (X_ + (35 + 20) / 368 * size_) * Math.min(Screen.k_width, Screen.k_height), (Y_ + 57 / 368 * size_ + (36 - 11) / 368 * size_) * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t\t\t\t\t//ctx.fillText(Profile.Password, (X_ + (35 + 20) / 368 * size_) * Math.min(Screen.k_width, Screen.k_height), ( Y_ + 115 / 368 * size_ + (36 - 11) / 368 * size_) * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tdelete key, e\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\r\n\t\t\treturn str\r\n\t\t\tdelete x, y, str\r\n\t\t}\r\n\r\n\t\tfunction getPasswordSignIn(str, x, y){\r\n\t\t\t$(document).keydown(function(e){\r\n\t\t\t\t\tif(Profile.storePasswordSignIn == true) {\r\n\t\t\t\t\tkey = e.which || e.keyCode;\r\n\t\t\t\t\tif(key >= 48 && key <= 105) {\r\n\t\t\t\t\t\tif(Profile.Password != \"Password\")\r\n\t\t\t\t\t\t\tProfile.Password = Profile.Password + String.fromCharCode(key);\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tProfile.Password = String.fromCharCode(key)\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(key == 32) {\r\n\t\t\t\t\t\t\tProfile.Password = Profile.Password = Profile.Password + \" \"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\telse if(key == 8)\r\n\t\t\t\t\t\tProfile.Password = Profile.Password.substring(0, Profile.Password.length-1);\r\n\t\t\t\t\tdelete key\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\t$(document).keyup(function(e){\r\n\t\t\t\t\tif(Profile.storePasswordSignIn == true) {\r\n\t\t\t\t\t\tY_ = (MenuItem.topSpace + MenuItem.starts) / 2\r\n\t\t\t\t\t\tsize_ = 2*(Y_ - MenuItem.starts) + MenuItem.size;\r\n\t\t\t\t\t\tX_ = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - (size_))/2\r\n\t\t\t\t\t\tdrawSignInForm(X_, Y_, size_, size_);\r\n\t\t\t\t\t\tctx.font = 35 * Math.min(Screen.k_width, Screen.k_height) + \"px Ariel\"\r\n\t\t\t\t\t\tif(NewAccent == \"US English Female\")\r\n\t\t\t\t\t\t\tAmericanAccent()\r\n\t\t\t\t\t\tif(NewAccent == \"Australian Female\")\r\n\t\t\t\t\t\t\t\tAustralianAccent()\r\n\t\t\t\t\t\tif(NewAccent == \"UK English Male\")\r\n\t\t\t\t\t\t\t\tBritishAccent()\r\n\t\t\t\t\t\tdrawSignInSignInButton(X_ + 20 / 368 * size_, Y_ + 318 / 368 * size_, 157 / 368 * size_, 157 / 368 * size_ * 37 / 156)\r\n\t\t\t\t\t\tdrawSignInCancelButton(X_ + 190 / 368 * size_, Y_ + 318 / 368 * size_, 157 / 368 * size_, 157 / 368 * size_ * 37 / 156)\r\n\t\t\t\t\t\t//ctx.fillText(Profile.UserName, (X_ + (35 + 20) / 368 * size_) * Math.min(Screen.k_width, Screen.k_height), (Y_ + 57 / 368 * size_ + (36 - 11) / 368 * size_) * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t\t\t\t\t//ctx.fillText(Profile.Password, (X_ + (35 + 20) / 368 * size_) * Math.min(Screen.k_width, Screen.k_height), ( Y_ + 115 / 368 * size_ + (36 - 11) / 368 * size_) * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t\t\t\t\tdelete key\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\treturn str\r\n\t\t\tdelete x, y, str\r\n\t\t}\r\n\r\n\t\tfunction drawTask(j, i, x, y, width, height) {\r\n\t\t\ttry{\r\n\t\t\t\tvar frame = Properties.Tasks[j][i].Frame;\r\n\t\t\t\tctx.drawImage(atlasMenuItemTask, frame.x, frame.y, frame.w, frame.h, x*Math.min(Screen.k_width, Screen.k_height), y*Math.min(Screen.k_width, Screen.k_height) , width*Math.min(Screen.k_width, Screen.k_height), height*Math.min(Screen.k_width, Screen.k_height))\r\n\t\t\t\tvar Lockframe = Properties.Buttons['lock.png'];\r\n\t\t\t\tif(!Properties.Tasks[j][i].Content) {\r\n\t\t\t\t\tdrawLock(x + (width - Lockframe.w / Lockframe.h * height / 2) / 2, y + (height - height / 2) / 2, Lockframe.w / Lockframe.h * height / 2, height / 2);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcatch(e){}\r\n\t\t}\r\n\r\n\t\tfunction drawMenuItemsTasks(j){\r\n\t\t\tpX = 2 * MenuItem.leftSpace + 100*koef + 68 * (j - MenuItem.firstItem + 1) + MenuItem.size * (j - MenuItem.firstItem) - 68;\r\n\t\t\tpY =  MenuItem.topSpace;\r\n\t\t\tt_a_width = 100*0.5;\r\n\t\t\tt_a_height = 0.5*100*226/152;\r\n\t\t\tclearMenuItemRect(pX - 10, pY - 10, MenuItem.size + 20, MenuItem.size + 20);\r\n\t\t\tif(Task.firstTask > 0) {\r\n\t\t\t//top arrow\r\n\t\t\tctx.save();\r\n\t\t\tctx.translate((pX + MenuItem.size / 2 + 3/4*t_a_width)*Math.min(Screen.k_width, Screen.k_height), pY*Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\tctx.rotate(Math.PI / 2);\r\n\t\t\tdrawLeftArrow(0, 0, t_a_width, t_a_height)\r\n\t\t\tctx.restore();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(Task.itemsCount[j] >= 0){\r\n\t\t\t\tdrawTask(j, Task.firstTask, pX, (pY+ t_a_width + Task.topSpace), MenuItem.size, 55/368*MenuItem.size)\r\n\t\t\t\tif(Task.itemsCount[j] >= 1){\r\n\t\t\t\t\tdrawTask(j, Task.firstTask + 1, pX, (pY + 55/368*MenuItem.size + 10 + t_a_width + Task.topSpace), MenuItem.size, 55/368*MenuItem.size)\r\n\t\t\t\t\tif(Task.itemsCount[j] >= 2){\r\n\t\t\t\t\t\tdrawTask(j, Task.firstTask + 2, pX, (pY + (55/368*MenuItem.size + 10) * 2+ t_a_width + Task.topSpace), MenuItem.size, 55/368*MenuItem.size)\r\n\t\t\t\t\t\tif(Task.itemsCount[j] >= 3){\r\n\t\t\t\t\t\t\tdrawTask(j, Task.firstTask + 3, pX, (pY + (55/368*MenuItem.size + 10) * 3+ t_a_width + Task.topSpace), MenuItem.size, 55/368*MenuItem.size)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(Task.firstTask + Task.display < Task.itemsCount[MenuItem.clicked]) {\r\n\t\t\t//bottom arrow\r\n\t\t\tpX = 2 * MenuItem.leftSpace + 100*koef + 68 * (j - MenuItem.firstItem + 1) + MenuItem.size * (j - MenuItem.firstItem) - 68;\r\n\t\t\tpY =  MenuItem.topSpace + MenuItem.size;\r\n\t\t\tctx.save();\r\n\t\t\tctx.translate((pX + MenuItem.size / 2 - 3/4*t_a_width)*Math.min(Screen.k_width, Screen.k_height), pY*Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\tctx.rotate(-Math.PI / 2);\r\n\t\t\tdrawLeftArrow(0, 0, t_a_width, t_a_height)\r\n\t\t\tctx.restore();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tdelete pX, pY;\r\n\t\t\tdelete t_a_width, t_a_height;\r\n\t\t\t\r\n\t\t}\r\n\t\tfunction MenuItemClicked(j) {\r\n\t\t\tk = -1;\r\n\t\t\tk1 = -1;\r\n\t\t\ttask_ch = false;\r\n\t\t\tif(sound_on && !Mode.Exercise) {\r\n\t\t\t\tif(MenuItem.chosen != j)\r\n\t\t\t\t\tspeak(MenuItem.ItemList[j]);\r\n\t\t\t\tMenuItem.chosen = MenuItem.clicked;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tif(!MenuItem.loadMenuItemsTasks) {\r\n\t\t\t\tloadMenuItemsTasks(j);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tdrawMenuItemsTasks(j)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\tfunction showLogInForm(){\r\n\t\t\t\tvar iter = 0;\r\n\t\t\t\tif(Forms_loaded){\r\n\t\t\t\t\tX_ = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - (MenuItem.size) / 202 * 368)/2\r\n\t\t\t\t\tY_ = MenuItem.starts + (MenuItem.ends - MenuItem.starts - MenuItem.size) / 2;\r\n\t\t\t\t\tdocument.getElementById(\"Loading\").style.visibility = \"hidden\";\r\n\t\t\t\t\tdrawLogInForm(X_, Y_, (MenuItem.size) / 202 * 368, MenuItem.size);\r\n\t\t\t\t\tdrawLogInLogInButton(X_ + 47, Y_ + MenuItem.size - MenuItem.size * 37 / 202 / 2 - 40, (MenuItem.size) / 202 * 156, MenuItem.size * 37 / 202)\r\n\t\t\t\t\tdrawLogInCancelButton(X_ + 49 + (MenuItem.size) / 202 * 156 + 35, Y_ + MenuItem.size - MenuItem.size * 37 / 202 / 2 - 40, (MenuItem.size) / 202 * 156, MenuItem.size * 37 / 202)\r\n\t\t\t\t\tctx.fillStyle='#000000';\r\n\t\t\t\t\tvar div = document.createElement('inputDiv');\r\n\t\t\t\t\tdiv.innerHTML = \"<input id = 'UserName' name = 'UserName' autofocus/><input id = 'Password' name = 'UserName' autofocus/>\";\r\n\t\t\t\t\tdocument.getElementById(\"mainDiv\").appendChild(div);\r\n\t\t\t\t\tdocument.getElementById(\"UserName\").style.top = (Y_ + 57 / 202 * MenuItem.size) * Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t\t\tdocument.getElementById(\"UserName\").style.left = (X_ + 35 / 368 * (MenuItem.size) / 202 * 368) * Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t\t\tdocument.getElementById(\"UserName\").style.paddingLeft = (20 / 368 * size_) * Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t\t\tdocument.getElementById(\"UserName\").style.paddingRight = (20 / 368 * size_) * Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t\t\tdocument.getElementById(\"UserName\").style.width = 297 / 368 * (MenuItem.size) / 202 * 368*Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t\t\tdocument.getElementById(\"UserName\").style.height = 35 / 202 * MenuItem.size * Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t\t\tdocument.getElementById(\"UserName\").style.border = \"2px solid\";\r\n\t\t\t\t\tdocument.getElementById('UserName').style.position = \"absolute\";\r\n\t\t\t\t\tdocument.getElementById('UserName').style.backgroundColor = \"transparent\";\r\n\t\t\t\t\tdocument.getElementById(\"Password\").style.top = (Y_ + 115 / 202 * MenuItem.size) * Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t\t\tdocument.getElementById(\"Password\").style.left = (X_ + 35 / 368 * (MenuItem.size) / 202 * 368) * Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t\t\tdocument.getElementById(\"Password\").style.paddingLeft = (20 / 368 * size_) * Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t\t\tdocument.getElementById(\"Password\").style.paddingRight = (20 / 368 * size_) * Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t\t\tdocument.getElementById(\"Password\").style.width = 297 / 368 * (MenuItem.size) / 202 * 368 *Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t\t\tdocument.getElementById(\"Password\").style.height = 35 / 202 * MenuItem.size * Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t\t\tdocument.getElementById(\"Password\").style.border = \"2px solid\";\r\n\t\t\t\t\tdocument.getElementById('Password').style.position = \"absolute\";\r\n\t\t\t\t\tdocument.getElementById('Password').style.backgroundColor = \"transparent\";\r\n\t\t\t\t\tif(Profile.UserName)\r\n\t\t\t\t\t\tdocument.getElementById('UserName').value = Profile.UserName;\r\n\t\t\t\t\tif(Profile.Password)\r\n\t\t\t\t\t\tdocument.getElementById('Password').value = Profile.Password;\r\n\t\t\t\t\t\r\n\t\t\t\t\tpressedUserNameLogIn = 0;\r\n\t\t\t\t\tpressedPasswordLogIn = 0;\r\n\t\t\t\t\tdelete X_, Y_\r\n\t\t\t\t\tMode.MenuItem  = false;\r\n\t\t\t\t\tMode.Tasks = false;\r\n\t\t\t\t\tMode.LogIn = true;\t\r\n\t\t\t\t\tMode.SignIn= false;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\tshowLogInForm();\r\n\t\t\t\t\t}, 1);\r\n\t\t\t\t}\r\n\t\t}\r\n\t\tfunction countPoints(Answers, TaskN, Max) {\r\n\t\t\tvar points = 0;\r\n\t\t\tfor (var i = 0; i < Answers.length; i++) {\r\n\t\t\t\tif(Answers[i].Attempts)\r\n\t\t\t\t\tpoints = points + Max + 1 - Answers[i].Attempts;\r\n\t\t\t}\r\n\t\t\treturn points;\r\n\t\t}\r\n\t\tfunction showResultForm(Answers = Task.Result.Answers, Total = Task.Total, Max = 4){\r\n\t\t\t\tif(Forms_loaded){\r\n\t\t\t\t\tdelete Pressed.x;\r\n\t\t\t\t\tdelete Pressed.y;\r\n\t\t\t\t\tdelete Task.asked;\r\n\t\t\t\t\tclearRect(0, 0, Screen.width / Math.min(Screen.k_width, Screen.k_height), Screen.height / Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\tdrawHeader();\r\n\t\t\t\t\tMode.Results = true;\r\n\t\t\t\t\t//stop_loading = true;\r\n\t\t\t\t\tvar Correct = 0;\r\n\t\t\t\t\tif(!Mode.Quiz)\r\n\t\t\t\t\t\tCorrect = countCorrect(Task.Result.Answers);\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tCorrect = Quiz.Correct;\r\n\t\t\t\t\t\tTotal = Quiz.Total;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\tvar frame = Properties.Forms[\"result_form.png\"];\r\n\t\t\t\t\tvar Result_form = {};\r\n\t\t\t\t\tResult_form.h = MenuItem.size;\r\n\t\t\t\t\tResult_form.w = Result_form.h * frame.w / frame.h;\r\n\t\t\t\t\tResult_form.x = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - Result_form.w) / 2;\r\n\t\t\t\t\tResult_form.y = (Screen.height / Math.min(Screen.k_width, Screen.k_height) - Result_form.h) / 2;\r\n\t\t\t\t\tdrawResultForm(Result_form.x, Result_form.y, Result_form.w, Result_form.h);\r\n\t\t\t\t\tdocument.getElementById(\"Loading\").style.visibility = \"hidden\";\r\n\t\t\t\t\tvar btn = Properties.Forms[\"result_form_try_again_btn.png\"];\r\n\t\t\t\t\tvar btn_width = (Result_form.w - 2 * 20 * Result_form.w / frame.w - 20) / 2;\r\n\t\t\t\t\tvar btn_height = btn_width * btn.h / btn.w;\r\n\t\t\t\t\tif(!Mode.Quiz)\r\n\t\t\t\t\t\tdrawResultTryAgainButton(Result_form.x + 20 * Result_form.w / frame.w, Result_form.y + Result_form.h - btn_height / 2 - 10 * Result_form.w / frame.w, btn_width, btn_height);\r\n\t\t\t\t\tdrawResultOkayButton(Result_form.x + 20 * Result_form.w / frame.w + 20 + btn_width, Result_form.y + Result_form.h - btn_height / 2 -  10 * Result_form.w / frame.w, btn_width, btn_height);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar digit_frame = Properties.Numbers[\"small-dark-1.png\"];\r\n\t\t\t\t\tvar digit = {};\r\n\t\t\t\t\tdigit.h = 12  * Result_form.h / frame.h;\r\n\t\t\t\t\tdigit.w = digit.h * digit_frame.w / digit_frame.h;\r\n\t\t\t\t\tCorrect = Correct +\"\";\r\n\t\t\t\t\tfor(var j = 0; j < Correct.length; j++)\r\n\t\t\t\t\t\tdrawDigit(Correct[j], Result_form.x + 115 * Result_form.w / frame.w + j * digit.w, Result_form.y + 51 * Result_form.h / frame.h - digit.h, digit.w, digit.h, \"small-dark\");\r\n\t\t\t\t\tTotal = Total +\"\";\r\n\t\t\t\t\tfor(var j = 0; j < Total.length; j++)\r\n\t\t\t\t\t\tdrawDigit(Total[j], Result_form.x + 115 * Result_form.w / frame.w + j * digit.w, Result_form.y + 68 * Result_form.h / frame.h - digit.h, digit.w, digit.h, \"small-dark\");\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar points = 0;\r\n\t\t\t\t\tif(!Mode.Quiz)\r\n\t\t\t\t\t\tpoints = countPoints(Answers, Total, Max);\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tpoints = Quiz.Points;\r\n\t\t\t\t\tTask.Result.Points = points;\r\n\t\t\t\t\tvar stars = 0;\r\n\t\t\t\t\tif(!Mode.Quiz)\r\n\t\t\t\t\t\tstars = Math.round(points / (Max * Total) * 5);\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tstars = Math.round(points / Quiz.TotalMax * 5);\r\n\t\t\t\t\tpoints = points +\"\";\r\n\t\t\t\t\tfor(var j = 0; j < points.length; j++)\r\n\t\t\t\t\t\tdrawDigit(points[j], Result_form.x + 115 * Result_form.w / frame.w + j * digit.w, Result_form.y + 86 * Result_form.h / frame.h - digit.h, digit.w, digit.h, \"small-dark\");\r\n\t\t\t\t\tvar star_frame = Properties.Buttons[\"star.png\"];\r\n\t\t\t\t\tvar star = {}\r\n\t\t\t\t\tstar.h = digit.h;\r\n\t\t\t\t\tstar.w = star.h * star_frame.w / star_frame.h;\r\n\t\t\t\t\tfor(var j = 0; j < stars; j++)\r\n\t\t\t\t\t\tdrawStar(Result_form.x + 115 * Result_form.w / frame.w + j * star.w, Result_form.y + 103 * Result_form.h / frame.h - star.h, star.w, star.h);\r\n\t\t\t\t\tfor(var j = 0; j < 5 - stars; j++)\r\n\t\t\t\t\t\tdrawDarkStar(Result_form.x + 115 * Result_form.w / frame.w + (stars + j) * star.w, Result_form.y + 103 * Result_form.h / frame.h - star.h, star.w, star.h);\r\n\t\t\t\t\tvar minuts = 0, seconds = 0;\r\n\t\t\t\t\tif(Mode.Quiz) {\r\n\t\t\t\t\t\tminuts = Math.floor((Quiz.Finish.getTime() - Quiz.Start.getTime()) / 1000 / 60) + \"\";\r\n\t\t\t\t\t\tseconds = Math.floor((Quiz.Finish.getTime() - Quiz.Start.getTime()) / 1000 - minuts * 60) + \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tminuts = Math.floor((Task.Result.Finish.getTime() - Task.Result.Start.getTime()) / 1000 / 60) + \"\";\r\n\t\t\t\t\t\tseconds = Math.floor((Task.Result.Finish.getTime() - Task.Result.Start.getTime()) / 1000 - minuts * 60) + \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar i = 0;\r\n\t\t\t\t\tvar j = 0;\r\n\t\t\t\t\tif(minuts != \"0\") {\r\n\t\t\t\t\t\tfor (i; i < minuts.length; i++) {\r\n\t\t\t\t\t\t\tdrawDigit(minuts[i], Result_form.x + 115 * Result_form.w / frame.w + i * digit.w, Result_form.y + 120 * Result_form.h / frame.h - digit.h, digit.w, digit.h, \"small-dark\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar min = \"min\";\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t\tfor(j; j < min.length;j++) {\r\n\t\t\t\t\t\t\tdrawLetter(min[j], Result_form.x + 115 * Result_form.w / frame.w + (i + j) * digit.w, Result_form.y + 120 * Result_form.h / frame.h - digit.h, digit.w, digit.h, \"small-dark\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ti = i + j + 1;\r\n\t\t\t\t\t\tj = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(seconds != \"0\") {\r\n\t\t\t\t\t\tfor (j = 0; j < seconds.length; j++) {\r\n\t\t\t\t\t\t\tdrawDigit(seconds[j], Result_form.x + 115 * Result_form.w / frame.w + (i + j) * digit.w, Result_form.y + 120 * Result_form.h / frame.h - digit.h, digit.w, digit.h, \"small-dark\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ti = i + j + 1;\r\n\t\t\t\t\t\tvar sec = \"sec\";\r\n\t\t\t\t\t\tfor(j = 0; j < sec.length;j++) {\r\n\t\t\t\t\t\t\tdrawLetter(sec[j], Result_form.x + 115 * Result_form.w / frame.w + (i + j) * digit.w, Result_form.y + 120 * Result_form.h / frame.h - digit.h, digit.w, digit.h, \"small-dark\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(Profile.LoggedIn)\r\n\t\t\t\t\t\tsocket.emit(\"Result\", {Result: Task.Result});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcatch(e) {showResultForm(Answers, Total, Max);}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tif(Forms_loaded == false)\r\n\t\t\t\t\t\tloadForms();\r\n\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\tshowResultForm(Answers, Total, Max);\r\n\t\t\t\t\t}, 20);\r\n\t\t\t\t}\r\n\t\t}\r\n\t\tfunction showSignInForm(){\r\n\t\t\t\tvar iter = 0;\r\n\t\t\t\tdrawLoading();\r\n\t\t\t\tif(Forms_loaded){\r\n\t\t\t\t\t//stop_loading = true;\r\n\t\t\t\t\tY_ = (MenuItem.topSpace + MenuItem.starts) / 2\r\n\t\t\t\t\tsize_ = 2*(Y_ - MenuItem.starts) + MenuItem.size;\r\n\t\t\t\t\tX_ = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - (size_))/2\r\n\t\t\t\t\tdocument.getElementById(\"Loading\").style.visibility = \"hidden\";\r\n\t\t\t\t\tdrawSignInForm(X_, Y_, size_, size_);\r\n\t\t\t\t\tvar div = document.createElement('inputDiv');\r\n\t\t\t\t\tdiv.innerHTML = \"<input id = 'UserName' name = 'UserName' autofocus/><input id = 'Password' name = 'UserName' autofocus/>\";\r\n\t\t\t\t\t\r\n\t\t\t\t\tdocument.getElementById(\"mainDiv\").appendChild(div);\r\n\t\t\t\t\tdocument.getElementById(\"UserName\").style.top = (Y_ + 57 / 368 * size_) * Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t\t\tdocument.getElementById(\"UserName\").style.left = (X_ + 35 / 368 * size_) * Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t\t\tdocument.getElementById(\"UserName\").style.paddingLeft = (20 / 368 * size_) * Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t\t\tdocument.getElementById(\"UserName\").style.paddingRight = (20 / 368 * size_) * Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t\t\tdocument.getElementById(\"UserName\").style.width = 298/ 368 * size_*Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t\t\tdocument.getElementById(\"UserName\").style.height = 36 / 368 * size_ * Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t\t\tdocument.getElementById(\"UserName\").style.border = \"2px solid\";\r\n\t\t\t\t\tdocument.getElementById('UserName').style.position = \"absolute\";\r\n\t\t\t\t\tdocument.getElementById('UserName').style.backgroundColor = \"transparent\";\r\n\t\t\t\t\tdocument.getElementById(\"Password\").style.top = (Y_ + 115 / 368 * size_) * Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t\t\tdocument.getElementById(\"Password\").style.left = (X_ + 35 / 368 * size_) * Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t\t\tdocument.getElementById(\"Password\").style.paddingLeft = (20 / 368 * size_) * Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t\t\tdocument.getElementById(\"Password\").style.paddingRight = (20 / 368 * size_) * Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t\t\tdocument.getElementById(\"Password\").style.width = 298/ 368 * size_*Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t\t\tdocument.getElementById(\"Password\").style.height = 36 / 368 * size_ * Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t\t\tdocument.getElementById(\"Password\").style.border = \"2px solid\";\r\n\t\t\t\t\tdocument.getElementById('Password').style.position = \"absolute\";\r\n\t\t\t\t\tdocument.getElementById('Password').style.backgroundColor = \"transparent\";\r\n\t\t\t\t\tif(Profile.UserName)\r\n\t\t\t\t\t\tdocument.getElementById('UserName').value = Profile.UserName;\r\n\t\t\t\t\tif(Profile.Password)\r\n\t\t\t\t\t\tdocument.getElementById('Password').value = Profile.Password;\r\n\t\t\t\t\t\r\n\t\t\t\t\tBritishAccent()\r\n\t\t\t\t\tdrawSignInSignInButton(X_ + 20 / 368 * size_, Y_ + 318 / 368 * size_, 157 / 368 * size_, 157 / 368 * size_ * 37 / 156)\r\n\t\t\t\t\tdrawSignInCancelButton(X_ + 190 / 368 * size_, Y_ + 318 / 368 * size_, 157 / 368 * size_, 157 / 368 * size_ * 37 / 156)\r\n\t\t\t\t\tctx.fillStyle='#000000';\r\n\t\t\t\t\t//ctx.font = 35 * Math.min(Screen.k_width, Screen.k_height) + \"px Ariel\"\r\n\t\t\t\t\t//ctx.fillText(Profile.Password, (X_ + (35 + 20) / 368 * size_) * Math.min(Screen.k_width, Screen.k_height), ( Y_ + 115 / 368 * size_ + (36 - 11) / 368 * size_) * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t\t\t\t//ctx.fillText(Profile.UserName, (X_ + (35 + 20) / 368 * size_) * Math.min(Screen.k_width, Screen.k_height), (Y_ + 57 / 368 * size_ + (36 - 11) / 368 * size_) * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t\t\t\tpressedUserNameSignIn = 0;\r\n\t\t\t\t\tpressedPasswordSignIn = 0;\r\n\t\t\t\t\t\r\n\t\t\t\t\tdelete X_, Y_, size_\r\n\t\t\t\t\tMode.MenuItem  = false;\r\n\t\t\t\t\tMode.Tasks = false;\r\n\t\t\t\t\tMode.LogIn = false;\r\n\t\t\t\t\tMode.SignIn = true;\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\tshowSignInForm();\r\n\t\t\t\t\t}, 1);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t}\r\n\r\n\t\tfunction UserNameAreaClickedSignIn() {\r\n\t\t\tY_ = (MenuItem.topSpace + MenuItem.starts) / 2\r\n\t\t\tsize_ = 2*(Y_ - MenuItem.starts) + MenuItem.size;\r\n\t\t\tX_ = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - size_)/2\r\n\t\t\tdrawSignInForm(X_, Y_, size_, size_);\r\n\t\t\tctx.font = 35 * Math.min(Screen.k_width, Screen.k_height) + \"px Ariel\"\r\n\t\t\tif(NewAccent == \"US English Female\")\r\n\t\t\t\t\tAmericanAccent()\r\n\t\t\tif(NewAccent == \"Australian Female\")\r\n\t\t\t\t\tAustralianAccent()\r\n\t\t\tif(NewAccent == \"UK English Male\")\r\n\t\t\t\t\tBritishAccent()\r\n\t\t\t\r\n\t\t\tpressedUserNameSignIn = pressedUserNameSignIn + 1;\r\n\t\t\tdrawSignInSignInButton(X_ + 20 / 368 * size_, Y_ + 318 / 368 * size_, 157 / 368 * size_, 157 / 368 * size_ * 37 / 156)\r\n\t\t\tdrawSignInCancelButton(X_ + 190 / 368 * size_, Y_ + 318 / 368 * size_, 157 / 368 * size_, 157 / 368 * size_ * 37 / 156)\r\n\t\t\tif(Profile.storeUserNameSignIn != false && Profile.storeUserNameSignIn != true) {\r\n\t\t\t\tProfile.storeUserNameSignIn = true;\r\n\t\t\t\tif(Profile.storePasswordSignIn == true)\r\n\t\t\t\t\tProfile.storePasswordSignIn = false;\r\n\t\t\t\tgetUserNameSignIn(Profile.UserName, X_ + (35 + 20) / 368 * (MenuItem.size) / 202 * 368, Y_ + 57 / 202 * MenuItem.size + 20 / 202 * MenuItem.size)\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tProfile.storeUserNameSignIn = true;\r\n\t\t\t\tif(Profile.storePasswordSignIn == true)\r\n\t\t\t\t\tProfile.storePasswordSignIn = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction UserNameAreaClickedLogIn() {\r\n\t\t\tX_ = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - (MenuItem.size) / 202 * 368)/2\r\n\t\t\tY_ = MenuItem.starts + (MenuItem.ends - MenuItem.starts - MenuItem.size) / 2;\r\n\t\t\tclearScreenRect((X_ + 35 / 368 * (MenuItem.size) / 202 * 368, Y_ + 57 / 202 * MenuItem.size, 297 / 368 * (MenuItem.size) / 202 * 368, 35 / 202 * MenuItem.size));\r\n\t\t\t\tX_ = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - (MenuItem.size) / 202 * 368)/2\r\n\t\t\t\tY_ = MenuItem.starts + (MenuItem.ends - MenuItem.starts - MenuItem.size) / 2;\r\n\t\t\t\tdrawLogInForm(X_, Y_, (MenuItem.size) / 202 * 368, MenuItem.size);\r\n\t\t\t\tpressedUserNameLogIn = pressedUserNameLogIn + 1;\r\n\t\t\t\tdrawLogInLogInButton(X_ + 47, Y_ + MenuItem.size - MenuItem.size * 37 / 202 / 2 - 40, (MenuItem.size) / 202 * 156, MenuItem.size * 37 / 202)\r\n\t\t\t\tdrawLogInCancelButton(X_ + 49 + (MenuItem.size) / 202 * 156 + 35, Y_ + MenuItem.size - MenuItem.size * 37 / 202 / 2 - 40, (MenuItem.size) / 202 * 156, MenuItem.size * 37 / 202)\r\n\t\t\t\tif(Profile.storeUserNameLogIn != false && Profile.storeUserNameLogIn != true) {\r\n\t\t\t\t\tProfile.storeUserNameLogIn = true;\r\n\t\t\t\t\tif(Profile.storePasswordLogIn == true)\r\n\t\t\t\t\t\tProfile.storePasswordLogIn = false;\r\n\t\t\t\t\t//getUserNameLogIn(Profile.UserName, X_ + (35 + 20) / 368 * (MenuItem.size) / 202 * 368, Y_ + 57 / 202 * MenuItem.size + 20 / 202 * MenuItem.size)\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tProfile.storeUserNameLogIn = true;\r\n\t\t\t\t\tif(Profile.storePasswordLogIn == true)\r\n\t\t\t\t\t\tProfile.storePasswordLogIn = false;\r\n\t\t\t\t}\r\n\t\t}\r\n\t\tfunction PasswordAreaClickedLogIn() {\r\n\r\n\t\t\tX_ = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - (MenuItem.size) / 202 * 368)/2\r\n\t\t\tY_ = MenuItem.starts + (MenuItem.ends - MenuItem.starts - MenuItem.size) / 2;\r\n\t\t\tclearScreenRect((X_ + 35 / 368 * (MenuItem.size) / 202 * 368, Y_ + 57 / 202 * MenuItem.size, 297 / 368 * (MenuItem.size) / 202 * 368, 35 / 202 * MenuItem.size));\r\n\t\t\t\tX_ = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - (MenuItem.size) / 202 * 368)/2\r\n\t\t\t\tY_ = MenuItem.starts + (MenuItem.ends - MenuItem.starts - MenuItem.size) / 2;\r\n\t\t\t\tdrawLogInForm(X_, Y_, (MenuItem.size) / 202 * 368, MenuItem.size);\r\n\t\t\t\tpressedPasswordLogIn = pressedPasswordLogIn + 1;\r\n\t\t\t\tdrawLogInLogInButton(X_ + 47, Y_ + MenuItem.size - MenuItem.size * 37 / 202 / 2 - 40, (MenuItem.size) / 202 * 156, MenuItem.size * 37 / 202)\r\n\t\t\t\tdrawLogInCancelButton(X_ + 49 + (MenuItem.size) / 202 * 156 + 35, Y_ + MenuItem.size - MenuItem.size * 37 / 202 / 2 - 40, (MenuItem.size) / 202 * 156, MenuItem.size * 37 / 202)\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t}\r\n\t\tfunction PasswordAreaClickedSignIn() {\r\n\t\t\t\tY_ = (MenuItem.topSpace + MenuItem.starts) / 2\r\n\t\t\t\tsize_ = 2*(Y_ - MenuItem.starts) + MenuItem.size;\r\n\t\t\t\tX_ = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - (size_))/2\r\n\t\t\t\tdrawSignInForm(X_, Y_, size_, size_);\r\n\t\t\t\tif(NewAccent == \"US English Female\")\r\n\t\t\t\t\tAmericanAccent()\r\n\t\t\t\tif(NewAccent == \"Australian Female\")\r\n\t\t\t\t\tAustralianAccent()\r\n\t\t\t\tif(NewAccent == \"UK English Male\")\r\n\t\t\t\t\tBritishAccent()\r\n\t\t\t\tdrawSignInSignInButton(X_ + 20 / 368 * size_, Y_ + 318 / 368 * size_, 157 / 368 * size_, 157 / 368 * size_ * 37 / 156)\r\n\t\t\t\tdrawSignInCancelButton(X_ + 190 / 368 * size_, Y_ + 318 / 368 * size_, 157 / 368 * size_, 157 / 368 * size_ * 37 / 156)\r\n\t\t\t\tctx.font = 35 * Math.min(Screen.k_width, Screen.k_height) + \"px Ariel\"\r\n\t\t\t\tpressedPasswordSignIn = pressedPasswordSignIn + 1;\r\n\t\t\t\tif(Profile.storePasswordSignIn != false && Profile.storePasswordSignIn != true) {\r\n\t\t\t\t\tProfile.storePasswordSignIn = true;\r\n\t\t\t\t\tgetPasswordSignIn(Profile.Password, X_ + (35 + 20) / 368 * (MenuItem.size) / 202 * 368, Y_ + 57 / 202 * MenuItem.size + 20 / 202 * MenuItem.size)\r\n\t\t\t\t\tif(Profile.storeUserNameSignIn == true)\r\n\t\t\t\t\t\tProfile.storeUserNameSignIn = false;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tProfile.storePasswordSignIn = true;\r\n\t\t\t\t\tif(Profile.storeUserNameSignIn == true)\r\n\t\t\t\t\t\tProfile.storeUserNameSignIn = false;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t}\r\n\r\n\t\tfunction AmericanAccent() {\r\n\t\t\tdrawSignInForm(X_, Y_, size_, size_);\r\n\t\t\tctx.fillStyle = \"#000000\"\r\n\t\t\tfillRect(X_ + (35 - 4) / 368 * size_, Y_ + (177 - 4) / 368 * size_, 2, (23 + 8) / 368 * size_)\r\n\t\t\tfillRect(X_ + (35 - 4) / 368 * size_, Y_ + (177 - 4) / 368 * size_, (36 + 8) / 368 * size_, 2)\r\n\t\t\tfillRect(X_ + (35 - 4) / 368 * size_, Y_ + 177 / 368 * size_ + (23 + 4) / 368 * size_, (36 + 8) / 368 * size_, 2)\r\n\t\t\tfillRect(X_ + 35 / 368 * size_ + (36 + 4) / 368 * size_, Y_ + (177 - 4) / 368 * size_, 2, (23 + 8) / 368 * size_)\r\n\t\t\tNewAccent = \"US English Female\"\r\n\t\t}\r\n\t\tfunction AustralianAccent() {\r\n\t\t\tdrawSignInForm(X_, Y_, size_, size_);\r\n\t\t\tctx.fillStyle = \"#000000\"\r\n\t\t\tfillRect(X_ + (80 - 4) / 368 * size_, Y_ + (177 - 4) / 368 * size_, 2, (23 + 8) / 368 * size_)\r\n\t\t\tfillRect(X_ + (80 - 4) / 368 * size_, Y_ + (177 - 4) / 368 * size_, (36 + 8) / 368 * size_, 2)\r\n\t\t\tfillRect(X_ + (80 - 4) / 368 * size_, Y_ + 177 / 368 * size_ + (23 + 4) / 368 * size_, (36 + 8) / 368 * size_, 2)\r\n\t\t\tfillRect(X_ + 80 / 368 * size_ + (36 + 4) / 368 * size_, Y_ + (177 - 4) / 368 * size_, 2, (23 + 8) / 368 * size_)\r\n\t\t\tNewAccent = \"Australian Female\"\r\n\t\t}\r\n\t\tfunction BritishAccent() {\r\n\t\t\tdrawSignInForm(X_, Y_, size_, size_);\r\n\t\t\tctx.fillStyle = \"#000000\"\r\n\t\t\tfillRect(X_ + (124 - 4) / 368 * size_, Y_ + (177 - 4) / 368 * size_, 2, (23 + 8) / 368 * size_)\r\n\t\t\tfillRect(X_ + (124 - 4) / 368 * size_, Y_ + (177 - 4) / 368 * size_, (36 + 8) / 368 * size_, 2)\r\n\t\t\tfillRect(X_ + (124 - 4) / 368 * size_, Y_ + 177 / 368 * size_ + (23 + 4) / 368 * size_, (36 + 8) / 368 * size_, 2)\r\n\t\t\tfillRect(X_ + 124 / 368 * size_ + (36 + 4) / 368 * size_, Y_ + (177 - 4) / 368 * size_, 2, (23 + 8) / 368 * size_)\r\n\t\t\tNewAccent = \"UK English Male\"\r\n\t\t}\r\n\t\tfunction clearSelectedAccent() {\r\n\t\t\tfillRectGreen(X_ + (35 - 4) / 368 * size_, Y_ + (177 - 4) / 368 * size_, 2, (23 + 8) / 368 * size_)\r\n\t\t\tfillRectGreen(X_ + (35 - 4) / 368 * size_, Y_ + (177 - 4) / 368 * size_, (36 + 8) / 368 * size_, 2)\r\n\t\t\tfillRectGreen(X_ + (35 - 4) / 368 * size_, Y_ + 177 / 368 * size_ + (23 + 4) / 368 * size_, (36 + 8) / 368 * size_, 2)\r\n\t\t\tfillRectGreen(X_ + 35 / 368 * size_ + (36 + 4) / 368 * size_, Y_ + (177 - 4) / 368 * size_, 2, (23 + 8) / 368 * size_)\r\n\t\t\tfillRectGreen(X_ + (80 - 4) / 368 * size_, Y_ + (177 - 4) / 368 * size_, 2, (23 + 8) / 368 * size_)\r\n\t\t\tfillRectGreen(X_ + (80 - 4) / 368 * size_, Y_ + (177 - 4) / 368 * size_, (36 + 8) / 368 * size_, 2)\r\n\t\t\tfillRectGreen(X_ + (80 - 4) / 368 * size_, Y_ + 177 / 368 * size_ + (23 + 4) / 368 * size_, (36 + 8) / 368 * size_, 2)\r\n\t\t\tfillRectGreen(X_ + 80 / 368 * size_ + (36 + 4) / 368 * size_, Y_ + (177 - 4) / 368 * size_, 2, (23 + 8) / 368 * size_)\r\n\t\t\tfillRectGreen(X_ + (124 - 4) / 368 * size_, Y_ + (177 - 4) / 368 * size_, 2, (23 + 8) / 368 * size_)\r\n\t\t\tfillRectGreen(X_ + (124 - 4) / 368 * size_, Y_ + (177 - 4) / 368 * size_, (36 + 8) / 368 * size_, 2)\r\n\t\t\tfillRectGreen(X_ + (124 - 4) / 368 * size_, Y_ + 177 / 368 * size_ + (23 + 4) / 368 * size_, (36 + 8) / 368 * size_, 2)\r\n\t\t\tfillRectGreen(X_ + 124 / 368 * size_ + (36 + 4) / 368 * size_, Y_ + (177 - 4) / 368 * size_, 2, (23 + 8) / 368 * size_)\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tfunction displayVideo() {\r\n\t\t\t//if(Mode.Alphabetsong) {\r\n\t\t\t\t//video.src = \"/img/Alphabet/abc song.mp4\"\r\n\t\t\t\tvideo = document.getElementById(\"Video\");\r\n\t\t\t\tdocument.getElementById(\"Loading\").style.visibility = \"hidden\";\r\n\t\t\t\tif(!video) {\r\n\t\t\t\t\tvar ID = Task.Frames[Task.TaskName].YoutubeID;\r\n\t\t\t\t\tvar url_ = \"https://www.youtube.com/embed/\" + ID + \"?controls=2&autoplay=1\";\r\n\t\t\t\t\tvar div = document.createElement('inputDiv');\r\n\t\t\t\t\tdiv.innerHTML = '<iframe id = \"Video\" width=\"420\" height=\"315\"></iframe>';\r\n\t\t\t\t\tdocument.getElementById(\"mainDiv\").appendChild(div);\r\n\t\t\t\t\tvideo = document.getElementById(\"Video\");\r\n\t\t\t\t\tvideo.style.visibility = \"visible\";\r\n\t\t\t\t\tvideo.style.position = \"absolute\";\r\n\t\t\t\t\tvideo.src = url_;\r\n\t\t\t\t}\r\n\t\t\t\tvar size_btn = 70;\r\n\t\t\t\tvar VideoFrame = {};\r\n\t\t\t\tVideoFrame.height = MenuItem.ends - 40;\r\n\t\t\t\t\r\n\t\t\t\tVideoFrame.width = 1280/720*VideoFrame.height;\r\n\t\t\t\tif(VideoFrame.width + 2 * Title.leftSpace + size_btn > Screen.width / Math.min(Screen.k_width, Screen.k_height)) {\r\n\t\t\t\t\tconsole.log(\"not fitting in\");\r\n\t\t\t\t\tVideoFrame.width = Screen.width / Math.min(Screen.k_width, Screen.k_height) - 2 * Title.leftSpace - size_btn;\r\n\t\t\t\t\tVideoFrame.height = 720 / 1280 * VideoFrame.width;\r\n\t\t\t\t}\r\n\t\t\t\tVideoFrame.x = (Screen.width /  Math.min(Screen.k_width, Screen.k_height) - VideoFrame.width - 2 * Title.leftSpace) / 2;\r\n\t\t\t\tVideoFrame.y = (MenuItem.starts + 20);\r\n\t\t\t\t\r\n\r\n\t\t\t\t\r\n\t\t\t\tvideo.style.top = VideoFrame.y * Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t\tvideo.style.left = VideoFrame.x * Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t\tvideo.style.width = VideoFrame.width * Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t\tvideo.style.height = VideoFrame.height * Math.min(Screen.k_width, Screen.k_height);\r\n\t\t\t//}\r\n\t\t}\r\n\t\tfunction PlaySong() {\r\n\t\t\tvar size_btn = 70;\r\n\t\t\tdrawExitButton(Screen.width / Math.min(Screen.k_width, Screen.k_height) - Title.leftSpace - size_btn, MenuItem.starts + 20, size_btn, size_btn);\r\n\t\t\tdisplayVideo();\r\n\t\t}\r\n\t\tfunction setWordHeight(){\r\n\t\t\ttry {\r\n\t\t\t\tif(frametype1 == \"frame\" && frametype2 == \"Wordsframe\") {\r\n\t\t\t\t\tvar animal_height = Screen.height / Math.min(Screen.k_width, Screen.k_height) / 4;\r\n\t\t\t\t\tvar word_height = (Screen.height  / Math.min(Screen.k_width, Screen.k_height) - MenuItem.starts - 40 * Math.floor((Task.test.length + 1) / 2) - animal_height - (Math.floor((Task.test.length + 1) / 2) - 1) * 30) / Math.floor((Task.test.length + 1) / 2);\r\n\t\t\t\t\tvar broadest_word = (Task.test).slice(0);\r\n\t\t\t\t\tfor(var i = 0; i < broadest_word.length; i++) {\r\n\t\t\t\t\t\tbroadest_word[i][frametype2] = Task.test.slice(0)[i][frametype2];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbroadest_word = broadest_word.sort(function(a, b){\r\n\t\t\t\t\t\treturn a[frametype2].w * word_height/a[frametype2].h - b[frametype2].w * word_height/b[frametype2].h;\r\n\t\t\t\t\t})[broadest_word.length - 1];\r\n\t\t\t\t\tvar frame_width = broadest_word.w + 50;\r\n\t\t\t\t\tvar max_word_width = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - 2 * Title.leftSpace - 30) / 2;\r\n\t\t\t\t\tif(max_word_width < broadest_word[frametype2].w*word_height/broadest_word[frametype2].h) {\r\n\t\t\t\t\t\tword_height = max_word_width * broadest_word[frametype2].h / broadest_word[frametype2].w;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn word_height;\r\n\t\t\t\t}\r\n\t\t\t\telse if(frametype1 == \"Wordsframe\" && frametype2 == \"frame\") {\r\n\t\t\t\t\tvar animal_height = 100;\r\n\t\t\t\t\tvar max_word_height = (MenuItem.ends - 40 - animal_height - 40 - 2 * 20) / 2;\r\n\t\t\t\t\tvar max_word_width = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - 2 * Title.leftSpace - 10 * (Math.floor((Task.test.length + 1) / 2) - 1)) / Math.floor((Task.test.length + 1) / 2);\r\n\t\t\t\t\tvar broadest_word = (Task.test).slice(0);\r\n\t\t\t\t\tfor(var i = 0; i < broadest_word.length; i++) {\r\n\t\t\t\t\t\tbroadest_word[i][frametype2] = Task.test.slice(0)[i][frametype2];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbroadest_word = broadest_word.sort(function(a, b){\r\n\t\t\t\t\t\treturn a[frametype2].w * max_word_height/a[frametype2].h - b[frametype2].w * max_word_height/b[frametype2].h;\r\n\t\t\t\t\t})[broadest_word.length - 1];\r\n\t\t\t\t\tif(max_word_height * broadest_word[frametype2].w / broadest_word[frametype2].h < max_word_width) {\r\n\t\t\t\t\t\treturn max_word_height;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\treturn max_word_width * broadest_word[frametype2].h / broadest_word[frametype2].w;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\tcatch(e){};\r\n\t\t}\r\n\t\tfunction drawTest() {\r\n\t\t\tctx.clearRect(0, MenuItem.starts * Math.min(Screen.k_width, Screen.k_height), Screen.width, Screen.height);\r\n\t\t\tvar top, center, animal_height;\r\n\t\t\tif(frametype1 == \"frame\") {\r\n\t\t\t\tanimal_height = Screen.height / Math.min(Screen.k_width, Screen.k_height) / 4;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tanimal_height = 100;\r\n\t\t\t}\r\n\t\t\tvar edge = 0;\r\n\t\t\t\r\n\t\t\tif(frametype1 == \"frame\") {\r\n\t\t\t\tcenter = Screen.width / Math.min(Screen.k_width, Screen.k_height) / 2;\r\n\t\t\t\ttop = MenuItem.starts + 40 + animal_height + 40;\r\n\t\t\t}\r\n\t\t\telse if(frametype1 == \"Wordsframe\") {\r\n\t\t\t\tcenter = Screen.width / Math.min(Screen.k_width, Screen.k_height) / Math.floor((Task.test.length + 1) / 2);\r\n\t\t\t\ttop = MenuItem.starts + 40 + animal_height + 40;\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\tvar word_height = setWordHeight();\r\n\t\t\tctx.drawImage(atlas[Task.TopicName + frametype1],Task.asked[frametype1].x, Task.asked[frametype1].y, Task.asked[frametype1].w, Task.asked[frametype1].h, (Screen.width - Task.asked[frametype1].w*animal_height/Task.asked[frametype1].h*Math.min(Screen.k_width, Screen.k_height)) / 2, MenuItem.starts*Math.min(Screen.k_width, Screen.k_height) + (20 + 20) * Math.min(Screen.k_width, Screen.k_height), Task.asked[frametype1].w*animal_height/Task.asked[frametype1].h*Math.min(Screen.k_width, Screen.k_height), animal_height*Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\r\n\t\t\tfor(var i = 0; i < Task.test.length; i++) {\r\n\t\t\t\tvar wordFrame = (Task.test.concat())[i][frametype2];\r\n\t\t\t\tif(frametype1 == \"frame\") {\r\n\t\t\t\t\tif(k3 != i)\r\n\t\t\t\t\t\t//ctx.drawImage(atlas.AnimalsWordsframe, wordFrame.x, wordFrame.y, wordFrame.w, wordFrame.h,(edge + center/2-wordFrame.w*word_height/wordFrame.h/2)*Math.min(Screen.k_width, Screen.k_height), top*Math.min(Screen.k_width, Screen.k_height), wordFrame.w*word_height/wordFrame.h*Math.min(Screen.k_width, Screen.k_height), word_height*Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\t\tctx.drawImage(atlas[Task.TopicName + frametype2], wordFrame.x, wordFrame.y, wordFrame.w, wordFrame.h,(edge + center/2-wordFrame.w*word_height/wordFrame.h/2)*Math.min(Screen.k_width, Screen.k_height), top*Math.min(Screen.k_width, Screen.k_height), wordFrame.w*word_height/wordFrame.h*Math.min(Screen.k_width, Screen.k_height), word_height*Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(i % 2){\r\n\t\t\t\t\t\ttop = top + word_height + 30;\r\n\t\t\t\t\t\tedge = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse edge = center;\r\n\t\t\t\t}\r\n\t\t\t\telse if(frametype1 == \"Wordsframe\") {\r\n\t\t\t\t\tif(k3 != i) {\r\n\t\t\t\t\t\t//ctx.fillRect((edge + center/2-wordFrame.w*word_height/wordFrame.h/2)*Math.min(Screen.k_width, Screen.k_height), top*Math.min(Screen.k_width, Screen.k_height), wordFrame.w*word_height/wordFrame.h*Math.min(Screen.k_width, Screen.k_height), word_height*Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\t\tctx.drawImage(atlas[Task.TopicName + frametype2], wordFrame.x, wordFrame.y, wordFrame.w, wordFrame.h,(edge + center/2-wordFrame.w*word_height/wordFrame.h/2)*Math.min(Screen.k_width, Screen.k_height), top*Math.min(Screen.k_width, Screen.k_height), wordFrame.w*word_height/wordFrame.h*Math.min(Screen.k_width, Screen.k_height), word_height*Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!((i + 1) % Math.floor((Task.test.length + 1) / 2))){\r\n\t\t\t\t\t\ttop = top + word_height + 20;\r\n\t\t\t\t\t\tedge = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse { \r\n\t\t\t\t\t\tedge = edge + center;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconsole.log(top, Screen.height  / Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\tsize_btn = word_height;\r\n\t\t\tif(frametype1 == \"Wordsframe\" && frametype2 == \"frame\") {\r\n\t\t\t\tsize_btn = 70;\r\n\t\t\t}\r\n\t\t\tdrawExitButton(Screen.width / Math.min(Screen.k_width, Screen.k_height) - Title.leftSpace - size_btn, MenuItem.starts + 20, size_btn, size_btn);\r\n\t\t\tif(!Mode.Training) {\r\n\t\t\t\tvar frame = Properties.Buttons[\"red-heart.png\"];\r\n\t\t\t\tvar i;\r\n\t\t\t\tfor(i = 0; i < Task.tries; i++) {\r\n\t\t\t\t\tdrawRedHeart(Title.leftSpace + 20 + (2/3*size_btn * frame.w / frame.h + 20) * i, MenuItem.starts + 20, 2/3*size_btn * frame.w / frame.h,2/3*size_btn)\r\n\t\t\t\t}\r\n\t\t\t\tfor(i; i < 4; i++) {\r\n\t\t\t\t\tdrawHeart(Title.leftSpace + 20 + (2/3*size_btn * frame.w / frame.h + 20) * i, MenuItem.starts + 20, 2/3*size_btn * frame.w / frame.h,2/3*size_btn)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvar frame = Properties.Buttons[\"skip.png\"];\r\n\t\t\t\tdrawSkip(Title.leftSpace + 20, MenuItem.starts + 20, size_btn * frame.w / frame.h,size_btn)\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\tMainCanvas.addEventListener(\"mouseup\", checkClick);\r\n\t\tMainCanvas.addEventListener(\"touchend\", checkClick);\r\n\t\tfunction checkClick(mouseEvent){\r\n\t\t\tevent.preventDefault();\r\n\t\t\tif(mouseEvent.which == 1 || mouseEvent.changedTouches) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tvar touch = mouseEvent.changedTouches[0];\r\n\t\t\t\t\tvar rect = MainCanvas.getBoundingClientRect();\r\n\t\t\t\t\tvar scaleX = MainCanvas.width / rect.width;\r\n\t\t\t\t\tvar scaleY = MainCanvas.height / rect.height;\r\n\t\t\t\t\tmouseX = (touch.clientX - rect.left) * scaleX;   // scale mouse coordinates after they have\r\n\t\t\t\t\tmouseY = (touch.clientY - rect.top) * scaleY;\r\n\t\t\t\t}\r\n\t\t\t\tcatch(e) {}\r\n\t\t\t\tif(Mode.MenuItem) {\r\n\t\t\t\tif(Mode.Tasks && MenuItem.clicked > -1) {\r\n\t\t\t\t\t//top arrow has been clicked\r\n\t\t\t\t\tt_a_height = 100*0.5;\r\n\t\t\t\t\tt_a_width = 0.5*100*226/152;\r\n\t\t\t\t\tpX = 2 * MenuItem.leftSpace + 100*koef + 68 * (MenuItem.clicked - MenuItem.firstItem + 1) + MenuItem.size * (MenuItem.clicked - MenuItem.firstItem) - 68 + MenuItem.size / 2 - t_a_width / 2;\r\n\t\t\t\t\tpY =  MenuItem.topSpace;\r\n\t\t\t\t\tif(mouseInRect(pX, pY, t_a_width, t_a_height)){\t\r\n\t\t\t\t\t\tTask.a_clicked = true;\r\n\t\t\t\t\t\tif(Task.firstTask > 0) {\r\n\t\t\t\t\t\t\ttopArrowClicked()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\t\t\t\r\n\t\t\t\t\t//bottom arrow has been clicked\r\n\t\t\t\t\tb_a_height = 100*0.5;\r\n\t\t\t\t\tb_a_width = 0.5*100*226/152;\r\n\t\t\t\t\tpX = 2 * MenuItem.leftSpace + 100*koef + 68 * (MenuItem.clicked - MenuItem.firstItem + 1) + MenuItem.size * (MenuItem.clicked - MenuItem.firstItem) - 68 + MenuItem.size / 2 - b_a_width / 2;\r\n\t\t\t\t\t//pY = Screen.height / Math.min(Screen.k_width, Screen.k_height) - MenuItem.topSpace - b_a_height;\r\n\t\t\t\t\t//####console.log(\"clicked arrow\",mouseX >= pX*Math.min(Screen.k_width, Screen.k_height), mouseX <= (pX + b_a_width)*Math.min(Screen.k_width, Screen.k_height), mouseY >= (pY)*Math.min(Screen.k_width, Screen.k_height),mouseY <= (pY + b_a_height)*Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\tpY = MenuItem.topSpace + MenuItem.size - b_a_height;\r\n\t\t\t\t\tif(mouseInRect(pX, pY, b_a_width, b_a_height)){\r\n\t\t\t\t\t\tTask.a_clicked = true;\r\n\t\t\t\t\t\tif(Task.firstTask + Task.display < Task.itemsCount[MenuItem.clicked]) {\r\n\t\t\t\t\t\t\tbottomArrowClicked();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(Mode.MenuItem && MenuItem.clicked > -1) {\r\n\t\t\t\t\t//check background click\r\n\t\t\t\t\t//not top & bottom arrows have been clicked\r\n\t\t\t\t\t//top arrow has been clicked\r\n\t\t\t\t\tt_a_height = 100*0.5;\r\n\t\t\t\t\tt_a_width = 0.5*100*226/152;\r\n\t\t\t\t\tpX = 2 * MenuItem.leftSpace + 100*koef + 68 * (MenuItem.clicked - MenuItem.firstItem + 1) + MenuItem.size * (MenuItem.clicked - MenuItem.firstItem) - 68 + MenuItem.size / 2 - t_a_width / 2;\r\n\t\t\t\t\tpY =  MenuItem.topSpace;\r\n\t\t\t\t\tif(Mode.Tasks && mouseX >= pX*Math.min(Screen.k_width, Screen.k_height)&& mouseX <= (pX + t_a_width)*Math.min(Screen.k_width, Screen.k_height) && mouseY >= (pY)*Math.min(Screen.k_width, Screen.k_height) && mouseY <= (pY + t_a_height)*Math.min(Screen.k_width, Screen.k_height)){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tb_a_height = 100*0.5;\r\n\t\t\t\t\t\tb_a_width = 0.5*100*226/152;\r\n\t\t\t\t\t\tpX = 2 * MenuItem.leftSpace + 100*koef + 68 * (MenuItem.clicked - MenuItem.firstItem + 1) + MenuItem.size * (MenuItem.clicked - MenuItem.firstItem) - 68 + MenuItem.size / 2 - b_a_width / 2;\r\n\t\t\t\t\t\tpY = Screen.height / Math.min(Screen.k_width, Screen.k_height) - MenuItem.topSpace - b_a_height;\r\n\t\t\t\t\t\tif(Mode.Tasks && mouseX >= pX*Math.min(Screen.k_width, Screen.k_height)&& mouseX <= (pX + b_a_width)*Math.min(Screen.k_width, Screen.k_height) && mouseY >= (pY)*Math.min(Screen.k_width, Screen.k_height) && mouseY <= (pY + b_a_height)*Math.min(Screen.k_width, Screen.k_height)){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//background has been clicked\r\n\t\t\t\t\t\telse if(((Mode.Tasks && !(mouseX >= ((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - MenuItem.leftSpace)* Math.min(Screen.k_width, Screen.k_height) && mouseX <= ((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - MenuItem.leftSpace + (Profile.size_btn - 2 * 5) / 3)* Math.min(Screen.k_width, Screen.k_height) && mouseY >= ((20 + 5) + Profile.size_btn*75/228 + 150*75/228 + 5)* Math.min(Screen.k_width, Screen.k_height) && mouseY <= ((20 + 5) + Profile.size_btn*75/228 + 3 + Profile.size_btn*75/228 + 5 + (Profile.size_btn - 2 * 5) / 3)* Math.min(Screen.k_width, Screen.k_height))) && !(mouseX >= pX*Math.min(Screen.k_width, Screen.k_height)&& mouseX <= (pX + t_a_width)*Math.min(Screen.k_width, Screen.k_height) && mouseY >= (pY)*Math.min(Screen.k_width, Screen.k_height) && mouseY <= (pY + t_a_height)*Math.min(Screen.k_width, Screen.k_height)))&&!(mouseX >= pX*Math.min(Screen.k_width, Screen.k_height)&& mouseX <= (pX + b_a_width)*Math.min(Screen.k_width, Screen.k_height) && mouseY >= (pY)*Math.min(Screen.k_width, Screen.k_height) && mouseY <= (pY + b_a_height)*Math.min(Screen.k_width, Screen.k_height))) {\r\n\t\t\t\t\t\t\tX_l = 2 * MenuItem.leftSpace + 100*koef + 68 * (MenuItem.clicked - MenuItem.firstItem + 1) + MenuItem.size * (MenuItem.clicked - MenuItem.firstItem) - 68;\r\n\r\n\t\t\t\t\t\t\tif(!mouseInRect(X_l, MenuItem.topSpace, MenuItem.size, MenuItem.size)) {\r\n\t\t\t\t\t\t\t\tpX = 2 * MenuItem.leftSpace + 100*koef + 68 * (MenuItem.clicked - MenuItem.firstItem + 1) + MenuItem.size * (MenuItem.clicked - MenuItem.firstItem) - 68;\r\n\t\t\t\t\t\t\t\tpY =  MenuItem.topSpace;\r\n\t\t\t\t\t\t\t\tpW = MenuItem.size;\r\n\t\t\t\t\t\t\t\tpH = MenuItem.size;\r\n\t\t\t\t\t\t\t\tMenuItem.chosen = MenuItem.clicked;\r\n\t\t\t\t\t\t\t\tclearMenuItemRect(pX, pY, pW, pH);\r\n\t\t\t\t\t\t\t\tDrawMenuItem(MenuItem.clicked, MenuItem.clicked - MenuItem.firstItem, pX, pY, pW, pH);\r\n\t\t\t\t\t\t\t\tMenuItem.clicked = -1;\r\n\t\t\t\t\t\t\t\tMode.Tasks = false;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t//MenuItem.clicked = MenuItem.chosen;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//MenuItem has been clicked\r\n\t\t\t\tif(Mode.MenuItem && MenuItem.clicked == -1) {\r\n\t\t\t\t\tvar j = 0;\r\n\t\t\t\t\twhile (j < MenuItem.display)  {\r\n\t\t\t\t\t\tX_l = 2 * MenuItem.leftSpace + 100*koef + 68 * (j + 1) + MenuItem.size * j - 68;\r\n\t\t\t\t\t\tX_r = 2 * MenuItem.leftSpace + 100*koef + 68 * (j + 1) + MenuItem.size * (j + 1) - 68;\r\n\t\t\t\t\t\tif(mouseY >= Math.min(Screen.k_width, Screen.k_height) * ( MenuItem.topSpace)  && mouseY <= Math.min(Screen.k_width, Screen.k_height) * ( MenuItem.size + MenuItem.topSpace)  && (mouseX >= Math.min(Screen.k_width, Screen.k_height) * X_l && mouseX <= Math.min(Screen.k_width, Screen.k_height) * X_r)){\r\n\t\t\t\t\t\t\tif(Properties.Tasks[j + MenuItem.firstItem].length) {\r\n\t\t\t\t\t\t\t\tMode.Tasks = false;\r\n\t\t\t\t\t\t\t\tTask.firstTask = 0;\r\n\t\t\t\t\t\t\t\tMenuItem.clicked = j + MenuItem.firstItem;\r\n\t\t\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\t\t\tMode.Tasks = true;\r\n\t\t\t\t\t\t\t\t\tMode.Exercise = false;\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}, 150);\r\n\t\t\t\t\t\t\t\tMenuItemClicked(MenuItem.clicked);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tconsole.log(\"no tasks yet\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tj = MenuItem.display + 1;\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tj++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t//left arrow has been clicked\r\n\t\t\t\tif(Mode.MenuItem && MenuItem.firstItem >= 0) {\r\n\t\t\t\t\tif (mouseX >= Math.min(Screen.k_width, Screen.k_height) * MenuItem.leftSpace && mouseX <= Math.min(Screen.k_width, Screen.k_height) * (MenuItem.leftSpace + koef*100) && mouseY >=  Math.min(Screen.k_width, Screen.k_height) * ( MenuItem.topSpace + MenuItem.size / 2 -  koef*100*226/152/ 2 ) && mouseY <= Math.min(Screen.k_width, Screen.k_height) * ( MenuItem.topSpace + MenuItem.size / 2 -  koef*100*226/152/ 2 + koef*100*226/152) ) {\t\r\n\t\t\t\t\t\tleftArrowClicked();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t//right arrow has been clicked\r\n\t\t\t\tvar r_a_height = koef*100*226/152;\r\n\t\t\t\tvar r_a_y =  MenuItem.topSpace + MenuItem.size / 2 - r_a_height / 2;\r\n\t\t\t\tvar r_a_width = koef*100;\r\n\t\t\t\tvar r_a_x = MenuItem.rwidth / Math.min(Screen.k_width, Screen.k_height) - MenuItem.leftSpace - r_a_width;\r\n\t\t\t\tif(Mode.MenuItem && MenuItem.firstItem + MenuItem.display < MenuItem.itemsCount){\r\n\t\t\t\t\tif (mouseX >= Math.min(Screen.k_width, Screen.k_height) * (MenuItem.rwidth / Math.min(Screen.k_width, Screen.k_height) - MenuItem.leftSpace - 100*koef) && mouseX <= Math.min(Screen.k_width, Screen.k_height) * (MenuItem.rwidth / Math.min(Screen.k_width, Screen.k_height) - MenuItem.leftSpace - 100*koef + koef*100) && mouseY >=  Math.min(Screen.k_width, Screen.k_height) * ( MenuItem.topSpace + MenuItem.size / 2 - r_a_height / 2)  && mouseY <= Math.min(Screen.k_width, Screen.k_height) * ( MenuItem.topSpace + MenuItem.size / 2 - r_a_height / 2 + koef*100*226/152)) {\t\r\n\t\t\t\t\t\trightArrowClicked();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\ttry {\r\n\t\t\t\t\tvar frame = Properties.Buttons[\"menu_btn.png\"];\r\n\t\t\t\t\tvar MenuFrame = {};\r\n\t\t\t\t\tMenuFrame.x = Title.leftSpace;\r\n\t\t\t\t\tMenuFrame.y = 20;\r\n\t\t\t\t\tMenuFrame.h = MenuItem.starts - 2 * 20;\r\n\t\t\t\t\tMenuFrame.w = frame.w / frame.h * MenuFrame.h;\r\n\t\t\t\t\t// menu button has been clicked\r\n\t\t\t\t\tif(Mode.Mobile && Mode.MenuItem && !Mode.Exercise && !Mode.Results && !Mode.SignIn && !Mode.LogIn && mouseInRect(MenuFrame.x, MenuFrame.y, MenuFrame.w, MenuFrame.h)) {\r\n\t\t\t\t\t\tMode.Menu = true;\r\n\t\t\t\t\t\tMode.MenuItem = false;\r\n\t\t\t\t\t\tconsole.log(\"clicking\");\r\n\t\t\t\t\t\tvar Menu = document.createElement('canvas');\r\n\t\t\t\t\t\tconsole.log(\"adding\");\r\n\t\t\t\t\t\tMenu.id = 'MenuCanvas';\r\n\t\t\t\t\t\tMenu.width = document.getElementById(\"MainCanvas\").width;\r\n\t\t\t\t\t\tMenu.height = document.getElementById(\"MainCanvas\").height;\r\n\t\t\t\t\t\t//div.innerHTML = \"<canvas id = 'MenuCanvas' width = '180' height = '360'></canvas>\";\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdocument.getElementById(\"mainDiv\").appendChild(Menu);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tMenu_ctx = document.getElementById(\"MenuCanvas\").getContext(\"2d\");\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdrawTitle(Title.leftSpace, 20, Title.size, Title.size*130/470);\r\n\t\t\t\t\t\tdrawLogInButton((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn- Title.leftSpace, 20, Profile.size_btn, Profile.size_btn*75/228)\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch(e){}\r\n\t\t\t\t//Login button has been clicked\r\n\t\t\t\tif(!Mode.Mobile && !Mode.Exercise && !Profile.LoggedIn && !Mode.SignIn && !Mode.LogIn && mouseX >= ((Screen.width )/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace) * Math.min(Screen.k_width, Screen.k_height) && mouseX <= ((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace + Profile.size_btn) * Math.min(Screen.k_width, Screen.k_height) && mouseY >= (20) * Math.min(Screen.k_width, Screen.k_height) && mouseY <= (20 + Profile.size_btn*75/228) * Math.min(Screen.k_width, Screen.k_height)) {\r\n\t\t\t\t\tif(Forms_loaded == false)\r\n\t\t\t\t\t\t\tloadForms()\r\n\t\t\t\t\tdrawLoading();\r\n\t\t\t\t\tif(Profile.storeUserNameLogIn == true)\r\n\t\t\t\t\t\tProfile.storeUserNameLogIn = false;\r\n\t\t\t\t\tif(Profile.storePasswordLogIn == true)\r\n\t\t\t\t\t\tProfile.storePasswordLogIn = false;\r\n\t\t\t\t\tshowLogInForm()\r\n\t\t\t\t}\r\n\t\t\t\t//Sign Up button has been clicked\r\n\t\t\t\tif(!Mode.Mobile && !Mode.Exercise &&!Profile.LoggedIn && !Mode.LogIn && !Mode.LogIn && mouseX >= ((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace) * Math.min(Screen.k_width, Screen.k_height) && mouseX <= ((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace + Profile.size_btn) * Math.min(Screen.k_width, Screen.k_height) && mouseY >= ((20 + 5) + Profile.size_btn*75/228)* Math.min(Screen.k_width, Screen.k_height) && mouseY <= ((20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228)* Math.min(Screen.k_width, Screen.k_height)) {\r\n\t\t\t\t\tif(Forms_loaded == false)\r\n\t\t\t\t\t\tloadForms();\r\n\t\t\t\t\tshowSignInForm();\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t//Profile.UserName = \"Username\"\r\n\t\t\t\t\tProfile.UserName = \"\";\r\n\t\t\t\t\t//Profile.Password = \"Password\"\r\n\t\t\t\t\tProfile.Password = \"\";\r\n\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//Sound button is clicked\r\n\t\t\t\tif(!Mode.Mobile && !Mode.LogIn && !Mode.SignIn && mouseX >= ((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace)* Math.min(Screen.k_width, Screen.k_height) && mouseX <= ((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace + (Profile.size_btn - 2 * 5) / 3)* Math.min(Screen.k_width, Screen.k_height) && mouseY >= ((20 + 5) + Profile.size_btn*75/228 + 150*75/228 + 5)* Math.min(Screen.k_width, Screen.k_height) && mouseY <= ((20 + 5) + Profile.size_btn*75/228 + 3 + Profile.size_btn*75/228 + 5 + (Profile.size_btn - 2 * 5) / 3)* Math.min(Screen.k_width, Screen.k_height)) {\r\n\t\t\t\t\tfillRectYellow((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace - 2, (20 + 5) + Profile.size_btn*75/228 + 3 + Profile.size_btn*75/228 + 5 - 2, (Profile.size_btn - 2*5) / 3 + 4, (Profile.size_btn - 2*5) / 3 + 4);\r\n\t\t\t\t\tif(sound_on) {\r\n\t\t\t\t\t\tdrawSoundOffButton((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace - 2, (20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5 - 2, (Profile.size_btn - 2*5) / 3 + 4, (Profile.size_btn - 2*5) / 3 + 4);\r\n\t\t\t\t\t\tsound_on = false;\r\n\t\t\t\t\t\tvar video = document.getElementById(\"Video\");\r\n\t\t\t\t\t\tif(video)\r\n\t\t\t\t\t\t\t$(\"#Video\").muted = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tdrawSoundOnButton((Screen.width)/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace - 2, (20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5 - 2, (Profile.size_btn - 2*5) / 3 + 4, (Profile.size_btn - 2*5) / 3 + 4);\r\n\t\t\t\t\t\tsound_on = true;\r\n\t\t\t\t\t\tvar video = document.getElementById(\"Video\");\r\n\t\t\t\t\t\tif(video)\r\n\t\t\t\t\t\t\t$(\"#Video\").muted = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tif(Mode.LogIn) {\r\n\t\t\t\t\tif(Mode.LogIn && mouseInRect((Screen.width / Math.min(Screen.k_width, Screen.k_height) - (MenuItem.size *4/3) / 205 * 368)/2, MenuItem.starts + (MenuItem.ends - MenuItem.starts - MenuItem.size * 4/3) / 2, (MenuItem.size *4/3) / 205 * 368, MenuItem.size * 4/3)) {\r\n\t\t\t\t\t\t//log in area clicked\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t//cancel button has been clicked during login mode\r\n\t\t\t\t\tX_ = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - (MenuItem.size) / 202 * 368)/2\r\n\t\t\t\t\tY_ = MenuItem.starts + (MenuItem.ends - MenuItem.starts - MenuItem.size) / 2;\r\n\t\t\t\t\tif(Mode.LogIn && mouseInRect(X_ + 49 + (MenuItem.size) / 202 * 156 + 35, Y_ + MenuItem.size - MenuItem.size * 37 / 202 / 2 - 40, (MenuItem.size) / 202 * 156, MenuItem.size * 37 / 202)) {\r\n\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\tif(Profile.storeUserNameLogIn == true)\r\n\t\t\t\t\t\t\tProfile.storeUserNameLogIn = false;\r\n\t\t\t\t\t\tif(Profile.storePasswordLogIn == true)\r\n\t\t\t\t\t\t\tProfile.storePasswordLogIn = false;\r\n\t\t\t\t\t\tProfile.UserName = \"\";\r\n\t\t\t\t\t\tProfile.Password = \"\";\r\n\t\t\t\t\t\t$(\"#UserName\").remove();\r\n\t\t\t\t\t\t$(\"#Password\").remove();\r\n\t\t\t\t\t\t$(\"#inputdiv\").remove();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tclearScreenRect(0, 0, Screen.width/ Math.min(Screen.k_width, Screen.k_height), Screen.height / Math.min(Screen.k_width, Screen.k_height) )\r\n\t\t\t\t\t\tMode.LogIn = false;\r\n\t\t\t\t\t\tMode.MenuItem = true;\r\n\t\t\t\t\t\trespondCanvas();\r\n\t\t\t\t\t\t}, 200);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//username area has been clicked LogIn Mode\r\n\t\t\t\t\tX_ = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - (MenuItem.size) / 202 * 368)/2\r\n\t\t\t\t\tY_ = MenuItem.starts + (MenuItem.ends - MenuItem.starts - MenuItem.size) / 2;\r\n\t\t\t\t\tif(Mode.LogIn && mouseInRect(X_ + 35 / 368 * (MenuItem.size) / 202 * 368, Y_ + 57 / 202 * MenuItem.size, 297 / 368 * (MenuItem.size) / 202 * 368, 35 / 202 * MenuItem.size)){\r\n\t\t\t\t\t\tUserNameAreaClickedLogIn()\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t//password area has been clicked LogIn Mode\r\n\t\t\t\t\tX_ = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - (MenuItem.size) / 202 * 368)/2\r\n\t\t\t\t\tY_ = MenuItem.starts + (MenuItem.ends - MenuItem.starts - MenuItem.size) / 2;\r\n\t\t\t\t\tif(Mode.LogIn && mouseInRect(X_ + 35 / 368 * (MenuItem.size) / 202 * 368, Y_ + 115 / 202 * MenuItem.size, 297 / 368 * (MenuItem.size) / 202 * 368, 35 / 202 * MenuItem.size)){\r\n\t\t\t\t\t\t//PasswordAreaClickedLogIn();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t//login button clicked LogIn Mode\r\n\t\t\t\t\tX_ = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - (MenuItem.size) / 202 * 368)/2\r\n\t\t\t\t\tY_ = MenuItem.starts + (MenuItem.ends - MenuItem.starts - MenuItem.size) / 2;\r\n\t\t\t\t\tif(Mode.LogIn && mouseInRect(X_ + 47, Y_ + MenuItem.size - MenuItem.size * 37 / 202 / 2 - 40, (MenuItem.size) / 202 * 156, MenuItem.size * 37 / 202))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(checkProfileData(document.getElementById(\"UserName\").value, document.getElementById(\"Password\").value)) {\r\n\t\t\t\t\t\t\tdrawLoading();\r\n\t\t\t\t\t\t\tProfile.UserName = document.getElementById(\"UserName\").value;\r\n\t\t\t\t\t\t\tProfile.Password = document.getElementById(\"Password\").value;\r\n\t\t\t\t\t\t\tvar User = {};\r\n\t\t\t\t\t\t\tUser.UserName = Profile.UserName;\r\n\t\t\t\t\t\t\tUser.Password = Profile.Password;\r\n\t\t\t\t\t\t\tsocket.emit('auth', {\r\n\t\t\t\t\t\t\t\tUser: User\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tvar ok;\r\n\t\t\t\t\t\t\tsocket.on('auth', function(data){\r\n\t\t\t\t\t\t\t\tif(data.res) {\r\n\t\t\t\t\t\t\t\t\tok = true;\r\n\t\t\t\t\t\t\t\t\tProfile.Accent = data.User.Accent;\r\n\t\t\t\t\t\t\t\t\tProfile.LoggedIn = true;\r\n\t\t\t\t\t\t\t\t\tMode.LogIn = false;\r\n\t\t\t\t\t\t\t\t\tMode.MenuItem = true;\r\n\t\t\t\t\t\t\t\t\tProfile.storeUserNameLogIn = false;\r\n\t\t\t\t\t\t\t\t\tProfile.storePasswordLogIn = false;\r\n\t\t\t\t\t\t\t\t\tclearScreenRect(0, 0, Screen.width/ Math.min(Screen.k_width, Screen.k_height), Screen.height / Math.min(Screen.k_width, Screen.k_height) )\r\n\t\t\t\t\t\t\t\t\t$(\"#UserName\").remove();\r\n\t\t\t\t\t\t\t\t\t$(\"#Password\").remove();\r\n\t\t\t\t\t\t\t\t\t$(\"#inputdiv\").remove();\r\n\t\t\t\t\t\t\t\t\tProfile.Password = \"\";\r\n\t\t\t\t\t\t\t\t\trespondCanvas();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse if(data.res == false) {\r\n\t\t\t\t\t\t\t\t\tif(ok == undefined) {\r\n\t\t\t\t\t\t\t\t\t\tok = false;\r\n\t\t\t\t\t\t\t\t\t\talert(\"Wrong data\");\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\talert(\"fill all the information\");\r\n\t\t\t\t\t\t\tconsole.log(\"fill all the information\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//background has been clicked during LogIn Mode\r\n\t\t\t\t\tif(Mode.LogIn && !mouseInRect(X_ + 47 - 2, Y_ + MenuItem.size - MenuItem.size * 37 / 202 / 2 - 40 - 2, (MenuItem.size) / 202 * 156 + 4, MenuItem.size * 37 / 202 + 4)&& !(mouseInRect(X_ + 35 / 368 * (MenuItem.size) / 202 * 368, Y_ + 115 / 202 * MenuItem.size, 297 / 368 * (MenuItem.size) / 202 * 368, 35 / 202 * MenuItem.size) || mouseInRect(X_ + 35 / 368 * (MenuItem.size) / 202 * 368, Y_ + 57 / 202 * MenuItem.size, 297 / 368 * (MenuItem.size) / 202 * 368, 35 / 202 * MenuItem.size))) {\r\n\t\t\t\t\t\tif(Profile.storeUserNameLogIn == true)\r\n\t\t\t\t\t\t\tProfile.storeUserNameLogIn = false;\r\n\t\t\t\t\t\tif(Profile.storePasswordLogIn == true)\r\n\t\t\t\t\t\t\tProfile.storePasswordLogIn = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(Mode.SignIn){\r\n\t\t\t\t\t//username area clicked SignIn Mode\r\n\t\t\t\t\tY_ = (MenuItem.topSpace + MenuItem.starts) / 2\r\n\t\t\t\t\tsize_ = 2*(Y_ - MenuItem.starts) + MenuItem.size;\r\n\t\t\t\t\tX_ = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - size_)/2\r\n\t\t\t\t\tif(Mode.SignIn && mouseInRect(X_ + 35 / 368 * size_, Y_ + 57 / 368 * size_, 298 / 368 * size_, 36 / 368 * size_)) {\r\n\t\t\t\t\t\tUserNameAreaClickedSignIn()\r\n\t\t\t\t\t\t//fillRect(X_ + 35 / 368 * size_, Y_ + 57 / 368 * size_, 298 / 368 * size_, 36 / 368 * size_)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(Mode.SignIn && mouseInRect((Screen.width / Math.min(Screen.k_width, Screen.k_height) - (MenuItem.size *3/2))/2, MenuItem.starts + (MenuItem.ends - MenuItem.starts - MenuItem.size * 3/2) / 2, (MenuItem.size *6/4), MenuItem.size * 6/4)) {\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//password area clicked SignIn Mode\r\n\t\t\t\t\tY_ = (MenuItem.topSpace + MenuItem.starts) / 2\r\n\t\t\t\t\tsize_ = 2*(Y_ - MenuItem.starts) + MenuItem.size;\r\n\t\t\t\t\tX_ = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - size_)/2\r\n\t\t\t\t\tif(Mode.SignIn && mouseInRect(X_ + 35 / 368 * size_, Y_ + 115 / 368 * size_, 298 / 368 * size_, 36 / 368 * size_)) {\r\n\t\t\t\t\t\t//PasswordAreaClickedSignIn()\r\n\t\t\t\t\t\t//fillRect(X_ + 35 / 368 * size_, Y_ + 115 / 368 * size_, 298 / 368 * size_, 36 / 368 * size_)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(Mode.SignIn && !(mouseInRect(X_ + 35 / 368 * size_, Y_ + 57 / 368 * size_, 298 / 368 * size_, 36 / 368 * size_) || mouseInRect(X_ + 35 / 368 * size_, Y_ + 115 / 368 * size_, 298 / 368 * size_, 36 / 368 * size_))) {\r\n\t\t\t\t\t\tif(Profile.storeUserNameSignIn == true)\r\n\t\t\t\t\t\t\tProfile.storeUserNameSignIn = false;\r\n\t\t\t\t\t\tif(Profile.storePasswordSignIn == true)\r\n\t\t\t\t\t\t\tProfile.storePasswordSignIn = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t//flag area clicked SignIn Mode\r\n\t\t\t\t\tY_ = (MenuItem.topSpace + MenuItem.starts) / 2\r\n\t\t\t\t\tsize_ = 2*(Y_ - MenuItem.starts) + MenuItem.size;\r\n\t\t\t\t\tX_ = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - size_)/2\r\n\t\t\t\t\t//American accent\r\n\t\t\t\t\tif(Mode.SignIn && mouseInRect(X_ + 35 / 368 * size_, Y_ + 177 / 368 * size_, 36 / 368 * size_, 23/ 368 * size_)) {\r\n\t\t\t\t\t\tAmericanAccent()\r\n\t\t\t\t\t\t//ctx.fillText(Profile.Password, (X_ + (35 + 20) / 368 * size_) * Math.min(Screen.k_width, Screen.k_height), ( Y_ + 115 / 368 * size_ + (36 - 11) / 368 * size_) * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t\t\t\t\t//ctx.fillText(Profile.UserName, (X_ + (35 + 20) / 368 * size_) * Math.min(Screen.k_width, Screen.k_height), (Y_ + 57 / 368 * size_ + (36 - 11) / 368 * size_) * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t\t\t\t\tdrawSignInSignInButton(X_ + 20 / 368 * size_, Y_ + 318 / 368 * size_, 157 / 368 * size_, 157 / 368 * size_ * 37 / 156)\r\n\t\t\t\t\t\tdrawSignInCancelButton(X_ + 190 / 368 * size_, Y_ + 318 / 368 * size_, 157 / 368 * size_, 157 / 368 * size_ * 37 / 156)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//Australian accent\r\n\t\t\t\t\tY_ = (MenuItem.topSpace + MenuItem.starts) / 2\r\n\t\t\t\t\tsize_ = 2*(Y_ - MenuItem.starts) + MenuItem.size;\r\n\t\t\t\t\tX_ = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - size_)/2\r\n\t\t\t\t\tif(Mode.SignIn && mouseInRect(X_ + 80 / 368 * size_, Y_ + 177 / 368 * size_, 36 / 368 * size_, 23 / 368 * size_)) {\r\n\t\t\t\t\t\tAustralianAccent()\r\n\t\t\t\t\t\t//ctx.fillText(Profile.Password, (X_ + (35 + 20) / 368 * size_) * Math.min(Screen.k_width, Screen.k_height), ( Y_ + 115 / 368 * size_ + (36 - 11) / 368 * size_) * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t\t\t\t\t//ctx.fillText(Profile.UserName, (X_ + (35 + 20) / 368 * size_) * Math.min(Screen.k_width, Screen.k_height), (Y_ + 57 / 368 * size_ + (36 - 11) / 368 * size_) * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t\t\t\t\tdrawSignInSignInButton(X_ + 20 / 368 * size_, Y_ + 318 / 368 * size_, 157 / 368 * size_, 157 / 368 * size_ * 37 / 156)\r\n\t\t\t\t\t\tdrawSignInCancelButton(X_ + 190 / 368 * size_, Y_ + 318 / 368 * size_, 157 / 368 * size_, 157 / 368 * size_ * 37 / 156)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//British accent\r\n\t\t\t\t\tY_ = (MenuItem.topSpace + MenuItem.starts) / 2\r\n\t\t\t\t\tsize_ = 2*(Y_ - MenuItem.starts) + MenuItem.size;\r\n\t\t\t\t\tX_ = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - size_)/2\r\n\t\t\t\t\tif(Mode.SignIn && mouseInRect(X_ + 124 / 368 * size_, Y_ + 177 / 368 * size_, 36 / 368 * size_, 23 / 368 * size_)) {\r\n\t\t\t\t\t\tBritishAccent()\r\n\t\t\t\t\t\t//ctx.fillText(Profile.Password, (X_ + (35 + 20) / 368 * size_) * Math.min(Screen.k_width, Screen.k_height), ( Y_ + 115 / 368 * size_ + (36 - 11) / 368 * size_) * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t\t\t\t\t//ctx.fillText(Profile.UserName, (X_ + (35 + 20) / 368 * size_) * Math.min(Screen.k_width, Screen.k_height), (Y_ + 57 / 368 * size_ + (36 - 11) / 368 * size_) * Math.min(Screen.k_width, Screen.k_height))\r\n\t\t\t\t\t\tdrawSignInSignInButton(X_ + 20 / 368 * size_, Y_ + 318 / 368 * size_, 157 / 368 * size_, 157 / 368 * size_ * 37 / 156)\r\n\t\t\t\t\t\tdrawSignInCancelButton(X_ + 190 / 368 * size_, Y_ + 318 / 368 * size_, 157 / 368 * size_, 157 / 368 * size_ * 37 / 156)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//Cancel button clicked SignIn Mode\r\n\t\t\t\t\tY_ = (MenuItem.topSpace + MenuItem.starts) / 2\r\n\t\t\t\t\tsize_ = 2*(Y_ - MenuItem.starts) + MenuItem.size;\r\n\t\t\t\t\tX_ = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - size_)/2\r\n\t\t\t\t\tif (Mode.SignIn && mouseInRect(X_ + 190 / 368 * size_, Y_ + 318 / 368 * size_, 157 / 368 * size_, 157 / 368 * size_ * 37 / 156)) {\r\n\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\tMode.SignIn = false;\r\n\t\t\t\t\t\tMode.MenuItem = true;\r\n\t\t\t\t\t\tNewAccent = \"UK English Male\";\r\n\t\t\t\t\t\tif(Profile.storeUserNameSignIn == true)\r\n\t\t\t\t\t\t\tProfile.storeUserNameSignIn = false;\r\n\t\t\t\t\t\tif(Profile.storePasswordSignIn == true)\r\n\t\t\t\t\t\t\tProfile.storePasswordSignIn = false;\r\n\t\t\t\t\t\tProfile.UserName = \"\";\r\n\t\t\t\t\t\tProfile.Password = \"\";\r\n\t\t\t\t\t\t$(\"#UserName\").remove();\r\n\t\t\t\t\t\t$(\"#Password\").remove();\r\n\t\t\t\t\t\t$(\"#inputdiv\").remove();\r\n\t\t\t\t\t\tclearScreenRect(0, 0, Screen.width/ Math.min(Screen.k_width, Screen.k_height), Screen.height / Math.min(Screen.k_width, Screen.k_height) )\r\n\t\t\t\t\t\trespondCanvas();\r\n\t\t\t\t\t\t}, 200);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t//Signin button clicked SignIn mode\r\n\t\t\t\t\tY_ = (MenuItem.topSpace + MenuItem.starts) / 2\r\n\t\t\t\t\tsize_ = 2*(Y_ - MenuItem.starts) + MenuItem.size;\r\n\t\t\t\t\tX_ = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - size_)/2\r\n\t\t\t\t\tif (Mode.SignIn && mouseInRect(X_ + 20 / 368 * size_, Y_ + 318 / 368 * size_, 157 / 368 * size_, 157 / 368 * size_ * 37 / 156)) {\r\n\t\t\t\t\t\tif(checkProfileData(document.getElementById(\"UserName\").value, document.getElementById(\"Password\").value)){\r\n\t\t\t\t\t\t\tdrawLoading();\r\n\t\t\t\t\t\t\tvar ok;\r\n\t\t\t\t\t\t\tProfile.UserName = document.getElementById(\"UserName\").value;\r\n\t\t\t\t\t\t\tProfile.Password = document.getElementById(\"Password\").value;\r\n\t\t\t\t\t\t\tvar User = {};\r\n\t\t\t\t\t\t\tUser.UserName = Profile.UserName;\r\n\t\t\t\t\t\t\tUser.Password = Profile.Password;\r\n\t\t\t\t\t\t\tUser.Accent = NewAccent;\r\n\t\t\t\t\t\t\tsocket.emit('newUser', {\r\n\t\t\t\t\t\t\t\tUser: User\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tsocket.on('newUser', function(data){\r\n\t\t\t\t\t\t\t\tif(data.res) {\r\n\t\t\t\t\t\t\t\t\tok = true;\r\n\t\t\t\t\t\t\t\t\tProfile.LoggedIn = true;\r\n\t\t\t\t\t\t\t\t\tMode.SignIn = false;\r\n\t\t\t\t\t\t\t\t\tMode.MenuItem = true;\r\n\t\t\t\t\t\t\t\t\tProfile.storeUserNameSignIn = false;\r\n\t\t\t\t\t\t\t\t\tProfile.storePasswordSignIn = false;\r\n\t\t\t\t\t\t\t\t\tProfile.Accent = NewAccent;\r\n\t\t\t\t\t\t\t\t\tclearScreenRect(0, 0, Screen.width / Math.min(Screen.k_width, Screen.k_height), Screen.height / Math.min(Screen.k_width, Screen.k_height) )\r\n\t\t\t\t\t\t\t\t\t$(\"#UserName\").remove();\r\n\t\t\t\t\t\t\t\t\t$(\"#Password\").remove();\r\n\t\t\t\t\t\t\t\t\t$(\"#inputdiv\").remove();\r\n\t\t\t\t\t\t\t\t\tProfile.Password = \"\";\r\n\t\t\t\t\t\t\t\t\trespondCanvas();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse if(!data.res) {\r\n\t\t\t\t\t\t\t\t\tif(ok == undefined) {\r\n\t\t\t\t\t\t\t\t\t\tok = false;\r\n\t\t\t\t\t\t\t\t\t\talert(\"This user name is already taken\");\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\talert(\"Fill all information\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tfunction selectAnimal(){\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(!Mode.Training && Task.toTest.length == Task.test.length) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tTask.Result.Start = new Date;\r\n\t\t\t\t\t\tTask.Result.Answers = [];\r\n\t\t\t\t\t\tif(Mode.Quiz) {\r\n\t\t\t\t\t\t\tQuiz.Start = Task.Result.Start;\r\n\t\t\t\t\t\t\tTask.Result.Quiz = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(Task.toTest.length) {\r\n\t\t\t\t\t\tdocument.getElementById(\"Loading\").style.visibility = \"hidden\";\r\n\t\t\t\t\t\tvar i = functions.randomInteger(0, Task.toTest.length - 1);\r\n\t\t\t\t\t\tvar animal = Task.toTest.concat()[i];\r\n\t\t\t\t\t\tTask.asked = Task.toTest.concat()[i];\r\n\t\t\t\t\t\tctx.fillStyle=\"#000000\";\r\n\t\t\t\t\t\tTask.tries = Task.MaxPoint;\r\n\t\t\t\t\t\tdelete Pressed.x;\r\n\t\t\t\t\t\tdelete Pressed.y;\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tdrawTest();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(!Mode.Training){\r\n\t\t\t\t\t\tTask.Result.Finish = new Date;\r\n\t\t\t\t\t\tdelete Task.Result.time;\r\n\t\t\t\t\t\tMode[Task.TaskName.replace(/\\s/g,'')] = false;\r\n\t\t\t\t\t\tif(!Mode.Quiz) {\r\n\t\t\t\t\t\t\tloadForms();\r\n\t\t\t\t\t\t\tdrawLoading();\r\n\t\t\t\t\t\t\tshowResultForm(Task.Result.Answers, Task.Total, Task.MaxPoint);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tif(Profile.LoggedIn) {\r\n\t\t\t\t\t\t\t\tTask.Result.Finish = new Date();\r\n\t\t\t\t\t\t\t\tsocket.emit(\"Result\", {Result: Task.Result});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tQuiz.Total = Quiz.Total + Task.Result.Answers.length;\r\n\t\t\t\t\t\t\tQuiz.Correct = Quiz.Correct + countCorrect(Task.Result.Answers);\r\n\t\t\t\t\t\t\tQuiz.Points = Quiz.Points + countPoints(Task.Result.Answers, Task.Result.Answers.length, Quiz.Content[Exercise_num].Max_point);\r\n\t\t\t\t\t\t\tQuiz.TotalMax = Quiz.TotalMax + Task.Result.Answers.length * Quiz.Content[Exercise_num].Max_point;\r\n\t\t\t\t\t\t\tMode.Results = false;\r\n\t\t\t\t\t\t\tTask.Result = {};\r\n\t\t\t\t\t\t\tdelete Task.Frames[Task.TaskName];\r\n\t\t\t\t\t\t\tctx.clearRect(0, MenuItem.starts * Math.min(Screen.k_width, Screen.k_height), Screen.width, (MenuItem.ends - MenuItem.starts) * Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tExercise_num++;\r\n\t\t\t\t\t\t\tif(Exercise_num < Quiz.Content.length)\r\n\t\t\t\t\t\t\t\tshowTask(Quiz.Content[Exercise_num].Name, Quiz.Content[Exercise_num].Topic_Name, Quiz.Content[Exercise_num].Max_point, Quiz.Content[Exercise_num].Content.length, -1, Quiz.Content[Exercise_num].Content);\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tif(Mode.Quiz)\r\n\t\t\t\t\t\t\t\t\tQuiz.Finish = new Date;\r\n\t\t\t\t\t\t\t\tloadForms();\r\n\t\t\t\t\t\t\t\tdrawLoading();\r\n\t\t\t\t\t\t\t\tshowResultForm();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tMode[Task.TaskName.replace(/\\s/g,'')] = false;\r\n\t\t\t\t\t\tclearRect(0,0,Screen.width / Math.min(Screen.k_width, Screen.k_height), Screen.height / Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\t\tdrawHeader();\r\n\t\t\t\t\t\tvar digit_frame = Properties.Numbers[\"1.png\"];\r\n\t\t\t\t\t\tvar digit = {};\r\n\t\t\t\t\t\tdigit.h = (MenuItem.ends - MenuItem.starts) / 2;\r\n\t\t\t\t\t\tdigit.w = digit.h * digit_frame.w / digit_frame.h;\r\n\t\t\t\t\t\tdrawDigit(3, (Screen.width / Math.min(Screen.k_width, Screen.k_height) - digit.w) / 2, (Screen.height  / Math.min(Screen.k_width, Screen.k_height) - digit.h)/2, digit.w, digit.h);\r\n\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\tclearRect(0,0,Screen.width / Math.min(Screen.k_width, Screen.k_height), Screen.height / Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\t\t\tdrawHeader();\r\n\t\t\t\t\t\t\tdrawDigit(2, (Screen.width / Math.min(Screen.k_width, Screen.k_height) - digit.w) / 2, (Screen.height  / Math.min(Screen.k_width, Screen.k_height) - digit.h)/2, digit.w, digit.h);\r\n\t\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\t\tclearRect(0,0,Screen.width / Math.min(Screen.k_width, Screen.k_height), Screen.height / Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\t\t\t\tdrawHeader();\r\n\t\t\t\t\t\t\t\tdrawDigit(1, (Screen.width / Math.min(Screen.k_width, Screen.k_height) - digit.w) / 2, (Screen.height  / Math.min(Screen.k_width, Screen.k_height) - digit.h)/2, digit.w, digit.h);\r\n\t\t\t\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\t\t\t\tMode[Task.TaskName.replace(/\\s/g,'')] = true;\r\n\t\t\t\t\t\t\t\t\t\tMode.Training = false;\r\n\t\t\t\t\t\t\t\t\t\tclearRect(0,0,Screen.width / Math.min(Screen.k_width, Screen.k_height), Screen.height / Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\t\t\t\t\t\tdrawHeader();\r\n\t\t\t\t\t\t\t\t\t\tsetTest((Task.Frames[Task.TaskName]).concat(), Task.Total);\r\n\t\t\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t\t},1000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tfunction checkAnswer(answer_i) {\r\n\t\t\t\t\tif(Task.test[answer_i].Word == Task.asked.Word) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tfunction setTest(Array, N){\r\n\t\t\t\t\tdocument.getElementById(\"Loading\").style.visibility = \"hidden\";\r\n\t\t\t\t\tMode.Results = false;\r\n\t\t\t\t\tMode.CountDown = false;\r\n\t\t\t\t\tTask.Total = N;\r\n\t\t\t\t\tconsole.log(\"setting test\");\r\n\t\t\t\t\tif(!Mode.Training)\r\n\t\t\t\t\t\tTask.test = functions.getRandomArray(Array, [], N);\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tTask.test = functions.getRandomArray(Array, [], Array.length);\r\n\t\t\t\t\tTask.toTest = Task.test.slice(0);\r\n\t\t\t\t\tselectAnimal();\r\n\t\t\t\t}\r\n\t\t\t\tvar checkloaded = {};\r\n\t\t\t\tcheckloaded.Animals = function (TaskName, N) {\r\n\t\t\t\t\tif(Task.loadedAnimalsWordsframe && Task.loadedAnimalsframe) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tif(Profile.LoggedIn) {\r\n\t\t\t\t\t\t\t\tTask.Result.UserName = Profile.UserName;\r\n\t\t\t\t\t\t\t\tTask.Result.Exercise = TaskName;\r\n\t\t\t\t\t\t\t\tTask.Result.Topic_Name = Task.TopicName;\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tsetTest(Task.Frames[TaskName].concat(), N);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcatch(e) {\r\n\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\tcheckloaded.Animals(TaskName, N);\r\n\t\t\t\t\t\t\t}, 200);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {setTimeout(function(){\r\n\t\t\t\t\t\t\tcheckloaded.Animals(TaskName, N);\r\n\t\t\t\t\t\t}, 200)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcheckloaded.Numbers = function (TaskName, N) {\r\n\t\t\t\t\tif(Task.loadedNumbersWordsframe && Task.loadedNumbersframe) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tif(Profile.LoggedIn) {\r\n\t\t\t\t\t\t\t\tTask.Result.UserName = Profile.UserName;\r\n\t\t\t\t\t\t\t\tTask.Result.Exercise = TaskName;\r\n\t\t\t\t\t\t\t\tTask.Result.Topic_Name = Task.TopicName;\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tsetTest(Task.Frames[TaskName].concat(), N);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcatch(e) {\r\n\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\t//checkloaded.Numbers(TaskName, N);\r\n\t\t\t\t\t\t\t}, 200);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {setTimeout(function(){\r\n\t\t\t\t\t\t\tcheckloaded.Numbers(TaskName, N);\r\n\t\t\t\t\t\t}, 200)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tfunction showTask(TaskName, TopicName,Points, N, j = -1, QuizArray = []) {\r\n\t\t\t\t\tMode.CountDown = false;\r\n\t\t\t\t\tTask.TaskName = TaskName;\r\n\t\t\t\t\tTask.TopicName = TopicName;\r\n\t\t\t\t\tTask.MaxPoint = Points;\r\n\t\t\t\t\tTask.N_toTest = N;\r\n\t\t\t\t\tif(Mode.Quiz) {\r\n\t\t\t\t\t\tTask.Frames[TaskName] = QuizArray;\r\n\t\t\t\t\t\tMode.Training = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tk2 = -1;\r\n\t\t\t\t\tk3 = -1;\r\n\t\t\t\t\tword_ch = false;\r\n\t\t\t\t\tswitch(TaskName) {\r\n\t\t\t\t\t\tcase 'Alphabet song':\r\n\t\t\t\t\t\t\tMode.MusicVideo = true;\r\n\t\t\t\t\t\t\tMode[Task.TaskName.replace(/\\s/g,'')] = true;\r\n\t\t\t\t\t\t\tsocket.emit('getVideoID', {\r\n\t\t\t\t\t\t\t\tTaskName: TaskName,\r\n\t\t\t\t\t\t\t\tAccent: Profile.Accent\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tsocket.on('getVideoID', function(data){\r\n\t\t\t\t\t\t\t\tTask.Frames[Task.TaskName] = data.Content;\r\n\t\t\t\t\t\t\t\tPlaySong();\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tdrawLoading();\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'Name animals':\r\n\t\t\t\t\t\t\tMode[Task.TaskName.replace(/\\s/g,'')] = true;\r\n\t\t\t\t\t\t\tframetype1 = \"frame\";\r\n\t\t\t\t\t\t\tframetype2 = \"Wordsframe\";\r\n\t\t\t\t\t\t\tif(!Mode.Quiz)\r\n\t\t\t\t\t\t\t\tMode.Training = true;\r\n\t\t\t\t\t\t\tif(!Task.loadedAnimalsWordsframe)\r\n\t\t\t\t\t\t\t\tloadAnimalsWords();\r\n\t\t\t\t\t\t\tif(!Task.loadedAnimalsframe)\r\n\t\t\t\t\t\t\t\tloadAnimals();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconsole.log(\"in case\");\r\n\t\t\t\t\t\t\tdrawLoading();\r\n\t\t\t\t\t\t\tif(!Mode.Quiz) {\r\n\t\t\t\t\t\t\tsocket.emit('getTask', {\r\n\t\t\t\t\t\t\t\tTaskName: TaskName\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tsocket.on('getTask', function(data){\r\n\t\t\t\t\t\t\t\t//Animals = data.Content;\r\n\t\t\t\t\t\t\t\tTask.Frames[TaskName] = data.Content;\r\n\t\t\t\t\t\t\t\tcheckloaded.Animals(TaskName, N);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\tcheckloaded.Animals(TaskName, N);\r\n\t\t\t\t\t\t\ttry{\r\n\t\t\t\t\t\t\t\tsize_btn = setWordHeight();\r\n\t\t\t\t\t\t\t\tif(frametype1 == \"Wordsframe\" && frametype2 == \"frame\")\r\n\t\t\t\t\t\t\t\t\tsize_btn = 70;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcatch(e) {\r\n\t\t\t\t\t\t\t\tsize_btn = ((MenuItem.ends - MenuItem.starts - 40) - 4 * 10 - (MenuItem.ends - MenuItem.starts - 40) * 2/5) / 5\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tdrawExitButton(Screen.width / Math.min(Screen.k_width, Screen.k_height) - Title.leftSpace - size_btn, MenuItem.starts + 20, size_btn, size_btn);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'Find the animal':\r\n\t\t\t\t\t\t\tdrawLoading();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tMode.Findtheanimal = true;\r\n\t\t\t\t\t\t\tif(!Mode.Quiz)\r\n\t\t\t\t\t\t\t\tMode.Training = true;\r\n\t\t\t\t\t\t\tframetype1 = \"Wordsframe\";\r\n\t\t\t\t\t\t\tframetype2 = \"frame\";\r\n\t\t\t\t\r\n\t\t\t\t\t\t\tif(!Task.loadedAnimalsWordsframe)\r\n\t\t\t\t\t\t\t\tloadAnimalsWords();\r\n\t\t\t\t\t\t\tif(!Task.loadedAnimalsframe)\r\n\t\t\t\t\t\t\t\tloadAnimals();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif(!Mode.Quiz) {\r\n\t\t\t\t\t\t\t\tsocket.emit('getTask', {\r\n\t\t\t\t\t\t\t\t\tTaskName: TaskName\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tsocket.on('getTask', function(data){\r\n\t\t\t\t\t\t\t\t\tTask.Frames[TaskName] = data.Content;\r\n\t\t\t\t\t\t\t\t\tcheckloaded.Animals(TaskName, N);\t\r\n\t\t\t\t\t\t\t\t})\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tcheckloaded.Animals(TaskName, N);\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttry{\r\n\t\t\t\t\t\t\t\tsize_btn = setWordHeight();\r\n\t\t\t\t\t\t\t\tif(frametype1 == \"Wordsframe\" && frametype2 == \"frame\")\r\n\t\t\t\t\t\t\t\t\tsize_btn = 70;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcatch(e) {\r\n\t\t\t\t\t\t\t\tsize_btn = ((MenuItem.ends - MenuItem.starts - 40) - 4 * 10 - (MenuItem.ends - MenuItem.starts - 40) * 2/5) / 5\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tdrawExitButton(Screen.width / Math.min(Screen.k_width, Screen.k_height) - Title.leftSpace - size_btn, MenuItem.starts + 20, size_btn, size_btn);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'Name numbers from 0 to 9':\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif(!Mode.Quiz)\r\n\t\t\t\t\t\t\t\t\tMode.Training = true;\r\n\t\t\t\t\t\t\tframetype2 = \"Wordsframe\";\r\n\t\t\t\t\t\t\tframetype1 = \"frame\";\r\n\t\t\t\t\t\t\tif(!Task[\"loaded\" +TopicName + \"Wordsframe\"])\r\n\t\t\t\t\t\t\t\tloadNumbersWords();\r\n\t\t\t\t\t\t\tif(!Task[\"loaded\" +TopicName + \"frame\"])\r\n\t\t\t\t\t\t\t\tloadNumbers();\r\n\t\t\t\t\t\t\tdrawLoading();\r\n\t\t\t\t\t\t\tif(!Mode.Quiz) {\r\n\t\t\t\t\t\t\t\tsocket.emit('getTask', {\r\n\t\t\t\t\t\t\t\t\tTaskName: TaskName\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tsocket.on('getTask', function(data){\r\n\t\t\t\t\t\t\t\t\tTask.Frames[TaskName] = data.Content;\r\n\t\t\t\t\t\t\t\t\tcheckloaded.Numbers(TaskName, N);\t\t\r\n\t\t\t\t\t\t\t\t})\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\tcheckloaded.Numbers(TaskName, N);\r\n\t\t\t\t\t\t\ttry{\r\n\t\t\t\t\t\t\t\tsize_btn = setWordHeight();\r\n\t\t\t\t\t\t\t\tif(frametype1 == \"Wordsframe\" && frametype2 == \"frame\")\r\n\t\t\t\t\t\t\t\t\tsize_btn = 70;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcatch(e) {\r\n\t\t\t\t\t\t\t\tsize_btn = ((MenuItem.ends - MenuItem.starts - 40) - 4 * 10 - (MenuItem.ends - MenuItem.starts - 40) * 2/5) / 5\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tdrawExitButton(Screen.width / Math.min(Screen.k_width, Screen.k_height) - Title.leftSpace - size_btn, MenuItem.starts + 20, size_btn, size_btn);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'Find numbers from 0 to 9':\r\n\t\t\t\t\t\t\tif(!Mode.Quiz)\r\n\t\t\t\t\t\t\t\tMode.Training = true;\r\n\t\t\t\t\t\t\tframetype1 = \"Wordsframe\";\r\n\t\t\t\t\t\t\tframetype2 = \"frame\";\r\n\t\t\t\t\t\t\tif(!Task[\"loaded\" +TopicName + \"Wordsframe\"])\r\n\t\t\t\t\t\t\t\tloadNumbersWords();\r\n\t\t\t\t\t\t\tif(!Task[\"loaded\" +TopicName + \"frame\"])\r\n\t\t\t\t\t\t\t\tloadNumbers();\r\n\t\t\t\t\t\t\tdrawLoading();\r\n\t\t\t\t\t\t\tif(!Mode.Quiz) {\r\n\t\t\t\t\t\t\t\tsocket.emit('getTask', {\r\n\t\t\t\t\t\t\t\t\tTaskName: TaskName\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tsocket.on('getTask', function(data){\r\n\t\t\t\t\t\t\t\t\tTask.Frames[TaskName] = data.Content;\r\n\t\t\t\t\t\t\t\t\tcheckloaded.Numbers(TaskName, N);\t\t\r\n\t\t\t\t\t\t\t\t})\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\tcheckloaded.Numbers(TaskName, N);\r\n\t\t\t\t\t\t\ttry{\r\n\t\t\t\t\t\t\t\tsize_btn = setWordHeight();\r\n\t\t\t\t\t\t\t\tif(frametype1 == \"Wordsframe\" && frametype2 == \"frame\")\r\n\t\t\t\t\t\t\t\t\tsize_btn = 70;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcatch(e) {\r\n\t\t\t\t\t\t\t\tsize_btn = ((MenuItem.ends - MenuItem.starts - 40) - 4 * 10 - (MenuItem.ends - MenuItem.starts - 40) * 2/5) / 5\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tdrawExitButton(Screen.width / Math.min(Screen.k_width, Screen.k_height) - Title.leftSpace - size_btn, MenuItem.starts + 20, size_btn, size_btn);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tcase 'Animals song':\r\n\t\t\t\t\t\t\t\tMode.MusicVideo = true;\r\n\t\t\t\t\t\t\t\tMode[Task.TaskName.replace(/\\s/g,'')] = true;\r\n\t\t\t\t\t\t\t\tsocket.emit('getVideoID', {\r\n\t\t\t\t\t\t\t\t\tTaskName: TaskName,\r\n\t\t\t\t\t\t\t\t\tAccent: Profile.Accent\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tsocket.on('getVideoID', function(data){\r\n\t\t\t\t\t\t\t\t\tTask.Frames[Task.TaskName] = data.Content;\r\n\t\t\t\t\t\t\t\t\tPlaySong();\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tdrawLoading();\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'Numbers song (1 - 10)':\r\n\t\t\t\t\t\t\t\tMode.MusicVideo = true;\r\n\t\t\t\t\t\t\t\tMode[Task.TaskName.replace(/\\s/g,'')] = true;\r\n\t\t\t\t\t\t\t\tsocket.emit('getVideoID', {\r\n\t\t\t\t\t\t\t\t\tTaskName: TaskName,\r\n\t\t\t\t\t\t\t\t\tAccent: Profile.Accent\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tsocket.on('getVideoID', function(data){\r\n\t\t\t\t\t\t\t\t\tTask.Frames[Task.TaskName] = data.Content;\r\n\t\t\t\t\t\t\t\t\tPlaySong();\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tdrawLoading();\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'Numbers song (1 - 20)':\r\n\t\t\t\t\t\t\t\tMode[Task.TaskName.replace(/\\s/g,'')] = true;\r\n\t\t\t\t\t\t\t\tsocket.emit('getVideoID', {\r\n\t\t\t\t\t\t\t\t\tTaskName: TaskName,\r\n\t\t\t\t\t\t\t\t\tAccent: Profile.Accent\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tsocket.on('getVideoID', function(data){\r\n\t\t\t\t\t\t\t\t\tTask.Frames[Task.TaskName] = data.Content;\r\n\t\t\t\t\t\t\t\t\tPlaySong();\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tdrawLoading();\r\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault: \r\n\t\t\t\t\t\t\t\t\tdelete Task.TaskName;\r\n\t\t\t\t\t\t\t\t\tdelete Task.TopicName;\r\n\t\t\t\t\t\t\t\t\tdelete Task.MaxPoint;\r\n\t\t\t\t\t\t\t\t\tdelete Task.N_toTest;\r\n\t\t\t\t\t\t\t\t\tMode.Exercise = false;\r\n\t\t\t\t\t\t\t\t\tMode.Tasks = true;\r\n\t\t\t\t\t\t\t\t\tMode.MenuItem = true;\r\n\t\t\t\t\t\t\t\t\tMenuItem.clicked = j;\r\n\t\t\t\t\t\t\t\t\tMenuItem.chosen = j;\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tMode.LogIn = false;\r\n\t\t\t\t\t\t\t\t\tMode.SignIn = false;\r\n\t\t\t\t\t\t\t\t\tMode.Results = false;\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\trespondCanvas();\r\n\t\t\t\t\t\t\t\t\t//alert(TaskName + \" is not available yet:(\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t//exit during song\r\n\t\t\t\tvar size_btn = 70;\r\n\t\t\t\tif (Mode.Exercise && Mode.MusicVideo && !Mode.SignIn && !Mode.LogIn && mouseInRect(Screen.width / Math.min(Screen.k_width, Screen.k_height) - Title.leftSpace - size_btn, MenuItem.starts + 20, size_btn, size_btn)) {\r\n\t\t\t\t\tMode.MenuItem = true;\r\n\t\t\t\t\tMode.Exercise = false;\r\n\t\t\t\t\t$(\"#Video\").remove();\r\n\t\t\t\t\t$(\"inputdiv\").remove();\r\n\t\t\t\t\t\r\n\t\t\t\t\tMode[Task.TaskName.replace(/\\s/g,'')] = false;\r\n\t\t\t\t\tMode.MusicVideo = false;\r\n\t\t\t\t\tclearRect(0, MenuItem.starts, Screen.width / Math.min(Screen.k_width, Screen.k_height), MenuItem.ends);\r\n\t\t\t\t\tMenuItem.clicked = -1;\r\n\t\t\t\t\tMenuItem.chosen = MenuItem.clicked;\r\n\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\tinitMenu();\r\n\t\t\t\t\t}, 20)\r\n\t\t\t\t\tif(Profile.LoggedIn) {\r\n\t\t\t\t\t\tTask.Result.Finish = new Date();\r\n\t\t\t\t\t\tsocket.emit(\"Result\", {Result: Task.Result});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tTask.Result = {};\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t//task has been clicked\r\n\t\t\t\tif(Mode.Tasks) {\r\n\t\t\t\t\tvar j = MenuItem.clicked;\r\n\t\t\t\t\tvar i = 0;\r\n\t\t\t\t\t\r\n\t\t\t\t\twhile (i < Task.display)  {\r\n\t\t\t\t\t\tvar pX = 2 * MenuItem.leftSpace + 100*koef + 68 * (j - MenuItem.firstItem + 1) + MenuItem.size * (j - MenuItem.firstItem) - 68;\r\n\t\t\t\t\t\tvar pY =  MenuItem.topSpace;\r\n\t\t\t\t\t\tvar t_a_width = 100*0.5;\r\n\t\t\t\t\t\tvar t_a_height = 0.5*100*226/152;\r\n\t\t\t\t\t\tif(mouseInRect(pX, (pY + (55/368*MenuItem.size + 10) * i + t_a_width + Task.topSpace), MenuItem.size, 55/368*MenuItem.size)){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttry{\r\n\t\t\t\t\t\t\t\tMode.Exercise = true;\r\n\t\t\t\t\t\t\t\tclearRect(0, MenuItem.starts, Screen.width/ Math.min(Screen.k_width, Screen.k_height), MenuItem.ends)\r\n\t\t\t\t\t\t\t\tMode.Tasks = false;\r\n\t\t\t\t\t\t\t\tMode.MenuItem = false;\r\n\t\t\t\t\t\t\t\tshowTask(Properties.Tasks[j][Task.firstTask + i].Name, Properties.Tasks[j][Task.firstTask + i].Topic_Name, Properties.Tasks[j][Task.firstTask + i].Max_point, Properties.Tasks[j][Task.firstTask + i].N_toTest, j);\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcatch(e){};\r\n\t\t\t\t\t\t\ti  = Task.display + 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\ti++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//MatchTheAnimalsWithTheirNames exit button has been clicked\r\n\t\t\t\tif(Mode.Results || (Mode.Exercise && !Mode.MusicVideo)) {\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\tsize_btn = setWordHeight();\r\n\t\t\t\t\t\tif(frametype1 == \"Wordsframe\" && frametype2 == \"frame\")\r\n\t\t\t\t\t\t\tsize_btn = 70;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcatch(e) {\r\n\t\t\t\t\t\tsize_btn = ((MenuItem.ends - MenuItem.starts - 40) - 4 * 10 - (MenuItem.ends - MenuItem.starts - 40) * 2/5) / 5\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (Mode.Exercise && !Mode.MusicVideo && !Mode.Results && !Mode.SignIn && !Mode.LogIn && mouseInRect(Screen.width / Math.min(Screen.k_width, Screen.k_height) - Title.leftSpace - size_btn, MenuItem.starts + 20, size_btn, size_btn)) {\r\n\t\t\t\t\tif(Mode.Quiz)\r\n\t\t\t\t\t\tMode.Quiz = false;\r\n\t\t\t\t\tMode.MenuItem = true;\r\n\t\t\t\t\tMode.Exercise = false;\r\n\t\t\t\t\tdelete Task.Frames[Task.TaskName];\r\n\t\t\t\t\tdelete Task.toTest;\r\n\t\t\t\t\tdelete Task.test;\r\n\t\t\t\t\tMode[Task.TaskName.replace(/\\s/g,'')] = false;\r\n\t\t\t\t\tctx.clearRect(0, 0, Screen.width, Screen.height)\r\n\t\t\t\t\tMenuItem.clicked = -1;\r\n\t\t\t\t\tMenuItem.chosen = MenuItem.clicked;\r\n\t\t\t\t\tinitMenu();\r\n\t\t\t\t\tdelete Task.Result.time;\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(Profile.LoggedIn && !Mode.Training){\r\n\t\t\t\t\t\tsocket.emit(\"Result\", {Result: Task.Result});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tTask.Result = {};\r\n\t\t\t\t}\r\n\t\t\t\t//MatchTheAnimalsWithTheirNames word has been clicked\r\n\t\t\t\tif ((!Mode.CountDown && !Mode.Results && Mode.Exercise && !Mode.MusicVideo) && !Mode.SignIn && !Mode.LogIn) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tArray = [];\r\n\t\t\t\t\t\tvar edge = 0;\r\n\t\t\t\t\t\tvar top, center, animal_height;\r\n\t\t\t\t\t\tif(frametype1 == \"frame\") {\r\n\t\t\t\t\t\t\tanimal_height = Screen.height / Math.min(Screen.k_width, Screen.k_height) / 4;\r\n\t\t\t\t\t\t\ttop = Screen.height * MenuItem.starts + 40 + animal_height + 40;\r\n\t\t\t\t\t\t\tcenter = Screen.width / Math.min(Screen.k_width, Screen.k_height) / 2;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if(frametype1 == \"Wordsframe\") {\r\n\t\t\t\t\t\t\tcenter = Screen.width / Math.min(Screen.k_width, Screen.k_height) / Math.floor((Task.test.length + 1) / 2);\r\n\t\t\t\t\t\t\ttop = MenuItem.starts + 40 + animal_height + 40;\r\n\t\t\t\t\t\t\tanimal_height = 100;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar word_height = setWordHeight();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor(var i = 0; i < Task.test.length; i++) {\r\n\t\t\t\t\t\t\tvar wordFrame = (Task.test.concat())[i][frametype2];\r\n\t\t\t\t\t\t\tArray[i] = {};\r\n\t\t\t\t\t\t\tArray[i].x = (edge + center/2-wordFrame.w*word_height/wordFrame.h/2);\r\n\t\t\t\t\t\t\tArray[i].y = top;\r\n\t\t\t\t\t\t\tArray[i].w = wordFrame.w*word_height/wordFrame.h;\r\n\t\t\t\t\t\t\tArray[i].h = word_height;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif(frametype1 == \"frame\") {\r\n\t\t\t\t\t\t\t\tif(i % 2){\r\n\t\t\t\t\t\t\t\t\ttop = top + word_height + 30;\r\n\t\t\t\t\t\t\t\t\tedge = 0;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse edge = center;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if(frametype1 == \"Wordsframe\") {\r\n\t\t\t\t\t\t\t\tif(!((i + 1) % Math.floor((Task.test.length + 1) / 2))){\r\n\t\t\t\t\t\t\t\ttop = top + word_height + 20;\r\n\t\t\t\t\t\t\t\tedge = 0;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse { \r\n\t\t\t\t\t\t\t\t\tedge = edge + center;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif((Mode.Exercise && !Mode.MusicVideo) &&k3 != -1) {\r\n\t\t\t\t\t\t\tdrawHeader();\r\n\t\t\t\t\t\t\tclearRect(0, MenuItem.starts, Screen.width/ Math.min(Screen.k_width, Screen.k_height), Screen.height/ Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif(mouseInRect((Screen.width / Math.min(Screen.k_width, Screen.k_height) - Task.asked[frametype1].w*animal_height/Task.asked[frametype1].h) / 2, MenuItem.starts + (20 + 20), Task.asked[frametype1].w*animal_height/Task.asked[frametype1].h, animal_height)) {\r\n\t\t\t\t\t\t\t\tTask.tries--;\r\n\t\t\t\t\t\t\t\tvar correct = checkAnswer(k3);\r\n\t\t\t\t\t\t\t\tif(correct){\r\n\t\t\t\t\t\t\t\t\tif(Task.TopicName != \"Numbers\")\r\n\t\t\t\t\t\t\t\t\t\tspeak(\"a \" + Task.test[k3].Word);\r\n\t\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t\t\tspeak(Task.test[k3].Word);\r\n\t\t\t\t\t\t\t\t\tvar frame = Properties.Buttons[\"correct.png\"];\r\n\t\t\t\t\t\t\t\t\tvar word_width = Screen.width / Math.min(Screen.k_width, Screen.k_height) / 3;\r\n\t\t\t\t\t\t\t\t\tvar word_height = word_width * frame.h / frame.w;\r\n\t\t\t\t\t\t\t\t\tdrawCorrect((Screen.width / Math.min(Screen.k_width, Screen.k_height) - word_width) / 2, MenuItem.starts - word_height - 20, word_width, word_height);\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tTask.toTest.splice(Task.toTest.indexOf((Task.test.concat())[k3]), 1);\r\n\t\t\t\t\t\t\t\t\tif(!Mode.Training && Task.Result.Answers.length) {\r\n\t\t\t\t\t\t\t\t\t\ttime = new Date;\r\n\t\t\t\t\t\t\t\t\t\tTask.Result.Answers.push({Word: Task.test[k3].Word, Attempts: 4 - Task.tries, Time: (time - Task.Result.time) / 1000});\r\n\t\t\t\t\t\t\t\t\t\tTask.Result.time = time;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse if(!Mode.Training) {\r\n\t\t\t\t\t\t\t\t\t\tTask.Result.time = new Date;\r\n\t\t\t\t\t\t\t\t\t\tTask.Result.Answers.push({Word: Task.test[k3].Word, Attempts: 4 - Task.tries, Time: (Task.Result.time - Task.Result.Start) / 1000});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tk3 = -1;\r\n\t\t\t\t\t\t\t\t\tselectAnimal();\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tdelete Pressed.x;\r\n\t\t\t\t\t\t\t\t\tdelete Pressed.y;\r\n\t\t\t\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\t\t\t\tdrawHeader();\r\n\t\t\t\t\t\t\t\t\t}, 500)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tif(Task.tries) {\r\n\t\t\t\t\t\t\t\t\t\tdrawTest();\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\tTask.toTest.splice(Task.toTest.indexOf(Task.asked), 1);\r\n\t\t\t\t\t\t\t\t\t\tif(!Mode.Training && Task.Result.Answers.length) {\r\n\t\t\t\t\t\t\t\t\t\t\ttime = new Date;\r\n\t\t\t\t\t\t\t\t\t\t\tTask.Result.Answers.push({Word: Task.asked.Word, Attempts: 0, Time: (time - Task.Result.time) / 1000});\r\n\t\t\t\t\t\t\t\t\t\t\tTask.Result.time = time;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\telse if(!Mode.Training) {\r\n\t\t\t\t\t\t\t\t\t\t\tTask.Result.time = new Date;\r\n\t\t\t\t\t\t\t\t\t\t\tTask.Result.Answers.push({Word: Task.asked.Word, Attempts: 0, Time: (Task.Result.time - Task.Result.Start) / 1000});\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tif(Task.TopicName != \"Numbers\")\r\n\t\t\t\t\t\t\t\t\t\t\tspeak(\"a \" + Task.asked.Word);\r\n\t\t\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t\t\t\tspeak(Task.asked.Word);\r\n\t\t\t\t\t\t\t\t\t\tTask.Result.time = new Date;\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\t\t\t\t\tselectAnimal();\r\n\t\t\t\t\t\t\t\t\t\t}, 500)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\t\t\t\tdrawHeader();\r\n\t\t\t\t\t\t\t\t\t}, 500)\r\n\t\t\t\t\t\t\t\t\tvar frame = Properties.Buttons[\"wrong.png\"];\r\n\t\t\t\t\t\t\t\t\tvar word_width = Screen.width / Math.min(Screen.k_width, Screen.k_height) / 3;\r\n\t\t\t\t\t\t\t\t\tvar word_height = word_width * frame.h / frame.w;\r\n\t\t\t\t\t\t\t\t\tdrawWrong((Screen.width / Math.min(Screen.k_width, Screen.k_height) - word_width) / 2, MenuItem.starts - word_height - 20, word_width, word_height);\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tk3 = -1;\r\n\t\t\t\t\t\t\t\t\tdrawTest();\r\n\t\t\t\t\t\t\t\t\tdelete Pressed.x;\r\n\t\t\t\t\t\t\t\t\tdelete Pressed.y;\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tk3 = -1;\r\n\t\t\t\t\t\t\t\tdelete Pressed.x;\r\n\t\t\t\t\t\t\t\tdelete Pressed.y;\r\n\t\t\t\t\t\t\t\tdrawTest();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar i = checkPoint({x:mouseX, y:mouseY}, Array);\r\n\t\t\t\t\t\tif(i < Array.length) {\r\n\t\t\t\t\t\t\tif(Task.TopicName != \"Numbers\")\r\n\t\t\t\t\t\t\t\tspeak(\"a \" + Task.test[i].Word);\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\tspeak(Task.test[i].Word);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if(Mode.Exercise){\r\n\t\t\t\t\t\t\tk3 = -1;\r\n\t\t\t\t\t\t\tdelete Pressed.x;\r\n\t\t\t\t\t\t\tdelete Pressed.y;\r\n\t\t\t\t\t\t\tif(Mode[Task.TaskName])\r\n\t\t\t\t\t\t\t\tdrawTest();\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcatch(e){}\r\n\t\t\t\t}\r\n\t\t\t\tif(Mode.Results || (Mode.Exercise && !Mode.MusicVideo)) {\r\n\t\t\t\t\t//try again clicked in result form\r\n\t\t\t\t\tvar frame = Properties.Forms[\"result_form.png\"];\r\n\t\t\t\t\tvar Result_form = {};\r\n\t\t\t\t\tResult_form.h = MenuItem.size;\r\n\t\t\t\t\tResult_form.w = Result_form.h * frame.w / frame.h;\r\n\t\t\t\t\tResult_form.x = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - Result_form.w) / 2;\r\n\t\t\t\t\tResult_form.y = (Screen.height / Math.min(Screen.k_width, Screen.k_height) - Result_form.h) / 2;\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar btn = Properties.Forms[\"result_form_try_again_btn.png\"];\r\n\t\t\t\t\tvar btn_width = (Result_form.w - 2 * 20 * Result_form.w / frame.w - 20) / 2;\r\n\t\t\t\t\tvar btn_height = btn_width * btn.h / btn.w;\r\n\t\t\t\t\tif (!Mode.Quiz && Mode.Results && !Mode.SignIn && !Mode.LogIn && mouseInRect(Result_form.x + 20 * Result_form.w / frame.w, Result_form.y + Result_form.h - btn_height / 2 - 10 * Result_form.w / frame.w, btn_width, btn_height)) {\r\n\t\t\t\t\t\tTask.Result = {};\r\n\t\t\t\t\t\tMode[Task.TaskName.replace(/\\s/g,'')] = true;\r\n\t\t\t\t\t\tMode.Results = false;\r\n\t\t\t\t\t\tTask.Result = {};\r\n\t\t\t\t\t\tif(Profile.LoggedIn) {\r\n\t\t\t\t\t\t\tTask.Result.UserName = Profile.UserName;\r\n\t\t\t\t\t\t\tTask.Result.Exercise = Task.TaskName;\r\n\t\t\t\t\t\t\tTask.Result.Topic_Name = Task.TopicName;\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tshowTask(Task.TaskName, Task.TopicName, Task.MaxPoint, Task.N_toTest);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar frame = Properties.Forms[\"result_form.png\"];\r\n\t\t\t\t\tvar Result_form = {};\r\n\t\t\t\t\tResult_form.h = MenuItem.size;\r\n\t\t\t\t\tResult_form.w = Result_form.h * frame.w / frame.h;\r\n\t\t\t\t\tResult_form.x = (Screen.width / Math.min(Screen.k_width, Screen.k_height) - Result_form.w) / 2;\r\n\t\t\t\t\tResult_form.y = (Screen.height / Math.min(Screen.k_width, Screen.k_height) - Result_form.h) / 2;\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar btn = Properties.Forms[\"result_form_okay_btn.png\"];\r\n\t\t\t\t\tvar btn_width = (Result_form.w - 2 * 20 * Result_form.w / frame.w - 20) / 2;\r\n\t\t\t\t\tvar btn_height = btn_width * btn.h / btn.w;\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t//okay has been clicked in show results\r\n\t\t\t\t\tif (Mode.Results && !Mode.SignIn && !Mode.LogIn && mouseInRect(Result_form.x + 20 * Result_form.w / frame.w + 20 + btn_width, Result_form.y + Result_form.h - btn_height / 2 -  10 * Result_form.w / frame.w, btn_width, btn_height)) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tMode.Quiz = false;\r\n\t\t\t\t\t\tMode.MenuItem = true;\r\n\t\t\t\t\t\tMode.Exercise = false;\r\n\t\t\t\t\t\tdelete Task.Frames[Task.TaskName];\r\n\t\t\t\t\t\tdelete Task.toTest;\r\n\t\t\t\t\t\tdelete Task.test;\r\n\t\t\t\t\t\tMode.Results = false;\r\n\t\t\t\t\t\tTask.Result = {};\r\n\t\t\t\t\t\tMode[Task.TaskName.replace(/\\s/g,'')] = false;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tctx.clearRect(0, 0, Screen.width, Screen.height);\r\n\t\t\t\t\t\tMenuItem.clicked = -1;\r\n\t\t\t\t\t\tMenuItem.chosen = MenuItem.clicked;\r\n\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\tinitMenu();\r\n\t\t\t\t\t\t}, 100);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//skip has been clicked\r\n\t\t\t\t\tvar size_btn = setWordHeight();\r\n\t\t\t\t\tif(frametype1 == \"Wordsframe\" && frametype2 == \"frame\")\r\n\t\t\t\t\t\t\tsize_btn = 70;\r\n\t\t\t\t\tvar frame = Properties.Buttons[\"skip.png\"];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!Mode.Quiz && Mode.Training && (Mode.Exercise && !Mode.MusicVideo) && !Mode.SignIn && !Mode.LogIn && mouseInRect(Title.leftSpace + 20, MenuItem.starts + 20, size_btn * frame.w / frame.h,size_btn)) {\r\n\t\t\t\t\t\tMode.CountDown = true;\r\n\t\t\t\t\t\tMode.Training = false;\r\n\t\t\t\t\t\tMode[Task.TaskName.replace(/\\s/g,'')] = false;\r\n\t\t\t\t\t\t\tclearRect(0,0,Screen.width / Math.min(Screen.k_width, Screen.k_height), Screen.height / Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\t\t\tdrawHeader();\r\n\t\t\t\t\t\t\tvar digit_frame = Properties.Numbers[\"1.png\"];\r\n\t\t\t\t\t\t\tvar digit = {};\r\n\t\t\t\t\t\t\tdigit.h = (MenuItem.ends - MenuItem.starts) / 2;\r\n\t\t\t\t\t\t\tdigit.w = digit.h * digit_frame.w / digit_frame.h;\r\n\t\t\t\t\t\t\tdrawDigit(3, (Screen.width / Math.min(Screen.k_width, Screen.k_height) - digit.w) / 2, (Screen.height  / Math.min(Screen.k_width, Screen.k_height) - digit.h)/2, digit.w, digit.h);\r\n\t\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\t\tclearRect(0,0,Screen.width / Math.min(Screen.k_width, Screen.k_height), Screen.height / Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\t\t\t\tdrawHeader();\r\n\t\t\t\t\t\t\t\tdrawDigit(2, (Screen.width / Math.min(Screen.k_width, Screen.k_height) - digit.w) / 2, (Screen.height  / Math.min(Screen.k_width, Screen.k_height) - digit.h)/2, digit.w, digit.h);\r\n\t\t\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\t\t\tclearRect(0,0,Screen.width / Math.min(Screen.k_width, Screen.k_height), Screen.height / Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\t\t\t\t\tdrawHeader();\r\n\t\t\t\t\t\t\t\t\tdrawDigit(1, (Screen.width / Math.min(Screen.k_width, Screen.k_height) - digit.w) / 2, (Screen.height  / Math.min(Screen.k_width, Screen.k_height) - digit.h)/2, digit.w, digit.h);\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\t\t\t\t\tMode[Task.TaskName.replace(/\\s/g,'')] = true;\r\n\t\t\t\t\t\t\t\t\t\t\tMode.Training = false;\r\n\t\t\t\t\t\t\t\t\t\t\tclearRect(0,0,Screen.width / Math.min(Screen.k_width, Screen.k_height), Screen.height / Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\t\t\t\t\t\t\tdrawHeader();\r\n\t\t\t\t\t\t\t\t\t\t\tsetTest((Task.Frames[Task.TaskName]).concat(), Task.Total);\r\n\t\t\t\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t\t\t},1000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//drawProfilePicture(((Screen.width )/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - MenuItem.leftSpace) + Profile.size_btn * 1/ 6, 20, Profile.size_btn * 2/3, Profile.size_btn * 2/ 3);\r\n\t\t\t\t//Profile picture has been clicked\r\n\t\t\t\tif((Mode.MenuItem || Mode.Tasks) && Profile.LoggedIn && mouseInRect(((Screen.width )/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace) + Profile.size_btn * 1/ 6, 20, Profile.size_btn * 2/3, Profile.size_btn * 2/ 3)) {\r\n\t\t\t\t\tsocket.emit(\"Logout\", {});\r\n\t\t\t\t\tsocket.on(\"Logout\", function(data){\r\n\t\t\t\t\t\tif(data.res) {\r\n\t\t\t\t\t\t\tProfile.LoggedIn = false;\r\n\t\t\t\t\t\t\tProfile.Accent = \"UK English Male\";\r\n\t\t\t\t\t\t\trespondCanvas();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t//Quiz has been clicked\r\n\t\t\t\tif(!Mode.Mobile && !Mode.Results&& !Mode.Exercise && (Mode.Tasks  || Mode.MenuItem) && mouseInRect(Rewards.leftSpace + Rewards.size + 68 + Rewards.size + 68 + Rewards.size + 68, Rewards.topSpace, Rewards.size, Rewards.size*75/228)) {\r\n\t\t\t\t\tif(Profile.LoggedIn) {\r\n\t\t\t\t\t\tdrawLoading();\r\n\t\t\t\t\t\tsocket.emit('getQuiz', {\r\n\t\t\t\t\t\t\tUserName: Profile.UserName\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsocket.on('getQuiz', function(data) {\r\n\t\t\t\t\t\t\tif(data.quiz) {\r\n\t\t\t\t\t\t\t\tMode.Quiz = true;\r\n\t\t\t\t\t\t\t\tMode.Exercise = true;\r\n\t\t\t\t\t\t\t\tclearRect(0, MenuItem.starts, Screen.width/ Math.min(Screen.k_width, Screen.k_height), MenuItem.ends);\r\n\t\t\t\t\t\t\t\tMode.Tasks = false;\r\n\t\t\t\t\t\t\t\tMode.MenuItem = false;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tQuiz.Content = data.quiz;\r\n\t\t\t\t\t\t\t\tExercise_num = 0;\r\n\t\t\t\t\t\t\t\tQuiz.Correct = 0;\r\n\t\t\t\t\t\t\t\tQuiz.Total = 0;\r\n\t\t\t\t\t\t\t\tQuiz.Points = 0;\r\n\t\t\t\t\t\t\t\tQuiz.TotalMax = 0;\r\n\t\t\t\t\t\t\t\tif(Exercise_num < Quiz.Content.length) {\r\n\t\t\t\t\t\t\t\t\tshowTask(Quiz.Content[Exercise_num].Name, Quiz.Content[Exercise_num].Topic_Name, Quiz.Content[Exercise_num].Max_point, Quiz.Content[Exercise_num].Content.length, -1, Quiz.Content[Exercise_num].Content);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tdocument.getElementById(\"Loading\").style.visibility = \"hidden\";\r\n\t\t\t\t\t\t\t\talert(\"You have not finished any exercises to get a Quiz\");\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tdocument.getElementById(\"Loading\").style.visibility = \"hidden\";\r\n\t\t\t\t\t\talert(\"You must be logged in to get a quiz\");\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//rewards button has been clicked\r\n\t\t\t\tif (!Mode.Mobile && !Mode.Exercise &&!Mode.LogIn && !Mode.SignIn && mouseInRect(Rewards.leftSpace, Rewards.topSpace, Rewards.size, Rewards.size*75/228)) {\r\n\t\t\t\t\talert(\"Rewards are not available yet:(\");\r\n\t\t\t\t}\r\n\t\t\t\t//progress buton has been clicked\r\n\t\t\t\tif (!Mode.Mobile && !Mode.Exercise &&!Mode.LogIn && !Mode.SignIn && mouseInRect(Rewards.leftSpace + Rewards.size + 68, Rewards.topSpace, Rewards.size, Rewards.size*75/228)) {\r\n\t\t\t\t\talert(\"Progress is not available yet:(\");\r\n\t\t\t\t}\r\n\t\t\t\t//phrases button has been clicked\r\n\t\t\t\tif (!Mode.Mobile && !Mode.Exercise &&!Mode.LogIn && !Mode.SignIn && mouseInRect(Rewards.leftSpace + Rewards.size + 68 + Rewards.size + 68,  Rewards.topSpace, Rewards.size + 68, Rewards.size*75/228)) {\r\n\t\t\t\t\talert(\"Phrases are not available yet:(\");\r\n\t\t\t\t}\r\n\t\t\t\t//help button has been clicked\r\n\t\t\t\tif (!Mode.Mobile && !Mode.LogIn && !Mode.SignIn && mouseInRect(Screen.width / Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace + (Profile.size_btn - 2 * 5)/3 + 5,  (20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5, (Profile.size_btn - 2*5) / 3, (Profile.size_btn - 2*5) / 3)) {\r\n\t\t\t\t\talert(\"Help is not available yet:(\");\r\n\t\t\t\t}\r\n\t\t\t\t//info button has been clicked\r\n\t\t\t\tif (!Mode.Mobile && !Mode.LogIn && !Mode.SignIn && mouseInRect(Screen.width/ Math.min(Screen.k_width, Screen.k_height) - Profile.size_btn - Title.leftSpace + (Profile.size_btn - 2 * 5)/3 + 5+ (Profile.size_btn - 2 * 5)/3 + 5,(20 + 5) + Profile.size_btn*75/228 + Profile.size_btn*75/228 + 5, (Profile.size_btn - 2 * 5)/3 + 5 , (Profile.size_btn - 2*5) / 3)){\r\n\t\t\t\t\talert(\"Information is not available yet:(\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tMainCanvas.addEventListener(\"mousedown\", MouseDown);\r\n\t\tMainCanvas.addEventListener(\"touchstart\", MouseDown);\r\n\t\tfunction MouseDown(mouseEvent){\r\n\t\t\tevent.preventDefault();\r\n\t\t\tif(mouseEvent.which == 1 || mouseEvent.changedTouches) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tvar touch = mouseEvent.changedTouches[0];\r\n\t\t\t\t\tvar rect = MainCanvas.getBoundingClientRect();\r\n\t\t\t\t\tvar scaleX = MainCanvas.width / rect.width;\r\n\t\t\t\t\tvar scaleY = MainCanvas.height / rect.height;\r\n\t\t\t\t\tmouseX = (touch.clientX - rect.left) * scaleX;   // scale mouse coordinates after they have\r\n\t\t\t\t\tmouseY = (touch.clientY - rect.top) * scaleY;\r\n\t\t\t\t}\r\n\t\t\t\tcatch(e) {\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif ((!Mode.Results && Mode.Exercise && !Mode.MusicVideo) && !Mode.SignIn && !Mode.LogIn) {\r\n\t\t\t\t\t\tvar Array = [];\r\n\t\t\t\t\t\tvar edge = 0;\r\n\t\t\t\t\t\tvar top, center, animal_height;\r\n\t\t\t\t\t\tif(frametype1 == \"frame\") {\r\n\t\t\t\t\t\t\tanimal_height = Screen.height / Math.min(Screen.k_width, Screen.k_height) / 4;\r\n\t\t\t\t\t\t\tcenter = Screen.width / Math.min(Screen.k_width, Screen.k_height) / 2;\r\n\t\t\t\t\t\t\ttop = MenuItem.starts + 40 + animal_height + 40;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if(frametype1 == \"Wordsframe\") {\r\n\t\t\t\t\t\t\tanimal_height = 100;\r\n\t\t\t\t\t\t\tcenter = Screen.width / Math.min(Screen.k_width, Screen.k_height) / Math.floor((Task.test.length + 1) / 2);\r\n\t\t\t\t\t\t\ttop = MenuItem.starts + 40 + animal_height + 40;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar word_height = setWordHeight();\r\n\t\t\t\t\t\tfor(var i = 0; i < Task.test.length; i++) {\r\n\t\t\t\t\t\t\tvar wordFrame = (Task.test.concat())[i][frametype2];\r\n\t\t\t\t\t\t\tArray[i] = {};\r\n\t\t\t\t\t\t\tArray[i].x = (edge + center/2-wordFrame.w*word_height/wordFrame.h/2);\r\n\t\t\t\t\t\t\tArray[i].y = top;\r\n\t\t\t\t\t\t\tArray[i].w = wordFrame.w*word_height/wordFrame.h;\r\n\t\t\t\t\t\t\tArray[i].h = word_height;\r\n\t\t\t\t\t\t\tvar TopforTap;\r\n\t\t\t\t\t\t\tvar edgeforTap;\r\n\t\t\t\t\t\t\tif(Task.test[i].Word == Task.asked.Word) {\r\n\t\t\t\t\t\t\t\tTopforTap = top;\r\n\t\t\t\t\t\t\t\tedgeforTap = edge;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(frametype1 == \"frame\") {\r\n\t\t\t\t\t\t\t\tif(i % 2){\r\n\t\t\t\t\t\t\t\t\ttop = top + word_height + 30;\r\n\t\t\t\t\t\t\t\t\tedge = 0;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse edge = center;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if(frametype1 == \"Wordsframe\") {\r\n\t\t\t\t\t\t\t\tif(!((i + 1) % Math.floor((Task.test.length + 1) / 2))){\r\n\t\t\t\t\t\t\t\ttop = top + word_height + 20;\r\n\t\t\t\t\t\t\t\tedge = 0;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse { \r\n\t\t\t\t\t\t\t\t\tedge = edge + center;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar i = checkPoint({x:mouseX, y:mouseY}, Array);\r\n\t\t\t\t\t\tif(i < Array.length) {\r\n\t\t\t\t\t\t\tk3 = i;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tvar touch = mouseEvent.changedTouches[0];\r\n\t\t\t\t\t\t\t\tvar rect = MainCanvas.getBoundingClientRect();\r\n\t\t\t\t\t\t\t\tvar scaleX = MainCanvas.width / rect.width;\r\n\t\t\t\t\t\t\t\tvar scaleY = MainCanvas.height / rect.height;\r\n\t\t\t\t\t\t\t\tmouseX = (touch.clientX - rect.left) * scaleX;   // scale mouse coordinates after they have\r\n\t\t\t\t\t\t\t\tmouseY = (touch.clientY - rect.top) * scaleY;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcatch(e) {}\r\n\t\t\t\t\t\t\tPressed.x = mouseX;\r\n\t\t\t\t\t\t\tPressed.y = mouseY;\r\n\t\t\t\t\t\t\t//if(Mode.Training && Task.test[k3].Word == Task.asked.Word) {\r\n\t\t\t\t\t\t\tif(Mode.Training) {\r\n\t\t\t\t\t\t\t\tdrawTest();\r\n\t\t\t\t\t\t\t\ttop = TopforTap;\r\n\t\t\t\t\t\t\t\tedge = edgeforTap;\r\n\t\t\t\t\t\t\t\tvar wordFrame = (Task.test.concat())[k3][frametype2];\r\n\t\t\t\t\t\t\t\t//ctx.drawImage(atlas.AnimalsWordsframe, wordFrame.x, wordFrame.y, wordFrame.w, wordFrame.h, (Array[k3]).x*Math.min(Screen.k_width, Screen.k_height), (Array[k3].y)*Math.min(Screen.k_width, Screen.k_height), (Array[k3].w)*Math.min(Screen.k_width, Screen.k_height), (Array[k3].h)*Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\t\t\t\tctx.drawImage(atlas[Task.TopicName + frametype2], wordFrame.x, wordFrame.y, wordFrame.w, wordFrame.h, (Array[k3]).x*Math.min(Screen.k_width, Screen.k_height), (Array[k3].y)*Math.min(Screen.k_width, Screen.k_height), (Array[k3].w)*Math.min(Screen.k_width, Screen.k_height), (Array[k3].h)*Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\t\t\t\tctx.drawImage(atlas[Task.TopicName + frametype2], wordFrame.x, wordFrame.y, wordFrame.w, wordFrame.h, (Array[k3] - 6).x*Math.min(Screen.k_width, Screen.k_height), (Array[k3].y)*Math.min(Screen.k_width, Screen.k_height), (Array[k3].w)*Math.min(Screen.k_width, Screen.k_height), (Array[k3].h)*Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\t\t\t\t\t\tvar Hand_frame =  Properties.Buttons[\"tap.png\"];\r\n\t\t\t\t\t\t\t\tvar Hand = {};\r\n\t\t\t\t\t\t\t\tHand.h = 3/2*setWordHeight();\r\n\t\t\t\t\t\t\t\tHand.w = Hand.h * Hand_frame.w / Hand_frame.h;\r\n\t\t\t\t\t\t\t\tvar wordFrame = (Task.test.concat())[Task.test.indexOf(Task.asked)][frametype2];\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tdrawDrag( (edge + center/2-wordFrame.w*word_height/wordFrame.h/2) + wordFrame.w*word_height/wordFrame.h / 2 - Hand.w / 2, top, Hand.w, Hand.h);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tk3 = -1;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tdelete Pressed.x;\r\n\t\t\t\t\t\t\tdelete Pressed.y;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcatch(e){}\r\n\t\t\t}\r\n\t\t}\r\n\tvar loading = new Image();\r\n\t//var stop_loading = false;\r\n\tloading.loadedLoading;\r\n\tfunction loadLoading(){\r\n\t\tloading.src = '/img/Loading/loading.png';\r\n\t\tloading.addEventListener(\"load\", function() {\r\n\t\t\tloading.loadedLoading = true;\r\n\t\t})\r\n\t}\r\n\tfunction drawLoading(){\r\n\t\t/*if(!stop_loading) {\r\n\t\t\tctx.clearRect(Screen.width / 2 - 48*Math.min(Screen.k_width, Screen.k_height), Screen.height / 2 - 48*Math.min(Screen.k_width, Screen.k_height), 48*Math.min(Screen.k_width, Screen.k_height), 48*Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\tctx.drawImage(loading, current * 48, 0, 48, 48, Screen.width / 2 - 48*Math.min(Screen.k_width, Screen.k_height), Screen.height / 2 - 48*Math.min(Screen.k_width, Screen.k_height), 48*Math.min(Screen.k_width, Screen.k_height), 48*Math.min(Screen.k_width, Screen.k_height));\r\n\t\t\tif(current < 16)\r\n\t\t\t\tcurrent++;\r\n\t\t\telse\r\n\t\t\t\tcurrent = 0;\r\n\t\t\tsetTimeout(function(){\r\n\t\t\t\tdrawLoading();\r\n\t\t\t}, 200);\r\n\t\t}*/\r\n\t\tdocument.getElementById(\"Loading\").style.visibility = \"visible\";\r\n\r\n\t\t\r\n\t}\r\n\tvar current = 0;\r\n\tloadLoading();\r\n\ttry {\r\n\t\tloadButtons();\r\n\t\tloadAnimals();\r\n\t\tloadAnimalsWords();\r\n\t\tloadMenuItems();\r\n\t}\r\n\tcatch(e){}\r\n\tvar Properties = {};\r\n\tProperties.Topics = [];\r\n\tProfile.LoggedIn = false;\r\n\tsocket.on('Old session', function(data) {\r\n\t\tProfile.UserName = data.user.UserName;\r\n\t\tProfile.Password = data.user.Password;\r\n\t\tProfile.Accent = data.user.Accent;\r\n\t\tProfile.LoggedIn = true;\r\n\t})\r\n\tfunction displayMenu() {\r\n\t\ttry{\r\n\t\t\tvar frame = Properties.Buttons[\"left-arrow.png\"].frame;\r\n\t\t\tif(Properties.Tasks.length && Properties.Topics.length) {\r\n\t\t\t\trespondCanvas();\r\n\t\t\t\tMenuItem.ItemList = [];\r\n\t\t\t\tfor (i = 0; i < MenuItem.itemsCount; i++) {\r\n\t\t\t\t\tMenuItem.ItemList[i] = Properties.Topics[i].Name;\r\n\t\t\t\t}\r\n\t\t\t\tTask.itemsCount = [];\r\n\t\t\t\tMenuItem.itemsCount = (Properties.Topics).length;\r\n\t\t\t\tfor (q = 0; q < MenuItem.itemsCount; q++) {\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\tTask.itemsCount[q] = Properties.Tasks[q].length;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcatch(e){\r\n\t\t\t\t\t\tTask.itemsCount[q] = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(e) {\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\tdisplayMenu();\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t}\r\n\tfunction getProperties() {\r\n\t\tsocket.on('getProperties', function(data){\r\n\t\t\tProperties.Topics = data.topics;\r\n\t\t\tProperties.Tasks = data.tasks;\r\n\t\t\tProperties.Buttons = data.buttons;\r\n\t\t\tProperties.Forms = data.forms;\r\n\t\t\tProperties.Numbers = data.numbers;\r\n\t\t\tProperties.Letters = data.letters;\r\n\t\t\tcurrent = 0;\r\n\t\t\tdrawLoading();\r\n\t\t\tconsole.log(data);\r\n\t\t\t//loadButtons(l_a_x, l_a_y, l_a_width, l_a_height, r_a_x, r_a_y, r_a_width, r_a_height);\r\n\t\t\tdisplayMenu();\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t})\r\n\t}\r\n\tgetProperties();\r\n\t\r\n\t\r\n});\r\n})();\r\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/index.js\n// module id = 2\n// module chunks = 0"],"sourceRoot":""}